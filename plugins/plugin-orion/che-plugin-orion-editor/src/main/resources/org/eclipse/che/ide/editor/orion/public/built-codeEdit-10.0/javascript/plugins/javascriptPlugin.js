!function(e,t){"function"==typeof define&&define.amd?define([],t):(e.orion=e.orion||{},e.orion.webtools=e.orion.webtools||{},e.orion.webtools.javascript=t())}(this,function(){var e,t,n;return function(r){function i(e,t){return x.call(e,t)}function o(e,t){var n,r,i,o,a,s,l,c,u,p,f=t&&t.split("/"),d=y.map,h=d&&d["*"]||{};if(e&&"."===e.charAt(0))if(t){for(f=f.slice(0,f.length-1),e=f.concat(e.split("/")),c=0;c<e.length;c+=1)if(p=e[c],"."===p)e.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((f||h)&&d){for(n=e.split("/"),c=n.length;c>0;c-=1){if(r=n.slice(0,c).join("/"),f)for(u=f.length;u>0;u-=1)if(i=d[f.slice(0,u).join("/")],i&&(i=i[r])){o=i,a=c;break}if(o)break;!s&&h&&h[r]&&(s=h[r],l=c)}!o&&s&&(o=s,a=l),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function a(e,t){return function(){return d.apply(r,S.call(arguments,0).concat([e,t]))}}function s(e){return function(t){return o(t,e)}}function l(e){return function(t){g[e]=t}}function c(e){if(i(v,e)){var t=v[e];delete v[e],b[e]=!0,f.apply(r,t)}if(!i(g,e)&&!i(b,e))throw new Error("No "+e);return g[e]}function u(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function p(e){return function(){return y&&y.config&&y.config[e]||{}}}var f,d,h,m,g={},v={},y={},b={},x=Object.prototype.hasOwnProperty,S=[].slice;h=function(e,t){var n,r=u(e),i=r[0];return e=r[1],i&&(i=o(i,t),n=c(i)),i?e=n&&n.normalize?n.normalize(e,s(t)):o(e,t):(e=o(e,t),r=u(e),i=r[0],e=r[1],i&&(n=c(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},m={require:function(e){return a(e)},exports:function(e){var t=g[e];return"undefined"!=typeof t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:p(e)}}},f=function(e,t,n,o){var s,u,p,f,d,y,x=[];if(o=o||e,"function"==typeof n){for(t=!t.length&&n.length?["require","exports","module"]:t,d=0;d<t.length;d+=1)if(f=h(t[d],o),u=f.f,"require"===u)x[d]=m.require(e);else if("exports"===u)x[d]=m.exports(e),y=!0;else if("module"===u)s=x[d]=m.module(e);else if(i(g,u)||i(v,u)||i(b,u))x[d]=c(u);else{if(!f.p)throw new Error(e+" missing "+u);f.p.load(f.n,a(o,!0),l(u),{}),x[d]=g[u]}p=n.apply(g[e],x),e&&(s&&s.exports!==r&&s.exports!==g[e]?g[e]=s.exports:p===r&&y||(g[e]=p))}else e&&(g[e]=n)},e=t=d=function(e,t,n,i,o){return"string"==typeof e?m[e]?m[e](t):c(h(e,t).f):(e.splice||(y=e,t.splice?(e=t,t=n,n=null):e=r),t=t||function(){},"function"==typeof n&&(n=i,i=o),i?f(r,e,t,n):setTimeout(function(){f(r,e,t,n)},4),d)},d.config=function(e){return y=e,d},n=function(e,t,n){t.splice||(n=t,t=[]),i(g,e)||i(v,e)||(v[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("almond",function(){}),function(e,t){"function"==typeof n&&n.amd?n("orion/Deferred",t):"object"==typeof exports?module.exports=t():(e.orion=e.orion||{},e.orion.Deferred=t())}(this,function(){function e(){for(var e;e=o.shift();)e();a=!1}function t(e){o.push(e),a||(a=!0,s())}function n(e){return function(t){e(t)}}function r(e,t,r){try{var i=e(t),o=i&&("object"==typeof i||"function"==typeof i)&&i.then;if("function"==typeof o)if(i===r.promise)r.reject(new TypeError);else{var a=i.cancel;"function"==typeof a?r._parentCancel=a.bind(i):delete r._parentCancel,o.call(i,n(r.resolve),n(r.reject),n(r.progress))}else r.resolve(i)}catch(s){r.reject(s)}}function i(){function e(){for(var e;e=c.shift();){var t=e.deferred,n="fulfilled"===l?"resolve":"reject",i=e[n];"function"==typeof i?r(i,s,t):t[n](s)}}function n(n){delete u._parentCancel,l="rejected",s=n,c.length&&t(e)}function o(r){function a(e){return function(t){l&&"assumed"!==l||e(t)}}delete u._parentCancel;try{var p=r&&("object"==typeof r||"function"==typeof r)&&r.then;if("function"==typeof p)if(r===u)n(new TypeError);else{l="assumed";var f=r&&r.cancel;if("function"!=typeof f){var d=new i;r=d.promise;try{p(d.resolve,d.reject,d.progress)}catch(h){d.reject(h)}f=r.cancel,p=r.then}s=r,p.call(r,a(o),a(n)),u._parentCancel=f.bind(r)}else l="fulfilled",s=r,c.length&&t(e)}catch(m){a(n)(m)}}function a(){var e=u._parentCancel;if(e)delete u._parentCancel,e();else if(!l){var t=new Error("Cancel");t.name="Cancel",n(t)}}var s,l,c=[],u=this;this.resolve=function(e){return l||o(e),u},this.reject=function(e){return l||n(e),u},this.progress=function(e){return l||c.forEach(function(t){if(t.progress)try{t.progress(e)}catch(n){}}),u.promise},this.cancel=function(){return u._parentCancel?setTimeout(a,0):a(),u},this.then=function(n,r,o){var a=new i;return a._parentCancel=u.promise.cancel,c.push({resolve:n,reject:r,progress:o,deferred:a}),("fulfilled"===l||"rejected"===l)&&t(e),a.promise},this.promise={then:u.then,cancel:u.cancel}}var o=[],a=!1,s=function(){if("undefined"!=typeof process&&"function"==typeof process.nextTick){var t=process.nextTick;return function(){t(e)}}if("function"==typeof MutationObserver){var n=document.createElement("div"),r=new MutationObserver(e);return r.observe(n,{attributes:!0}),function(){n.setAttribute("class","_tick")}}return function(){setTimeout(e,0)}}();return i.all=function(e,t){function n(e,t){s||(a[e]=t,0===--o&&l.resolve(a))}function r(e,r){if(!s){if(t)try{return void n(e,t(r))}catch(i){r=i}l.reject(r)}}var o=e.length,a=[],s=!1,l=new i;return l.then(void 0,function(){s=!0,e.forEach(function(e){e.cancel&&e.cancel()})}),0===o?l.resolve(a):e.forEach(function(e,t){e.then(n.bind(void 0,t),r.bind(void 0,t))}),l.promise},i.when=function(e,t,n,r){var o,a;return e&&"function"==typeof e.then?o=e:(a=new i,a.resolve(e),o=a.promise),o.then(t,n,r)},i}),function(e,r){"function"==typeof n&&n.amd?n("orion/plugin",["orion/Deferred"],r):"object"==typeof exports?module.exports=r(t("orion/Deferred")):(e.orion=e.orion||{},e.orion.PluginProvider=r(e.orion.Deferred))}(this,function(e){function t(e,t){this.__objectId=e,this.__methods=t}function n(n){function r(e,t){t=t||_,t&&("undefined"==typeof ArrayBuffer&&(e=JSON.stringify(e)),t===self||w?t.postMessage(e):t.postMessage(e,"*"))}function i(e){"undefined"!=typeof localStorage&&localStorage.pluginLogging&&console.log(e+"("+((new Date).getTime()-L)+"ms)="+self.location)}function o(){var e=(new Date).getTime();T&&4e3>e-T||(T=e,r({method:"loading"}),i("heartbeat"))}function a(){var e=[];return Object.keys(S).forEach(function(t){var n=S[t];e.push({serviceId:t,names:n.names,methods:n.methods,properties:n.properties})}),{headers:d||{},services:e}}function s(e,t){if(t&&t instanceof XMLHttpRequest){var n,r;try{n=t.status,r=t.statusText}catch(i){n=0,r=""}return{status:n||0,statusText:r}}return t}function l(e){var t=e?JSON.parse(JSON.stringify(e,s)):e;return e instanceof Error&&(t.__isError=!0,t.message=t.message||e.message,t.name=t.name||e.name),t}function c(n,r){if(r=r||_,!r)return(new e).reject(new Error("plugin not connected"));n.id=String(m++);var i=new e;b[n.id]=i,i.then(null,function(e){h&&e instanceof Error&&"Cancel"===e.name&&k({requestId:n.id,method:"cancel",params:e.message?[e.message]:[]},r)});var o=Object.prototype.toString;return n.params.forEach(function(e,r){if("[object Object]"===o.call(e)&&!(e instanceof t)){var a,s;for(a in e)"[object Function]"===o.call(e[a])&&(s=s||[],s.push(a));if(s){var l=g++;x[l]=e;var c=function(){delete x[l]};i.then(c,c),n.params[r]=new t(l,s)}}}),k(n,r),i.promise}function u(e,t,n){e||0===e?k({id:e,result:null,error:t},n):console.log(t)}function p(e,t,n,r,i){r.forEach(function(e,t){if(e&&"undefined"!=typeof e.__objectId){var n={};e.__methods.forEach(function(t){n[t]=function(){return c({objectId:e.__objectId,method:t,params:Array.prototype.slice.call(arguments)},i)}}),r[t]=n}});var o="undefined"==typeof e?null:{id:e,result:null,error:null};try{var a=n.apply(t,r);if(!o)return;a&&"function"==typeof a.then?(y[e]=a,a.then(function(t){delete y[e],o.result=t,k(o,i)},function(t){y[e]&&(delete y[e],o.error=l(t),k(o,i))},function(){k({responseId:e,method:"progress",params:Array.prototype.slice.call(arguments)},i)})):(o.result=a,k(o,i))}catch(s){o&&(o.error=l(s),k(o,i))}}function f(e,t){if(w||e.source===_||"undefined"==typeof window){var n=e.data,r="string"!=typeof n?n:JSON.parse(n);try{if(r.method){var i=r.method,o=r.params||[];if("serviceId"in r){var a=S[r.serviceId];a?(a=a.implementation,i in a?p(r.id,a,a[i],o,t):u(r.id,"method not found",t)):u(r.id,"service not found",t)}else if("objectId"in r){var s=x[r.objectId];s?!i in s?p(r.id,s,s[i],o,t):u(r.id,"method not found",t):u(r.id,"object not found",t)}else if("requestId"in r){var l=y[r.requestId];l&&"cancel"===i&&l.cancel&&l.cancel.apply(l,o)}else{if(!("responseId"in r))throw new Error("Bad method: "+r.method);var c=b[r.responseId];c&&"progress"===i&&c.progress&&c.progress.apply(c,o)}}else if(r.id){var f=b[String(r.id)];f&&(delete b[String(r.id)],r.error?f.reject(r.error):f.resolve(r.result))}}catch(d){console.log("Plugin._messageHandler "+d)}}}var d=n,h=!1,m=0,g=0,v=0,y={},b={},x={},S={},E=[],w=!1,_=null;"undefined"==typeof window?self.postMessage?_=self:w=!0:window!==window.parent?_=window.parent:null!==window.opener&&(_=window.opener);var k=r,C=function(e){r({method:"error",error:l(e.error)})};addEventListener("error",C);var T,L=(new Date).getTime();o(),w&&self.addEventListener("connect",function(e){var t=e.ports[0];if(E.push(t),h){var n={method:"plugin",params:[a()]};r(n,t)}else o();t.addEventListener("message",function(e){f(e,t)}),t.start()}),this.updateHeaders=function(e){if(h)throw new Error("Cannot update headers. Plugin Provider is connected");d=e},this.registerService=function(e,t,n){if(h)throw new Error("Cannot register service. Plugin Provider is connected");"string"==typeof e?e=[e]:Array.isArray(e)||(e=[]);var r=null,i=[];for(r in t)"function"==typeof t[r]&&i.push(r);S[v++]={names:e,methods:i,implementation:t,properties:n||{},listeners:{}},o()},this.registerServiceProvider=this.registerService,this.connect=function(e,t){if(h)return void(e&&e());removeEventListener("error",C);var n={method:"plugin",params:[a()]};if(!w){if(!_)return void(t&&t("No valid plugin target"));addEventListener("message",f,!1),r(n)}E.forEach(function(e){r(n,e)}),h=!0,e&&e()},this.disconnect=function(){h&&(removeEventListener("message",f),E.forEach(function(e){e.close()}),E=null,_=null,h=!1)}}return n}),n("orion/EventTarget",[],function(){function e(){this._namedListeners={}}return e.prototype={dispatchEvent:function(e){if(!e.type)throw new Error("unspecified type");var t=this._namedListeners[e.type];return t&&t.forEach(function(t){try{"function"==typeof t?t(e):t.handleEvent(e)}catch(n){"undefined"!=typeof console&&console.log(n)}}),!e.defaultPrevented},addEventListener:function(e,t){("function"==typeof t||t.handleEvent)&&(this._namedListeners[e]=this._namedListeners[e]||[],this._namedListeners[e].push(t))},removeEventListener:function(e,t){var n=this._namedListeners[e];if(n)for(var r=0;r<n.length;r++)if(n[r]===t){1===n.length?delete this._namedListeners[e]:n.splice(r,1);break}}},e.prototype.constructor=e,e.attach=function(t){var n=new e;t.dispatchEvent=n.dispatchEvent.bind(n),t.addEventListener=n.addEventListener.bind(n),t.removeEventListener=n.removeEventListener.bind(n)},e}),n("orion/serviceregistry",["orion/Deferred","orion/EventTarget"],function(e,t){function n(e,t,n){this._properties=n||{},this._properties["service.id"]=e,this._properties.objectClass=t,this._properties["service.names"]=t}function r(e,t,n){this._serviceId=e,this._serviceReference=t,this._internalRegistry=n}function i(t,n){function r(r){return function(){var i;try{if(!n())throw new Error("Service was unregistered");var o=t[r].apply(t,Array.prototype.slice.call(arguments));if(o&&"function"==typeof o.then)return o;i=new e,i.resolve(o)}catch(a){i=new e,i.reject(a)}return i.promise}}var i;for(i in t)"function"==typeof t[i]&&(this[i]=r(i))}function o(e,t){this.type=e,this.serviceReference=t}function a(){this._entries=[],this._namedReferences={},this._serviceEventTarget=new t;var e=this;this._internalRegistry={isRegistered:function(t){return e._entries[t]?!0:!1},unregisterService:function(t){var n=e._entries[t];if(!n)throw new Error("Service has already been unregistered: "+t);var r=n.reference;e._serviceEventTarget.dispatchEvent(new o("unregistering",r)),e._entries[t]=null;var i=r.getProperty("objectClass");i.forEach(function(t){for(var n=e._namedReferences[t],i=0;i<n.length;i++)if(n[i]===r){1===n.length?delete e._namedReferences[t]:n.splice(i,1);break}})},modifyService:function(t){var n=e._entries[t];if(!n)throw new Error("Service not found while trying to send modified event: "+t);var r=n.reference;e._serviceEventTarget.dispatchEvent(new o("modified",r))}}}return n.prototype={getPropertyKeys:function(){var e,t=[];for(e in this._properties)this._properties.hasOwnProperty(e)&&t.push(e);return t},getProperty:function(e){return this._properties[e]}},n.prototype.constructor=n,r.prototype={unregister:function(){this._internalRegistry.unregisterService(this._serviceId)},getReference:function(){if(!this._internalRegistry.isRegistered(this._serviceId))throw new Error("Service has already been unregistered: "+this._serviceId);return this._serviceReference},setProperties:function(e){var t=this._serviceReference._properties;this._serviceReference._properties=e||{},e["service.id"]=this._serviceId,e.objectClass=t.objectClass,e["service.names"]=t["service.names"],this._internalRegistry.modifyService(this._serviceId)}},r.prototype.constructor=r,a.prototype={getService:function(e){var t;if("string"==typeof e){var n=this._namedReferences[e];n&&n.some(function(e){return t=this._entries[e.getProperty("service.id")].service,!!t},this)}else{var r=this._entries[e.getProperty("service.id")];r&&(t=r.service)}return t||null},getServiceReferences:function(e){if(e)return this._namedReferences[e]?this._namedReferences[e]:[];var t=[];return this._entries.forEach(function(e){e&&t.push(e.reference)}),t},registerService:function(e,t,a){if("undefined"==typeof t||null===t)throw new Error("invalid service");"string"==typeof e?e=[e]:Array.isArray(e)||(e=[]);var s=this._entries.length,l=new n(s,e,a),c=this._namedReferences;e.forEach(function(e){c[e]=c[e]||[],c[e].push(l)});var u=new i(t,this._internalRegistry.isRegistered.bind(null,s));this._entries.push({reference:l,service:u});var p=this._internalRegistry;return this._serviceEventTarget.dispatchEvent(new o("registered",l)),new r(s,l,p)},addEventListener:function(e,t){this._serviceEventTarget.addEventListener(e,t)},removeEventListener:function(e,t){this._serviceEventTarget.removeEventListener(e,t)}},a.prototype.constructor=a,{ServiceRegistry:a}}),n("orion/bootstrap",["orion/Deferred","orion/serviceregistry"],function(e,t){function n(){if(r)return r;r=new e;var n=new t.ServiceRegistry,i={serviceRegistry:n};return r.resolve(i)}var r;return{startup:n}}),function(){"use strict";function e(e,t,n,r,i,o){t[e]&&(n.push(e),(t[e]===!0||1===t[e])&&r.push(i+e+"/"+o))}function r(e,n,r,i,o){var a=i+n+"/"+o;t._fileExists(e.toUrl(a+".js"))&&r.push(a)}function i(e,t,n){var r;for(r in t)!t.hasOwnProperty(r)||e.hasOwnProperty(r)&&!n?"object"==typeof t[r]&&(!e[r]&&t[r]&&(e[r]={}),i(e[r],t[r],n)):e[r]=t[r]}var o=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;n("i18n",["module"],function(t){var n=t.config?t.config():{};return{version:"2.0.4",load:function(t,a,s,l){l=l||{},l.locale&&(n.locale=l.locale);var c,u,p,f=o.exec(t),d=f[1],h=f[4],m=f[5],g=h.split("-"),v=[],y={},b="";if(f[5]?(d=f[1],c=d+m):(c=t,m=f[4],h=n.locale,h||(h=n.locale="undefined"==typeof navigator?"root":(navigator.language||navigator.userLanguage||"root").toLowerCase()),g=h.split("-")),l.isBuild){for(v.push(c),r(a,"root",v,d,m),u=0;u<g.length;u++)p=g[u],b+=(b?"-":"")+p,r(a,b,v,d,m);if(l.locales){var x,S;for(x=0;x<l.locales.length;x++)for(h=l.locales[x],g=h.split("-"),b="",S=0;S<g.length;S++)p=g[S],b+=(b?"-":"")+p,r(a,b,v,d,m)}a(v,function(){s()})}else a([c],function(t){var n,r=[];for(e("root",t,r,v,d,m),u=0;u<g.length;u++)n=g[u],b+=(b?"-":"")+n,e(b,t,r,v,d,m);a(v,function(){var e,n,o;for(e=r.length-1;e>-1&&r[e];e--)o=r[e],n=t[o],(n===!0||1===n)&&(n=a(d+o+"/"+m)),i(y,n);s(y)})})}}})}(),n("orion/navigate/nls/messages",{root:!0}),n("orion/navigate/nls/root/messages",{Navigator:"Navigator","Strings Xtrnalizr":"Strings Xtrnalizr","Externalize strings":"Externalize strings from JavaScript files in this folder.",NotSupportFileSystem:"${0} is not supported in this file system",SrcNotSupportBinRead:"Source file service does not support binary read",TargetNotSupportBinWrite:"Target file service does not support binary write",NoFileSrv:"No matching file service for location: ${0}","Choose a Folder":"Choose a Folder","Copy of ${0}":"Copy of ${0}",EnterName:"Enter a new name for '${0}'",ChooseFolder:"Choose folder...",Rename:"Rename",RenameFilesFolders:"Rename the selected files or folders",CompareEach:"Compare with each other","Compare 2 files":"Compare the selected 2 files with each other","Compare with...":"Compare With...",CompareFolders:"Compare the selected folder with a specified folder",Delete:"Delete","Unknown item":"Unknown item","delete item msg":"Are you sure you want to delete these ${0} items?",DeleteTrg:"Are you sure you want to delete '${0}'?",Zip:"Zip",ZipDL:"Create a zip file of the folder contents and download it","New File":"File","Create a new file":"Create a new file",FailedToCreateProject:"Failed to create project: ${0}",FailedToCreateFile:"Failed to create file: ${0}",CopyFailed:"Copy operation failed",MoveFailed:"Move operation failed","Name:":"Name:","New Folder":"Folder","Folder name:":"Folder name:","Create a new folder":"Create a new folder","Creating folder":"Creating folder",Folder:"Folder","Create an empty folder":"Create an empty folder",CreateEmptyMsg:"Create an empty folder on the Orion server. You can import, upload, or create content in the editor.","Sample HTML5 Site":"Sample HTML5 Site","Generate a sample":"Generate a sample",'Generate an HTML5 "Hello World" website, including JavaScript, HTML, and CSS files.':'Generate an HTML5 "Hello World" website, including JavaScript, HTML, and CSS files.',"Creating a folder for ${0}":"Creating a folder for ${0}","SFTP Import":"SFTP Import","Import content from SFTP":"Import content from SFTP","Imported Content":"Imported Content","Upload a Zip":"Upload a Zip","Upload content from a local zip file":"Upload content from a local zip file","Uploaded Content":"Uploaded Content","Clone Git Repository":"Clone Git Repository","Clone a git repository":"Clone a git repository","Link to Server":"Link to Server",LinkContent:"Link to existing content on the server",CreateLinkedFolder:"Create a folder that links to an existing folder on the server.","Server path:":"Server path:",NameLocationNotClear:"The name and server location were not specified.","Go Up":"Go Up",GoUpToParent:"Move up to the parent folder","Go Into":"Go Into",GoSelectedFolder:"Move into the selected folder","File or zip archive":"File or Zip Archive",ImportLcFile:"Import a file or zip archive from your local file system","SFTP from...":"SFTP",CpyFrmSftp:"Copy files and folders from a specified SFTP connection","Importing from ${0}":"Importing from ${0}","SFTP to...":"SFTP",CpyToSftp:"Copy files and folders to a specified SFTP location",Exporting:"Exporting to ${0}","Pasting ${0}":"Pasting ${0}","Copy to":"Copy to","Move to":"Move to","Copying ${0}":"Copying ${0}","Moving ${0}":"Moving ${0}","Renaming ${0}":"Renaming ${0}","Deleting ${0}":"Deleting ${0}","Creating ${0}":"Creating ${0}","Linking to ${0}":"Linking to ${0}",MvToLocation:"Move files and folders to a new location",Cut:"Cut",Copy:"Copy","Fetching children of ":"Fetching children of ",Paste:"Paste","Open With":"Open With","Loading ":"Loading ",New:"New",File:"File",Actions:"Actions","Orion Content":"Orion Content","Create new content":"Create new content","Import from HTTP...":"HTTP","File URL:":"File URL:",ImportURL:"Import a file from a URL and optionally unzip it","Unzip *.zip files:":"Unzip *.zip files:","Extracted from:":"Extracted from:",FolderDropNotSupported:"Did not drop ${0}. Folder drop is not supported in this browser.",CreateFolderErr:"You cannot copy files directly into the workspace. Create a folder first.","Unzip ${0}?":"Unzip ${0}?","Upload progress: ":"Upload progress: ","Uploading ":"Uploading ","Cancel upload":"Cancel upload",UploadingFileErr:"Uploading the following file failed: ","Enter project name:":"Enter project name:","Create new project":"Create new project","Creating project ${0}":"Creating project ${0}",NoFile:"Use the ${0} menu to create new files and folders. Click a file to start coding.",Download:"Download",Download_tooltips:"Download the file contents as the displayed name","Downloading...":"Reading file contents...","Download not supported":"Contents download is not supported in this browser.",gettingContentFrom:"Getting content from ",confirmLaunchDelete:'Delete Launch Configuration "${0}" ?',deletingLaunchConfiguration:"Deleting launch configuration...",deployTo:"Deploy to ",deploy:"Deploy ",connect:"Connect",fetchContent:"Fetch content",fetchContentOf:"Fetch content of ",disconnectFromProject:"Disconnect from project",doNotTreatThisFolder:"Do not treat this folder as a part of the project",checkStatus:"Check status",checkApplicationStatus:"Check application status",checkApplicationState:"Check application state",stop:"Stop",start:"Start",stopApplication:"Stop the App",startApplication:"Start the application",manage:"Manage",manageThisApplicationOnRemote:"Manage this application on remote server",deleteLaunchConfiguration:"Delete this launch configuration",editLaunchConfiguration:"Edit this launch configuration",deployThisApplication:"Deploy the App from the Workspace",associatedFolder:"Associated Folder",associateAFolderFromThe:"Associate a folder from the workspace with this project.",convertToProject:"Convert to project",convertThisFolderIntoA:"Convert this folder into a project",thisFolderIsAProject:"This folder is a project already.",basic:"Basic","createAnEmptyProject.":"Create an empty project.",sFTP:"SFTP",createAProjectFromAn:"Create a project from an SFTP site.",readMeCommandName:"Readme File",readMeCommandTooltip:"Create a README.md file in this project",zipArchiveCommandName:"Zip Archive",zipArchiveCommandTooltip:"Create a project from a local zip archive.","Url:":"Url:",notZip:"The following files are not zip files: ${0}. Would you like to continue the import?",notZipMultiple:"There are multiple non-zip files being uploaded. Would you like to continue the import?",Cancel:"Cancel",Ok:"Ok",missingCredentials:"Enter the ${0} authentication credentials associated with ${1} to check its status.",deploying:"deploying",starting:"restarting",stopping:"stopping",checkingStateShortMessage:"checking status"}),n("orion/i18nUtil",[],function(){function e(e){var t=/\$\{([^\}]+)\}/g,n=arguments;return 2===n.length&&n[1]&&"object"==typeof n[1]?e.replace(t,function(e,t){return n[1][t]}):e.replace(t,function(e,t){return n[(t<<0)+1]})}return{formatMessage:e}}),n("orion/fileClient",["i18n!orion/navigate/nls/messages","orion/Deferred","orion/i18nUtil"],function(e,t,n){function r(t,r,i){if(!t[r])throw new Error(n.formatMessage(e.NotSupportFileSystem,r));return t[r].apply(t,i)}function i(n,o,a,s){if(!n.readBlob)throw new Error(e.SrcNotSupportBinRead);if(!a.writeBlob)throw new Error(e.TargetNotSupportBinWrite);if("/"!==o[o.length-1])return r(n,"readBlob",[o]).then(function(e){return r(a,"writeBlob",[s,e])});var l=s.substring(0,s.length-1),c=decodeURIComponent(l.substring(l.lastIndexOf("/")+1)),u=l.substring(0,l.lastIndexOf("/")+1);return r(a,"createFolder",[u,c]).then(function(){},function(){}).then(function(){return r(n,"fetchChildren",[o]).then(function(e){for(var r=[],o=0;o<e.length;++o){var l=e[o].Location,c=l;e[o].Directory&&(c=l.substring(0,l.length-1));var u=decodeURIComponent(c.substring(c.lastIndexOf("/")+1)),p=s+encodeURIComponent(u);e[o].Directory&&(p+="/"),r[o]=i(n,l,a,p)}return t.all(r)})})}function o(r,i){function o(n){var r=new t;return r.reject(e["No Matching FileService for location:"]+n),r}var a=r.getServiceReferences("orion.core.file"),s=a;if(i){s=[];for(var l=0;l<a.length;++l)i(a[l])&&s.push(a[l])}s.sort(function(e,t){var n=e.getProperty("ranking")||0,r=t.getProperty("ranking")||0;return n-r});for(var c=[],u=[],p=[],f=[],d={fetchChildren:function(){var e=new t;return e.resolve(f),e},createWorkspace:function(){var n=new t;return n.reject(e["no file service"]),n},loadWorkspaces:function(){var n=new t;return n.reject(e["no file service"]),n},loadWorkspace:function(){var n=new t;return window.setTimeout(function(){n.resolve({Directory:!0,Length:0,LocalTimeStamp:0,Name:e["File Servers"],Location:"/",Children:f,ChildrenLocation:"/"})},100),n},search:o,createProject:o,createFolder:o,createFile:o,deleteFile:o,moveFile:o,copyFile:o,read:o,write:o},h=0;h<s.length;++h){f[h]={Directory:!0,Length:0,LocalTimeStamp:0,Location:s[h].getProperty("top"),ChildrenLocation:s[h].getProperty("top"),Name:s[h].getProperty("Name")||s[h].getProperty("NameKey")};var m=s[h].getProperty("top"),g=s[h].getProperty("pattern")||(m?m.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"):"");Array.isArray(g)||(g=[g]);for(var v=[],y=0;y<g.length;y++){var b=g[y];"^"!==b[0]&&(b="^"+b),v.push(new RegExp(b))}c[h]=v,u[h]=r.getService(s[h]),p[h]=s[h].getProperty("Name")||s[h].getProperty("NameKey")}this._getServiceIndex=function(t){if("/"===t)return-1;if(!t||t.length&&0===t.length)return u[0]?0:-1;for(var r=0;r<c.length;++r)for(var i=0;i<c[r].length;i++)if(c[r][i].test(t))return r;throw new Error(n.formatMessage(e.NoFileSrv,t))},this._getService=function(e){var t=this._getServiceIndex(e);return-1===t?d:u[t]},this._getServiceName=function(e){var t=this._getServiceIndex(e);return-1===t?d.Name:p[t]},this._getServiceRootURL=function(e){var t=this._getServiceIndex(e);return-1===t?d.Location:f[t].Location}}return o.prototype={getService:function(e){return this._getService(e)},fileServiceName:function(e){return this._getServiceName(e)},fileServiceRootURL:function(e){return this._getServiceRootURL(e)},fetchChildren:function(e){return r(this._getService(e),"fetchChildren",arguments)},createWorkspace:function(){return r(this._getService(),"createWorkspace",arguments)},loadWorkspaces:function(){return r(this._getService(),"loadWorkspaces",arguments)},loadWorkspace:function(e){return r(this._getService(e),"loadWorkspace",arguments)},createProject:function(e){return r(this._getService(e),"createProject",arguments)},createFolder:function(e){return r(this._getService(e),"createFolder",arguments)},createFile:function(e){return r(this._getService(e),"createFile",arguments)},deleteFile:function(e){return r(this._getService(e),"deleteFile",arguments)},moveFile:function(e,t,n){var o=this._getService(e),a=this._getService(t);if(o===a)return r(o,"moveFile",arguments);var s="/"===e[e.length-1],l=t;if("/"!==l[l.length-1]&&(l+="/"),n)l+=encodeURIComponent(n);else{var c=e;s&&(c=c.substring(0,c.length-1)),l+=c.substring(c.lastIndexOf("/")+1)}return s&&"/"!==l[l.length-1]&&(l+="/"),i(o,e,a,l).then(function(){return r(o,"deleteFile",[e])})},copyFile:function(e,t,n){var o=this._getService(e),a=this._getService(t);if(o===a)return r(o,"copyFile",arguments);var s="/"===e[e.length-1],l=t;if("/"!==l[l.length-1]&&(l+="/"),n)l+=encodeURIComponent(n);else{var c=e;s&&(c=c.substring(0,c.length-1)),l+=c.substring(c.lastIndexOf("/")+1)}return s&&"/"!==l[l.length-1]&&(l+="/"),i(o,e,a,l)},read:function(e){return r(this._getService(e),"read",arguments)},readBlob:function(e){return r(this._getService(e),"readBlob",arguments)},write:function(e){return r(this._getService(e),"write",arguments)},remoteImport:function(e){return r(this._getService(e),"remoteImport",arguments)},remoteExport:function(e){return r(this._getService(e),"remoteExport",arguments)},search:function(e){return r(this._getService(e.resource),"search",arguments)}},o.prototype.constructor=o,{FileClient:o}}),n("orion/metrics",[],function(){function e(e,t){var n=window.location.protocol+"//"+window.location.hostname+window.location.pathname+window.location.search,r=window.location.pathname+window.location.search,i=document.title;o=e,o.forEach(function(e){e.pageLoad(n,r,i,t)})}function t(t,n){var r=t.getServiceReferences("orion.metrics"),i=[];r.forEach(function(e){i.push(t.getService(e))}),e(i,n)}function n(e,t,n,r){o.forEach(function(i){i.logEvent(e,t,n||"",r)})}function r(e,t){if(window.performance){if(window.performance.getEntriesByName&&window.performance.mark){if(window.performance.getEntriesByName(e).length)return;window.performance.mark(e)}else{if(a[e])return;a[e]=new Date}i("page",e,window.performance.now(),t)}}function i(e,t,n,r){o.forEach(function(i){i.logTiming(e,t,n,r)})}var o=[],a={};return{init:e,initFromRegistry:t,logEvent:n,logPageLoadTiming:r,logTiming:i}}),function(e,t){"use strict";"function"==typeof n&&n.amd?n("esprima/esprima",["exports"],t):t("undefined"!=typeof exports?exports:e.esprima={})}(this,function(e){"use strict";function t(e,t){if(!e)throw new Error("ASSERT: "+t)}function n(e){return e>=48&&57>=e}function r(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function i(e){return"01234567".indexOf(e)>=0}function o(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function a(e){return 10===e||13===e||8232===e||8233===e}function s(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||92===e||e>=128&&Fn.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function l(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||e>=48&&57>=e||92===e||e>=128&&Fn.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function c(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function u(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function p(e){return"eval"===e||"arguments"===e}function f(e){if(In&&u(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function d(e,n,r,i,o){var a;t("number"==typeof r,"Comment must have valid position"),zn.lastCommentStart=r,a={type:e,value:n},Jn.range&&(a.range=[r,i]),Jn.loc&&(a.loc=o),Jn.comments.push(a),Jn.attachComment&&(Jn.leadingComments.push(a),Jn.trailingComments.push(a))}function h(e){var t,n,r,i;for(t=Nn-e,n={start:{line:Rn,column:Nn-Dn-e}};Hn>Nn;)if(r=On.charCodeAt(Nn),++Nn,a(r))return Mn=!0,Jn.comments&&(i=On.slice(t+e,Nn-1),n.end={line:Rn,column:Nn-Dn-1},d("Line",i,t,Nn-1,n)),13===r&&10===On.charCodeAt(Nn)&&++Nn,++Rn,void(Dn=Nn);Jn.comments&&(i=On.slice(t+e,Nn),n.end={line:Rn,column:Nn-Dn},d("Line",i,t,Nn,n))}function m(){var e,t,n,r;for(Jn.comments&&(e=Nn-2,t={start:{line:Rn,column:Nn-Dn-2}});Hn>Nn;)if(n=On.charCodeAt(Nn),a(n))13===n&&10===On.charCodeAt(Nn+1)&&++Nn,Mn=!0,++Rn,++Nn,Dn=Nn;else if(42===n){if(47===On.charCodeAt(Nn+1))return++Nn,++Nn,void(Jn.comments&&(r=On.slice(e+2,Nn-2),t.end={line:Rn,column:Nn-Dn},d("Block",r,e,Nn,t)));++Nn}else++Nn;Nn>=Hn&&Jn.comments?(t.end={line:Rn,column:Nn-Dn},r=On.slice(e+2,Nn),d("Block",r,e,Nn,t),X()):Z()}function g(){var e,t;for(Mn=!1,t=0===Nn;Hn>Nn;)if(e=On.charCodeAt(Nn),o(e))++Nn;else if(a(e))Mn=!0,++Nn,13===e&&10===On.charCodeAt(Nn)&&++Nn,++Rn,Dn=Nn,t=!0;else if(47===e)if(e=On.charCodeAt(Nn+1),47===e)++Nn,++Nn,h(2),t=!0;else{if(42!==e)break;++Nn,++Nn,m()}else if(t&&45===e){if(45!==On.charCodeAt(Nn+1)||62!==On.charCodeAt(Nn+2))break;Nn+=3,h(3)}else{if(60!==e)break;if("!--"!==On.slice(Nn+1,Nn+4))break;
++Nn,++Nn,++Nn,++Nn,h(4)}}function v(e){var t,n,i,o=0;for(n="u"===e?4:2,t=0;n>t;++t){if(!(Hn>Nn&&r(On[Nn])))return"";i=On[Nn++],o=16*o+"0123456789abcdef".indexOf(i.toLowerCase())}return String.fromCharCode(o)}function y(){var e,t,n,i;for(e=On[Nn],t=0,"}"===e&&Z();Hn>Nn&&(e=On[Nn++],r(e));)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&Z(),65535>=t?String.fromCharCode(t):(n=(t-65536>>10)+55296,i=(t-65536&1023)+56320,String.fromCharCode(n,i))}function b(){var e,t;for(e=On.charCodeAt(Nn++),t=String.fromCharCode(e),92===e&&(117!==On.charCodeAt(Nn)&&Z(),++Nn,e=v("u"),e&&"\\"!==e&&s(e.charCodeAt(0))||Z(),t=e);Hn>Nn&&(e=On.charCodeAt(Nn),l(e));)++Nn,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==On.charCodeAt(Nn)&&Z(),++Nn,e=v("u"),e&&"\\"!==e&&l(e.charCodeAt(0))||Z(),t+=e);return t}function x(){var e,t;for(e=Nn++;Hn>Nn;){if(t=On.charCodeAt(Nn),92===t)return Nn=e,b();if(!l(t))break;++Nn}return On.slice(e,Nn)}function S(){var e,t,n;return e=Nn,t=92===On.charCodeAt(Nn)?b():x(),n=1===t.length?kn.Identifier:f(t)?kn.Keyword:"null"===t?kn.NullLiteral:"true"===t||"false"===t?kn.BooleanLiteral:kn.Identifier,{type:n,value:t,lineNumber:Rn,lineStart:Dn,start:e,end:Nn}}function E(){var e,t,n,r,i=Nn,o=On.charCodeAt(Nn),a=On[Nn];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Nn,Jn.tokenize&&(40===o?Jn.openParenToken=Jn.tokens.length:123===o&&(Jn.openCurlyToken=Jn.tokens.length)),{type:kn.Punctuator,value:String.fromCharCode(o),lineNumber:Rn,lineStart:Dn,start:i,end:Nn};default:if(e=On.charCodeAt(Nn+1),61===e)switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Nn+=2,{type:kn.Punctuator,value:String.fromCharCode(o)+String.fromCharCode(e),lineNumber:Rn,lineStart:Dn,start:i,end:Nn};case 33:case 61:return Nn+=2,61===On.charCodeAt(Nn)&&++Nn,{type:kn.Punctuator,value:On.slice(i,Nn),lineNumber:Rn,lineStart:Dn,start:i,end:Nn}}}if(r=On.substr(Nn,4),">>>="===r)return Nn+=4,{type:kn.Punctuator,value:r,lineNumber:Rn,lineStart:Dn,start:i,end:Nn};if(n=r.substr(0,3),">>>"===n||"<<="===n||">>="===n)return Nn+=3,{type:kn.Punctuator,value:n,lineNumber:Rn,lineStart:Dn,start:i,end:Nn};if(t=n.substr(0,2),a===t[1]&&"+-<>&|".indexOf(a)>=0||"=>"===t)return Nn+=2,{type:kn.Punctuator,value:t,lineNumber:Rn,lineStart:Dn,start:i,end:Nn};if("<>=!+-*%&|^/".indexOf(a)>=0)return++Nn,{type:kn.Punctuator,value:a,lineNumber:Rn,lineStart:Dn,start:i,end:Nn};++Nn;var s={type:kn.Punctuator,lineNumber:Rn,lineStart:Dn,start:i,end:Nn,value:On.slice(i,Nn)};Z(s)}function w(e){for(var t="";Hn>Nn&&r(On[Nn]);)t+=On[Nn++];return 0===t.length&&Z(),s(On.charCodeAt(Nn))&&Z(),{type:kn.NumericLiteral,value:parseInt("0x"+t,16),lineNumber:Rn,lineStart:Dn,start:e,end:Nn}}function _(e){var t,r;for(r="";Hn>Nn&&(t=On[Nn],"0"===t||"1"===t);)r+=On[Nn++];return 0===r.length&&Z(),Hn>Nn&&(t=On.charCodeAt(Nn),(s(t)||n(t))&&Z()),{type:kn.NumericLiteral,value:parseInt(r,2),lineNumber:Rn,lineStart:Dn,start:e,end:Nn}}function k(e,t){var r,o;for(i(e)?(o=!0,r="0"+On[Nn++]):(o=!1,++Nn,r="");Hn>Nn&&i(On[Nn]);)r+=On[Nn++];return o||0!==r.length||Z(),(s(On.charCodeAt(Nn))||n(On.charCodeAt(Nn)))&&Z(),{type:kn.NumericLiteral,value:parseInt(r,8),octal:o,lineNumber:Rn,lineStart:Dn,start:t,end:Nn}}function C(){var e,t;for(e=Nn+1;Hn>e;++e){if(t=On[e],"8"===t||"9"===t)return!1;if(!i(t))return!0}return!0}function T(){var e,r,o;if(o=On[Nn],t(n(o.charCodeAt(0))||"."===o,"Numeric literal must start with a decimal digit or a decimal point"),r=Nn,e="","."!==o){if(e=On[Nn++],o=On[Nn],"0"===e){if("x"===o||"X"===o)return++Nn,w(r);if("b"===o||"B"===o)return++Nn,_(r);if("o"===o||"O"===o)return k(o,r);if(i(o)&&C())return k(o,r)}for(;n(On.charCodeAt(Nn));)e+=On[Nn++];o=On[Nn]}if("."===o){for(e+=On[Nn++];n(On.charCodeAt(Nn));)e+=On[Nn++];o=On[Nn]}if("e"===o||"E"===o)if(e+=On[Nn++],o=On[Nn],("+"===o||"-"===o)&&(e+=On[Nn++]),n(On.charCodeAt(Nn)))for(;n(On.charCodeAt(Nn));)e+=On[Nn++];else Z();return s(On.charCodeAt(Nn))&&Z(),{type:kn.NumericLiteral,value:parseFloat(e),lineNumber:Rn,lineStart:Dn,start:r,end:Nn}}function L(){var e,n,r,o,s,l,c="",u=!1;for(e=On[Nn],t("'"===e||'"'===e,"String literal must starts with a quote"),n=Nn,++Nn;Hn>Nn;){if(r=On[Nn++],r===e){e="";break}if("\\"===r)if(r=On[Nn++],r&&a(r.charCodeAt(0)))++Rn,"\r"===r&&"\n"===On[Nn]&&++Nn,Dn=Nn;else switch(r){case"u":case"x":"{"===On[Nn]?(++Nn,c+=y()):(l=Nn,s=v(r),s?c+=s:(Nn=l,c+=r));break;case"n":c+="\n";break;case"r":c+="\r";break;case"t":c+="	";break;case"b":c+="\b";break;case"f":c+="\f";break;case"v":c+="";break;default:i(r)?(o="01234567".indexOf(r),0!==o&&(u=!0),Hn>Nn&&i(On[Nn])&&(u=!0,o=8*o+"01234567".indexOf(On[Nn++]),"0123".indexOf(r)>=0&&Hn>Nn&&i(On[Nn])&&(o=8*o+"01234567".indexOf(On[Nn++]))),c+=String.fromCharCode(o)):c+=r}else{if(a(r.charCodeAt(0)))break;c+=r}}var p={type:kn.StringLiteral,value:c,octal:u,lineNumber:Gn,lineStart:Wn,start:n,end:Nn};return""!==e&&X(p),p}function A(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(e,t){return parseInt(t,16)<=1114111?"x":void Z(null,jn.InvalidRegExp)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{RegExp(n)}catch(r){Z(null,jn.InvalidRegExp)}try{return new RegExp(e,t)}catch(i){return null}}function P(){var e,n,r,i,o;for(e=On[Nn],t("/"===e,"Regular expression literal must start with a slash"),n=On[Nn++],r=!1,i=!1;Hn>Nn;)if(e=On[Nn++],n+=e,"\\"===e)e=On[Nn++],a(e.charCodeAt(0))&&Z(null,jn.UnterminatedRegExp),n+=e;else if(a(e.charCodeAt(0)))Z(null,jn.UnterminatedRegExp);else if(r)"]"===e&&(r=!1);else{if("/"===e){i=!0;break}"["===e&&(r=!0)}return i||Z(Kn,jn.UnterminatedRegExp),o=n.substr(1,n.length-2),{value:o,literal:n}}function j(){var e,t,n,r;for(t="",n="";Hn>Nn&&(e=On[Nn],l(e.charCodeAt(0)));)if(++Nn,"\\"===e&&Hn>Nn)if(e=On[Nn],"u"===e){if(++Nn,r=Nn,e=v("u"))for(n+=e,t+="\\u";Nn>r;++r)t+=On[r];else Nn=r,n+="u",t+="\\u";X()}else t+="\\",X();else n+=e,t+=e;return{value:n,literal:t}}function F(){qn=!0;var e,t,n,r;return g(),e=Nn,t=P(),n=j(),r=A(t.value,n.value),qn=!1,Jn.tokenize?{type:kn.RegularExpression,value:r,regex:{pattern:t.value,flags:n.value},lineNumber:Rn,lineStart:Dn,start:e,end:Nn}:{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Nn}}function O(){var e,t,n,r;return g(),e=Nn,t={start:{line:Rn,column:Nn-Dn}},n=F(),t.end={line:Rn,column:Nn-Dn},Jn.tokenize||(Jn.tokens.length>0&&(r=Jn.tokens[Jn.tokens.length-1],r.range[0]===e&&"Punctuator"===r.type&&("/"===r.value||"/="===r.value)&&Jn.tokens.pop()),Jn.tokens.push({type:"RegularExpression",value:n.literal,regex:n.regex,range:[e,Nn],loc:t})),n}function I(e){return e.type===kn.Identifier||e.type===kn.Keyword||e.type===kn.BooleanLiteral||e.type===kn.NullLiteral}function N(){var e,t;if(e=Jn.tokens[Jn.tokens.length-1],!e)return O();if("Punctuator"===e.type){if("]"===e.value)return E();if(")"===e.value)return t=Jn.tokens[Jn.openParenToken-1],!t||"Keyword"!==t.type||"if"!==t.value&&"while"!==t.value&&"for"!==t.value&&"with"!==t.value?E():O();if("}"===e.value){if(Jn.tokens[Jn.openCurlyToken-3]&&"Keyword"===Jn.tokens[Jn.openCurlyToken-3].type){if(t=Jn.tokens[Jn.openCurlyToken-4],!t)return E()}else{if(!Jn.tokens[Jn.openCurlyToken-4]||"Keyword"!==Jn.tokens[Jn.openCurlyToken-4].type)return E();if(t=Jn.tokens[Jn.openCurlyToken-5],!t)return O()}return Tn.indexOf(t.value)>=0?E():O()}return O()}return"Keyword"===e.type&&"this"!==e.value?O():E()}function R(){var e;return Nn>=Hn?{type:kn.EOF,lineNumber:Rn,lineStart:Dn,start:Nn,end:Nn,range:[Nn,Nn]}:(e=On.charCodeAt(Nn),s(e)?S():40===e||41===e||59===e?E():39===e||34===e?L():46===e?n(On.charCodeAt(Nn+1))?T():E():n(e)?T():Jn.tokenize&&47===e?N():E())}function D(){var e,t,n,r;return e={start:{line:Rn,column:Nn-Dn}},t=R(),e.end={line:Rn,column:Nn-Dn},t.type!==kn.EOF&&(n=On.slice(t.start,t.end),r={type:Cn[t.type],value:n,range:[t.start,t.end],loc:e},t.regex&&(r.regex={pattern:t.regex.pattern,flags:t.regex.flags}),Jn.tokens.push(r)),t}function M(){var e;return qn=!0,Vn=Nn,$n=Rn,Un=Dn,g(),e=Kn,Bn=Nn,Gn=Rn,Wn=Dn,Kn="undefined"!=typeof Jn.tokens?D():R(),qn=!1,e}function V(){qn=!0,g(),Vn=Nn,$n=Rn,Un=Dn,Bn=Nn,Gn=Rn,Wn=Dn,Kn="undefined"!=typeof Jn.tokens?D():R(),qn=!1}function $(e){if(Jn.deps)for(var t=e.length,n=0;t>n;n++)U(e[n])}function U(e){if(Jn.deps&&e.type===Ln.Literal){for(var t=0;t<Jn.deps.length;t++)if(Jn.deps[t].value===e.value)return;Jn.deps.push(e)}}function B(e,t){if(Jn.deps){var n=t.length;if("importScripts"===e.name)$(t);else if("Worker"===e.name)U(t[0]);else if("require"===e.name){var r=t[0];r.type===Ln.ArrayExpression?(Jn.envs.node=!0,$(r.elements)):r.type===Ln.Literal&&(Jn.envs.node=!0,U(r)),n>1&&(r=t[1],r.type===Ln.ArrayExpression&&(Jn.envs.node=!0,$(r.elements)))}else"requirejs"===e.name?(r=t[0],r.type===Ln.ArrayExpression&&(Jn.envs.amd=!0,$(r.elements))):"define"===e.name&&n>1&&(r=t[0],r.type===Ln.Literal&&(r=t[1]),r.type===Ln.ArrayExpression&&(Jn.envs.amd=!0,$(r.elements)))}}function G(){this.line=Gn,this.column=Bn-Wn}function W(){this.start=new G,this.end=null}function q(e){this.start={line:e.lineNumber,column:e.start-e.lineStart},this.end=null}function H(){Jn.loc&&(this.loc=new W),Jn.range&&(this.range=[Bn,0]),Jn.directSourceFile&&(this.sourceFile=Jn.directSourceFile)}function K(e){Jn.loc&&(this.loc=new q(e)),Jn.range&&(this.range=[e.start,0]),Jn.directSourceFile&&(this.sourceFile=Jn.directSourceFile)}function z(e,t,n,r){var i=new Error("Line "+e+": "+n);if(i.index=t,i.lineNumber=e,i.column=t-(qn?Dn:Un)+1,i.description=n,r){var o=r;2===r.type&&Jn&&Array.isArray(Jn.tokens)&&Jn.tokens.length>0&&(o=Jn.tokens[Jn.tokens.length-1]),i.index="number"==typeof o.start?o.start:o.range[0],i.token=o.value,i.end="number"==typeof o.end?o.end:o.range[1]}return i}function J(e){var n,r;throw n=Array.prototype.slice.call(arguments,1),r=e.replace(/%(\d)/g,function(e,r){return t(r<n.length,"Message reference must be in range"),n[r]}),z($n,Vn,r)}function Q(e){var n,r,i;if(n=Array.prototype.slice.call(arguments,1),r=e.replace(/%(\d)/g,function(e,r){return t(r<n.length,"Message reference must be in range"),n[r]}),i=z(Rn,Vn,r),!Jn.errors)throw i;Jn.errors.push(i)}function Y(e,t,n){var r=t||jn.UnexpectedToken;e&&!t&&(r=e.type===kn.EOF?jn.UnexpectedEOS:e.type===kn.Identifier?jn.UnexpectedIdentifier:e.type===kn.NumericLiteral?jn.UnexpectedNumber:e.type===kn.StringLiteral?jn.UnexpectedString:jn.UnexpectedToken,e.type===kn.Keyword&&(c(e.value)?r=jn.UnexpectedReserved:In&&u(e.value)&&(r=jn.StrictReservedWord)));var i=null!=n?n:e?e.value:"ILLEGAL";return r=r.replace("%0",i),e&&"number"==typeof e.lineNumber?z(e.lineNumber,e.start,r,e):z(qn?Rn:$n,qn?Nn:Vn,r,e)}function Z(e,t){throw Y(e,t)}function X(e,t,n){var r=Y(e,t,n);if(!Jn.errors)throw r;Jn.errors.push(r)}function et(e){var t=M();(t.type!==kn.Punctuator||t.value!==e)&&Z(t)}function tt(e){var t;if(Jn.errors)if(t=Kn,t.type===kn.Punctuator&&","===t.value)M();else if(t.type===kn.Punctuator&&";"===t.value)if(M(),Kn.value===e)X(t,jn.UnexpectedToken,";");else{var n=e&&e!==t.value?e:";";Jn.tokens&&Jn.tokens.length>0&&(t=Jn.tokens[Jn.tokens.length-2]),X(t,jn.MissingToken,n)}else t.type!==kn.EOF&&(Jn.tokens&&Jn.tokens.length>0&&(t=Jn.tokens[Jn.tokens.length-2]),X(t,jn.MissingToken,","));else et(",")}function nt(e){var t=M();(t.type!==kn.Keyword||t.value!==e)&&Z(t)}function rt(e){return Kn.type===kn.Punctuator&&Kn.value===e}function it(e){return Kn.type===kn.Keyword&&Kn.value===e}function ot(){var e;return Kn.type!==kn.Punctuator?!1:(e=Kn.value,"="===e||"*="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e)}function at(){try{if(59===On.charCodeAt(Bn)||rt(";"))return void M();if(Mn)return;if(Vn=Bn,$n=Gn,Un=Wn,Kn.type!==kn.EOF&&!rt("}")){var e=Kn;Jn.errors&&xn(Wn),Z(e)}}catch(t){if(Jn.errors)return void vn(t);throw t}}function st(e){return e.type===Ln.Identifier||e.type===Ln.MemberExpression}function lt(){var e=[],t=new H;for(et("[");!rt("]");)rt(",")?(M(),e.push(null)):(e.push(Pt()),rt("]")||et(","));return M(),t.finishArrayExpression(e)}function ct(e,t){var n,r,i=new H;return n=In,r=rn(),t&&In&&p(e[0].name)&&X(t,jn.StrictParamName),In=n,i.finishFunctionExpression(null,e,[],r)}function ut(){var e,t=new H;return e=M(),e.type===kn.StringLiteral||e.type===kn.NumericLiteral?(In&&e.octal&&X(e,jn.StrictOctalLiteral),t.finishLiteral(e)):t.finishIdentifier(e.value)}function pt(){var e,t,n,r,i,o=new H;return e=Kn,e.type===kn.Identifier?(n=ut(),"get"!==e.value||rt(":")||rt("(")?"set"!==e.value||rt(":")||rt("(")?_n(e,n,o):(t=ut(),et("("),e=Kn,e.type!==kn.Identifier?(et(")"),X(e),r=ct([])):(i=[It()],et(")"),r=ct(i,e)),o.finishProperty("set",t,r,!1,!1)):(t=ut(),et("("),et(")"),r=ct([]),o.finishProperty("get",t,r,!1,!1))):e.type!==kn.EOF&&e.type!==kn.Punctuator?_n(e,ut(),o):void Z(e)}function ft(){var e,t,n,r,i=[],o={},a=String,s=new H;for(et("{");!rt("}");)e=pt(),null!=e&&"undefined"!=typeof e&&(t=e.key.type===Ln.Identifier?e.key.name:a(e.key.value),r="init"===e.kind?Pn.Data:"get"===e.kind?Pn.Get:Pn.Set,n="$"+t,Object.prototype.hasOwnProperty.call(o,n)?(o[n]===Pn.Data?In&&r===Pn.Data?Q(jn.StrictDuplicateProperty):r!==Pn.Data&&Q(jn.AccessorDataProperty):r===Pn.Data?Q(jn.AccessorDataProperty):o[n]&r&&Q(jn.AccessorGetSet),o[n]|=r):o[n]=r,i.push(e),rt("}")||tt("}"));return et("}"),s.finishObjectExpression(i)}function dt(){var e;return et("("),rt(")")?(M(),An.ArrowParameterPlaceHolder):(++zn.parenthesisCount,e=jt(),et(")"),e)}function ht(){var e,t,n,r;if(rt("("))return dt();if(rt("["))return lt();if(rt("{"))return ft();if(e=Kn.type,r=new H,e===kn.Identifier)n=r.finishIdentifier(M().value);else if(e===kn.StringLiteral||e===kn.NumericLiteral)In&&Kn.octal&&X(Kn,jn.StrictOctalLiteral),n=r.finishLiteral(M());else if(e===kn.Keyword){if(it("function"))return cn();it("this")?(M(),n=r.finishThisExpression()):Z(M())}else e===kn.BooleanLiteral?(t=M(),t.value="true"===t.value,n=r.finishLiteral(t)):e===kn.NullLiteral?(t=M(),t.value=null,n=r.finishLiteral(t)):rt("/")||rt("/=")?(Nn=Bn,t="undefined"!=typeof Jn.tokens?O():F(),M(),n=r.finishLiteral(t)):Z(M());return n}function mt(){var e=[];if(et("("),!rt(")"))for(;Hn>Bn&&(e.push(Pt()),!rt(")"));)tt(")");return gn(")"),e}function gt(){var e,t=new H;try{e=M(),I(e)||(Jn.errors&&En(e),Z(e))}catch(n){if(Jn.errors)return vn(n),wn(t,Ln.Identifier);throw n}return t.finishIdentifier(e.value)}function vt(){return et("."),gt()}function yt(){var e;return et("["),e=jt(),et("]"),e}function bt(){var e,t,n=new H;return nt("new"),e=St(),t=rt("(")?mt():[],n.finishNewExpression(e,t)}function xt(){var e,t,n,r,i=zn.allowIn;for(r=Kn,zn.allowIn=!0,e=it("new")?bt():ht();;)if(rt("."))n=vt(),e=new K(r).finishMemberExpression(".",e,n);else if(rt("("))t=mt(),e=new K(r).finishCallExpression(e,t);else{if(!rt("["))break;n=yt(),e=new K(r).finishMemberExpression("[",e,n)}return zn.allowIn=i,e}function St(){var e,n,r;for(t(zn.allowIn,"callee of new expression always allow in keyword."),r=Kn,e=it("new")?bt():ht();;)if(rt("["))n=yt(),e=new K(r).finishMemberExpression("[",e,n);else{if(!rt("."))break;n=vt(),e=new K(r).finishMemberExpression(".",e,n)}return e}function Et(){var e,t,n=Kn;return e=xt(),Mn||Kn.type!==kn.Punctuator||(rt("++")||rt("--"))&&(In&&e.type===Ln.Identifier&&p(e.name)&&Q(jn.StrictLHSPostfix),st(e)||Q(jn.InvalidLHSInAssignment),t=M(),e=new K(n).finishPostfixExpression(t.value,e)),e}function wt(){var e,t,n;return Kn.type!==kn.Punctuator&&Kn.type!==kn.Keyword?t=Et():rt("++")||rt("--")?(n=Kn,e=M(),t=wt(),In&&t.type===Ln.Identifier&&p(t.name)&&Q(jn.StrictLHSPrefix),st(t)||Q(jn.InvalidLHSInAssignment),t=new K(n).finishUnaryExpression(e.value,t)):rt("+")||rt("-")||rt("~")||rt("!")?(n=Kn,e=M(),t=wt(),t=new K(n).finishUnaryExpression(e.value,t)):it("delete")||it("void")||it("typeof")?(n=Kn,e=M(),t=wt(),t=new K(n).finishUnaryExpression(e.value,t),In&&"delete"===t.operator&&t.argument.type===Ln.Identifier&&Q(jn.StrictDelete)):t=Et(),t}function _t(e,t){var n=0;if(e.type!==kn.Punctuator&&e.type!==kn.Keyword)return 0;switch(e.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=t?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function kt(){var e,t,n,r,i,o,a,s,l,c;if(e=Kn,l=wt(),l===An.ArrowParameterPlaceHolder)return l;if(r=Kn,i=_t(r,zn.allowIn),0===i)return l;for(r.prec=i,M(),t=[e,Kn],a=wt(),o=[l,r,a];(i=_t(Kn,zn.allowIn))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,l=o.pop(),t.pop(),n=new K(t[t.length-1]).finishBinaryExpression(s,l,a),o.push(n);r=M(),r.prec=i,o.push(r),t.push(Kn),n=wt(),o.push(n)}for(c=o.length-1,n=o[c],t.pop();c>1;)n=new K(t.pop()).finishBinaryExpression(o[c-1].value,o[c-2],n),c-=2;return n}function Ct(){var e,t,n,r,i;return i=Kn,e=kt(),e===An.ArrowParameterPlaceHolder?e:(rt("?")&&(M(),t=zn.allowIn,zn.allowIn=!0,n=Pt(),zn.allowIn=t,et(":"),r=Pt(),e=new K(i).finishConditionalExpression(e,n,r)),e)}function Tt(){return rt("{")?rn():Pt()}function Lt(e){var t,n,r,i,o,a,s,l,c;for(i=[],o=[],a=0,l=null,s={paramSet:{}},t=0,n=e.length;n>t;t+=1)if(r=e[t],r.type===Ln.Identifier)i.push(r),o.push(null),on(s,r,r.name);else{if(r.type!==Ln.AssignmentExpression)return null;i.push(r.left),o.push(r.right),++a,on(s,r.left,r.left.name)}return s.message===jn.StrictParamDupe&&(c=In?s.stricted:s.firstRestricted,Z(c,s.message)),0===a&&(o=[]),{params:i,defaults:o,rest:l,stricted:s.stricted,firstRestricted:s.firstRestricted,message:s.message}}function At(e,t){var n,r;return et("=>"),n=In,r=Tt(),In&&e.firstRestricted&&Z(e.firstRestricted,e.message),In&&e.stricted&&X(e.stricted,e.message),In=n,t.finishArrowFunctionExpression(e.params,e.defaults,r,r.type!==Ln.BlockStatement)}function Pt(){var e,t,n,r,i,o;return e=zn.parenthesisCount,o=Kn,t=Kn,n=Ct(),n!==An.ArrowParameterPlaceHolder&&!rt("=>")||zn.parenthesisCount!==e&&zn.parenthesisCount!==e+1||(n.type===Ln.Identifier?i=Lt([n]):n.type===Ln.AssignmentExpression?i=Lt([n]):n.type===Ln.SequenceExpression?i=Lt(n.expressions):n===An.ArrowParameterPlaceHolder&&(i=Lt([])),!i)?(ot()&&(st(n)||Q(jn.InvalidLHSInAssignment),In&&n.type===Ln.Identifier&&p(n.name)&&X(t,jn.StrictLHSAssignment),t=M(),r=Pt(),n=new K(o).finishAssignmentExpression(t.value,n,r)),n):At(i,new K(o))}function jt(){var e,t,n=Kn;if(e=Pt(),rt(",")){for(t=[e];Hn>Bn&&rt(",");)M(),t.push(Pt());e=new K(n).finishSequenceExpression(t)}return e}function Ft(){for(var e,t=[],n=Nn;Hn>Bn&&!rt("}")&&(e=un(),"undefined"!=typeof e&&n!==Nn);)t.push(e),n=Nn;return t}function Ot(){var e,t=new H;return et("{"),e=Ft(),gn("}"),t.finishBlockStatement(e)}function It(){var e,t=new H;return e=M(),e.type!==kn.Identifier&&(In&&e.type===kn.Keyword&&u(e.value)?X(e,jn.StrictReservedWord):Z(e)),t.finishIdentifier(e.value)}function Nt(e){var t,n=null,r=new H;return t=It(),In&&p(t.name)&&Q(jn.StrictVarName),"const"===e?(et("="),n=Pt()):rt("=")&&(M(),n=Pt()),r.finishVariableDeclarator(t,n)}function Rt(e){var t=[];do{if(t.push(Nt(e)),!rt(","))break;M()}while(Hn>Bn);return t}function Dt(e){var t;return nt("var"),t=Rt(),at(),e.finishVariableDeclaration(t,"var")}function Mt(e){var t,n=new H;return nt(e),t=Rt(e),at(),n.finishVariableDeclaration(t,e)}function Vt(){var e=new H;return et(";"),e.finishEmptyStatement()}function $t(e){var t=jt();return at(),t||(t=wn(e)),e.finishExpressionStatement(t)}function Ut(e){var t,n,r;return nt("if"),et("("),t=jt(),gn(")","{"),n=nn(),it("else")?(M(),r=nn()):r=null,e.finishIfStatement(t,n,r)}function Bt(e){var t,n,r;return nt("do"),r=zn.inIteration,zn.inIteration=!0,t=nn(),zn.inIteration=r,nt("while"),et("("),n=jt(),gn(")","{"),rt(";")&&M(),e.finishDoWhileStatement(t,n)}function Gt(e){var t,n,r;return nt("while"),et("("),t=jt(),gn(")","{"),r=zn.inIteration,zn.inIteration=!0,n=nn(),zn.inIteration=r,e.finishWhileStatement(t,n)}function Wt(){var e,t,n=new H;return e=M(),t=Rt(),n.finishVariableDeclaration(t,e.value)}function qt(e){var t,n,r,i,o,a,s,l=zn.allowIn;return t=n=r=null,nt("for"),et("("),rt(";")?M():(it("var")||it("let")?(zn.allowIn=!1,t=Wt(),zn.allowIn=l,1===t.declarations.length&&it("in")&&(M(),i=t,o=jt(),t=null)):(zn.allowIn=!1,t=jt(),zn.allowIn=l,it("in")&&(st(t)||Q(jn.InvalidLHSInForIn),M(),i=t,o=jt(),t=null)),"undefined"==typeof i&&et(";")),"undefined"==typeof i&&(rt(";")||(n=jt()),et(";"),rt(")")||(r=jt())),gn(")","{"),s=zn.inIteration,zn.inIteration=!0,a=nn(),zn.inIteration=s,"undefined"==typeof i?e.finishForStatement(t,n,r,a):e.finishForInStatement(i,o,a)}function Ht(e){var t,n=null;if(nt("continue"),59===On.charCodeAt(Bn))return M(),zn.inIteration||J(jn.IllegalContinue),e.finishContinueStatement(null);if(Mn)return zn.inIteration||J(jn.IllegalContinue),e.finishContinueStatement(null);if(Kn.type===kn.Identifier){var r=Kn;n=It(),t="$"+n.name,Object.prototype.hasOwnProperty.call(zn.labelSet,t)||X(r,jn.UnknownLabel,n.name)}return at(),null!==n||zn.inIteration||J(jn.IllegalContinue),e.finishContinueStatement(n)}function Kt(e){var t,n=null;return nt("break"),59===On.charCodeAt(Vn)?(M(),zn.inIteration||zn.inSwitch||J(jn.IllegalBreak),e.finishBreakStatement(null)):Mn?(zn.inIteration||zn.inSwitch||J(jn.IllegalBreak),e.finishBreakStatement(null)):(Kn.type===kn.Identifier&&(n=It(),t="$"+n.name,Object.prototype.hasOwnProperty.call(zn.labelSet,t)||J(jn.UnknownLabel,n.name)),at(),null!==n||zn.inIteration||zn.inSwitch||J(jn.IllegalBreak),e.finishBreakStatement(n))}function zt(e){var t=null,n=Kn;return nt("return"),zn.inFunctionBody||X(n,jn.IllegalReturn,n.value),32===On.charCodeAt(Vn)&&s(On.charCodeAt(Vn+1))?(t=jt(),at(),e.finishReturnStatement(t)):Mn?e.finishReturnStatement(null):(rt(";")||rt("}")||Kn.type===kn.EOF||(t=jt()),at(),e.finishReturnStatement(t))}function Jt(e){var t,n;return In&&Q(jn.StrictModeWith),nt("with"),et("("),t=jt(),gn(")","{"),n=nn(),e.finishWithStatement(t,n)}function Qt(){var e,t,n=[],r=new H;it("default")?(M(),e=null):(nt("case"),e=jt()),rt(":")&&M();for(var i=Nn;Hn>Bn&&!(rt("}")||it("default")||it("case"))&&(t=nn(),"undefined"!=typeof t&&null!==t)&&(n.push(t),i!==Nn);)i=Nn;return r.finishSwitchCase(e,n)}function Yt(e){var t,n,r,i,o;if(nt("switch"),et("("),t=jt(),et(")"),et("{"),n=[],rt("}"))return M(),e.finishSwitchStatement(t,n);for(i=zn.inSwitch,zn.inSwitch=!0,o=!1;Hn>Bn&&!rt("}");)r=Qt(),null===r.test&&(o&&J(jn.MultipleDefaultsInSwitch),o=!0),n.push(r);return zn.inSwitch=i,et("}"),e.finishSwitchStatement(t,n)}function Zt(e){var t;return nt("throw"),Mn&&J(jn.NewlineAfterThrow),t=jt(),at(),e.finishThrowStatement(t)}function Xt(){var e,t,n=new H;return nt("catch"),et("("),rt(")")&&Z(Kn),e=It(),In&&p(e.name)&&Q(jn.StrictCatchVariable),et(")"),t=Ot(),n.finishCatchClause(e,t)}function en(e){var t,n=[],r=null;return nt("try"),t=Ot(),it("catch")&&n.push(Xt()),it("finally")&&(M(),r=Ot()),0!==n.length||r||J(jn.NoCatchOrFinally),e.finishTryStatement(t,[],n,r)}function tn(e){return nt("debugger"),at(),e.finishDebuggerStatement()}function nn(){var e,t,n,r,i=Kn.type;if(i===kn.EOF&&Z(Kn),i===kn.Punctuator&&"{"===Kn.value)return Ot();if(r=new H,i===kn.Punctuator)switch(Kn.value){case";":return Vt(r);case"(":return $t(r)}else if(i===kn.Keyword)switch(Kn.value){case"break":return Kt(r);case"continue":return Ht(r);case"debugger":return tn(r);case"do":return Bt(r);case"for":return qt(r);case"function":return ln(r);case"if":return Ut(r);case"return":return zt(r);case"switch":return Yt(r);case"throw":return Zt(r);case"try":return en(r);case"var":return Dt(r);case"while":return Gt(r);case"with":return Jt(r)}return e=jt(),e&&e.type===Ln.Identifier&&rt(":")?(M(),n="$"+e.name,Object.prototype.hasOwnProperty.call(zn.labelSet,n)&&J(jn.Redeclaration,"Label",e.name),zn.labelSet[n]=!0,t=nn(),delete zn.labelSet[n],r.finishLabeledStatement(e,t)):(at(),e||(e=wn(r)),r.finishExpressionStatement(e))}function rn(){var e,t,n,r,i,o,a,s,l,c=[],u=new H;for(et("{");Hn>Bn&&Kn.type===kn.StringLiteral&&(t=Kn,e=un(),c.push(e),e.expression.type===Ln.Literal);)n=On.slice(t.start+1,t.end-1),"use strict"===n?(In=!0,r&&X(r,jn.StrictOctalLiteral)):!r&&t.octal&&(r=t);i=zn.labelSet,o=zn.inIteration,a=zn.inSwitch,s=zn.inFunctionBody,l=zn.parenthesizedCount,zn.labelSet={},zn.inIteration=!1,zn.inSwitch=!1,zn.inFunctionBody=!0,zn.parenthesizedCount=0;for(var p=Nn;Hn>Nn&&!rt("}")&&(e=un(),"undefined"!=typeof e&&null!=e)&&(c.push(e),p!==Nn);)p=Nn;return gn("}"),zn.labelSet=i,zn.inIteration=o,zn.inSwitch=a,zn.inFunctionBody=s,zn.parenthesizedCount=l,u.finishBlockStatement(c)}function on(e,t,n){var r="$"+n;In?(p(n)&&(e.stricted=t,e.message=jn.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=jn.StrictParamDupe)):e.firstRestricted||(p(n)?(e.firstRestricted=t,e.message=jn.StrictParamName):u(n)?(e.firstRestricted=t,e.message=jn.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.firstRestricted=t,e.message=jn.StrictParamDupe)),e.paramSet[r]=!0}function an(e){var t,n,r;return t=Kn,n=It(),on(e,t,t.value),rt("=")&&(M(),r=Pt(),++e.defaultCount),e.params.push(n),e.defaults.push(r),!rt(")")}function sn(e){var t;if(t={params:[],defaultCount:0,defaults:[],firstRestricted:e},et("("),!rt(")"))for(t.paramSet={};Hn>Bn&&an(t);)et(",");return et(")"),0===t.defaultCount&&(t.defaults=[]),{params:t.params,defaults:t.defaults,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}}function ln(){var e,t,n,r,i,o,a,s,l=[],c=[],f=new H;return nt("function"),n=Kn,e=It(),In?p(n.value)&&X(n,jn.StrictFunctionName):p(n.value)?(o=n,a=jn.StrictFunctionName):u(n.value)&&(o=n,a=jn.StrictReservedWord),i=sn(o),l=i.params,c=i.defaults,r=i.stricted,o=i.firstRestricted,i.message&&(a=i.message),s=In,t=rn(),In&&o&&Z(o,a),In&&r&&X(r,a),In=s,f.finishFunctionDeclaration(e,l,c,t)}function cn(){var e,t,n,r,i,o,a,s=null,l=[],c=[],f=new H;return nt("function"),rt("(")||(e=Kn,s=It(),In?p(e.value)&&X(e,jn.StrictFunctionName):p(e.value)?(n=e,r=jn.StrictFunctionName):u(e.value)&&(n=e,r=jn.StrictReservedWord)),i=sn(n),l=i.params,c=i.defaults,t=i.stricted,n=i.firstRestricted,i.message&&(r=i.message),a=In,o=rn(),In&&n&&Z(n,r),In&&t&&X(t,r),In=a,f.finishFunctionExpression(s,l,c,o)}function un(){if(Kn.type===kn.Keyword)switch(Kn.value){case"const":case"let":return Mt(Kn.value);case"function":return ln();default:return nn()}return Kn.type!==kn.EOF?nn():void 0}function pn(){for(var e,t,n,r,i=[];Hn>Bn&&(t=Kn,t.type===kn.StringLiteral)&&(e=un(),i.push(e),e.expression.type===Ln.Literal);)n=On.slice(t.start+1,t.end-1),"use strict"===n?(In=!0,r&&X(r,jn.StrictOctalLiteral)):!r&&t.octal&&(r=t);for(var o=Nn;Hn>Bn&&(e=un(),"undefined"!=typeof e&&null!==e)&&(i.push(e),o!==Nn);)o=Nn;return i}function fn(){var e,t;return V(),t=new H,In=!1,e=pn(),t.finishProgram(e)}function dn(){var e,t,n,r=[];for(e=0;e<Jn.tokens.length;++e)t=Jn.tokens[e],n={type:t.type,value:t.value},t.regex&&(n.regex={pattern:t.regex.pattern,flags:t.regex.flags}),Jn.range&&(n.range=t.range),Jn.loc&&(n.loc=t.loc),r.push(n);Jn.tokens=r}function hn(e,t){var n,r;n=String,"string"==typeof e||e instanceof String||(e=n(e)),On=e,Nn=0,Rn=On.length>0?1:0,Dn=0,Bn=Nn,Gn=Rn,Wn=Dn,Hn=On.length,Kn=null,zn={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},Jn={},t=t||{},t.tokens=!0,Jn.tokens=[],Jn.tokenize=!0,Jn.openParenToken=-1,Jn.openCurlyToken=-1,Jn.range="boolean"==typeof t.range&&t.range,Jn.loc="boolean"==typeof t.loc&&t.loc,"boolean"==typeof t.comment&&t.comment&&(Jn.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(Jn.errors=[]);try{if(V(),Kn.type===kn.EOF)return Jn.tokens;for(M();Kn.type!==kn.EOF;)try{M()}catch(i){if(Jn.errors){Jn.errors.push(i);break}throw i}dn(),r=Jn.tokens,"undefined"!=typeof Jn.comments&&(r.comments=Jn.comments),"undefined"!=typeof Jn.errors&&(r.errors=Jn.errors)}catch(o){throw o}finally{Jn={}}return r}function mn(e,t){var n,r;r=String,"string"==typeof e||e instanceof String||(e=r(e)),On=e,Nn=0,Rn=On.length>0?1:0,Dn=0,Bn=Nn,Gn=Rn,Wn=Dn,Hn=On.length,Kn=null,zn={allowIn:!0,labelSet:{},parenthesisCount:0,inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},Jn={},"undefined"!=typeof t&&("boolean"==typeof t.deps&&t.deps&&(Jn.deps=[],Jn.envs=Object.create(null)),Jn.range="boolean"==typeof t.range&&t.range,Jn.loc="boolean"==typeof t.loc&&t.loc,Jn.attachComment="boolean"==typeof t.attachComment&&t.attachComment,Jn.loc&&null!==t.source&&void 0!==t.source&&(Jn.source=r(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(Jn.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(Jn.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(Jn.errors=[],Jn.parseStatement=nn,Jn.parseExpression=jt,nn=bn(nn),jt=yn(jt)),Jn.attachComment&&(Jn.range=!0,Jn.comments=[],Jn.bottomRightStack=[],Jn.trailingComments=[],Jn.leadingComments=[]),Jn.directSourceFile=t.directSourceFile);try{n=fn(),"undefined"!=typeof Jn.comments&&(n.comments=Jn.comments),"undefined"!=typeof Jn.tokens&&(dn(),n.tokens=Jn.tokens),"undefined"!=typeof Jn.errors&&(n.errors=Jn.errors),"undefined"!=typeof Jn.deps&&(n.dependencies=Jn.deps,n.environments=Jn.envs)}catch(i){throw i}finally{"undefined"!=typeof Jn.errors&&(nn=Jn.parseStatement,jt=Jn.parseExpression),Jn={}}return n}function gn(e,t){try{et(e)}catch(n){if(!Jn.errors)throw n;vn(n),t&&On[n.index]===t&&(Nn=n.index,V())}}function vn(e){for(var t=Jn.errors.length,n=0;t>n;n++){var r=Jn.errors[n];if(r.index===e.index&&r.message===e.message)return}Jn.errors.push(e)}function yn(e){return function(){try{return e.apply(null,arguments)}catch(t){vn(t)}}}function bn(e){return function(){Jn.statementStart=Nn;try{return e.apply(null,arguments)}catch(t){vn(t)}}}function xn(e){for(var t=e;t>-1&&";"!==On[t]&&"\n"!==On[t];)t--;if(!(t<=Jn.statementStart)){var n=!1;Jn.lastRewindLocation?n=!0:Jn.lastRewindLocation!==t&&(n=!0),n&&(Nn=t,Sn(e),V(),Jn.lastRewindLocation=Nn)}}function Sn(e,t){for(var n=Jn.tokens.length-1;n>-1;){var r=Jn.tokens[n];if(r.range[0]<e){t&&Jn.tokens.pop();break}n--,Jn.tokens.pop()}return n}function En(e){if(e.value&&e.type===kn.Punctuator){var t=e.range?e.range[0]:e.start,n=Sn(t),r=Jn.tokens[n];r.type===Cn[kn.Punctuator]&&"."===r.value&&(Nn=r.range[0]+1,V())}}function wn(e,t,n){var r={type:"RecoveredNode",name:"",recovered:!0,expectedValue:n,expectedType:t};return Jn.range&&(r.range=e.range,r.range[1]=Nn,r.start=e.range,r.end=Nn),Jn.loc&&(r.loc=e.loc,r.loc.end=new G),r}function _n(e,t,n){if(Jn.errors){var r=Kn;if(":"===r.value)try{return r=M(),n.finishProperty("init",t,Pt(),!1,!0)}catch(i){return r=Jn.tokens[Jn.tokens.length-1],X(r,jn.UnexpectedToken,r.value),n.finishProperty("init",t,null,!1,!0),null}else{if(r.type===kn.Punctuator&&"}"===r.value)return X(e,jn.UnexpectedToken,e.value),n.finishProperty("init",t,!1,!0,!0),null;if(X(e,jn.UnexpectedToken,e.value),r.type===kn.Identifier||r.type===kn.StringLiteral)return n.finishProperty("init",t,!1,!0),null;for(;r.type!==kn.EOF;){if(r.type===kn.Punctuator&&(","===r.value||"}"===r.value))return n.finishProperty("init",t,!1,!0),null;r=M(),r=R()}}return n.finishProperty("init",t,!1,!0),null}return et(":"),n.finishProperty("init",t,Pt(),!1,!0)}var kn,Cn,Tn,Ln,An,Pn,jn,Fn,On,In,Nn,Rn,Dn,Mn,Vn,$n,Un,Bn,Gn,Wn,qn,Hn,Kn,zn,Jn;kn={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},Cn={},Cn[kn.BooleanLiteral]="Boolean",Cn[kn.EOF]="<end>",Cn[kn.Identifier]="Identifier",Cn[kn.Keyword]="Keyword",Cn[kn.NullLiteral]="Null",Cn[kn.NumericLiteral]="Numeric",Cn[kn.Punctuator]="Punctuator",Cn[kn.StringLiteral]="String",Cn[kn.RegularExpression]="RegularExpression",Tn=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],Ln={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},An={ArrowParameterPlaceHolder:{type:"ArrowParameterPlaceHolder"}},Pn={Data:1,Get:2,Set:4},jn={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",MissingToken:"Missing expected '%0'"},Fn={NonAsciiIdentifierStart:new RegExp("[--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")},K.prototype=H.prototype={processComment:function(){var e,t,n,r,i,o=Jn.bottomRightStack,a=o[o.length-1];
if(!(this.type===Ln.Program&&this.body.length>0)){if(Jn.trailingComments.length>0){for(n=[],r=Jn.trailingComments.length-1;r>=0;--r)i=Jn.trailingComments[r],i.range[0]>=this.range[1]&&(n.unshift(i),Jn.trailingComments.splice(r,1));Jn.trailingComments=[]}else a&&a.trailingComments&&a.trailingComments[0].range[0]>=this.range[1]&&(n=a.trailingComments,delete a.trailingComments);if(a)for(;a&&a.range[0]>=this.range[0];)e=a,a=o.pop();if(e)e.leadingComments&&e.leadingComments[e.leadingComments.length-1].range[1]<=this.range[0]&&(this.leadingComments=e.leadingComments,e.leadingComments=void 0);else if(Jn.leadingComments.length>0)for(t=[],r=Jn.leadingComments.length-1;r>=0;--r)i=Jn.leadingComments[r],i.range[1]<=this.range[0]&&(t.unshift(i),Jn.leadingComments.splice(r,1));t&&t.length>0&&(this.leadingComments=t),n&&n.length>0&&(this.trailingComments=n),o.push(this)}},finish:function(){Jn.loc&&(this.loc.end={line:$n,column:Vn-Un},Jn.source&&(this.loc.source=Jn.source)),Jn.range&&(this.range[1]=Vn,this.start=this.range[0],this.end=Vn),Jn.attachComment&&this.processComment()},finishArrayExpression:function(e){return this.type=Ln.ArrayExpression,this.elements=e,this.finish(),this},finishArrowFunctionExpression:function(e,t,n,r){return this.type=Ln.ArrowFunctionExpression,this.id=null,this.params=e,this.defaults=t,this.body=n,this.rest=null,this.generator=!1,this.expression=r,this.finish(),this},finishAssignmentExpression:function(e,t,n){return this.type=Ln.AssignmentExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishBinaryExpression:function(e,t,n){return this.type="||"===e||"&&"===e?Ln.LogicalExpression:Ln.BinaryExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishBlockStatement:function(e){return this.type=Ln.BlockStatement,this.body=e,this.finish(),this},finishBreakStatement:function(e){return this.type=Ln.BreakStatement,this.label=e,this.finish(),this},finishCallExpression:function(e,t){return this.type=Ln.CallExpression,this.callee=e,this.arguments=t,B(e,t),this.finish(),this},finishCatchClause:function(e,t){return this.type=Ln.CatchClause,this.param=e,this.body=t,this.finish(),this},finishConditionalExpression:function(e,t,n){return this.type=Ln.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n,this.finish(),this},finishContinueStatement:function(e){return this.type=Ln.ContinueStatement,this.label=e,this.finish(),this},finishDebuggerStatement:function(){return this.type=Ln.DebuggerStatement,this.finish(),this},finishDoWhileStatement:function(e,t){return this.type=Ln.DoWhileStatement,this.body=e,this.test=t,this.finish(),this},finishEmptyStatement:function(){return this.type=Ln.EmptyStatement,this.finish(),this},finishExpressionStatement:function(e){return this.type=Ln.ExpressionStatement,this.expression=e,this.finish(),this},finishForStatement:function(e,t,n,r){return this.type=Ln.ForStatement,this.init=e,this.test=t,this.update=n,this.body=r,this.finish(),this},finishForInStatement:function(e,t,n){return this.type=Ln.ForInStatement,this.left=e,this.right=t,this.body=n?n:wn(this,"Statement"),this.each=!1,this.finish(),this},finishFunctionDeclaration:function(e,t,n,r){return this.type=Ln.FunctionDeclaration,this.id=e,this.params=t,this.defaults=n,this.body=r,this.rest=null,this.generator=!1,this.expression=!1,this.finish(),this},finishFunctionExpression:function(e,t,n,r){return this.type=Ln.FunctionExpression,this.id=e,this.params=t,this.defaults=n,this.body=r,this.rest=null,this.generator=!1,this.expression=!1,this.finish(),this},finishIdentifier:function(e){return this.type=Ln.Identifier,this.name=e,this.finish(),this},finishIfStatement:function(e,t,n){return this.type=Ln.IfStatement,this.test=e,this.consequent=t?t:wn(this,"Statement"),this.alternate=n,this.finish(),this},finishLabeledStatement:function(e,t){return this.type=Ln.LabeledStatement,this.label=e,this.body=t,this.finish(),this},finishLiteral:function(e){return this.type=Ln.Literal,this.value=e.value,this.raw=On.slice(e.start,e.end),e.regex&&(this.regex=e.regex),this.finish(),this},finishMemberExpression:function(e,t,n){return this.type=Ln.MemberExpression,this.computed="["===e,this.object=t,this.property=n,this.finish(),this},finishNewExpression:function(e,t){return this.type=Ln.NewExpression,this.callee=e,this.arguments=t,B(e,t),this.finish(),this},finishObjectExpression:function(e){return this.type=Ln.ObjectExpression,this.properties=e,this.finish(),this},finishPostfixExpression:function(e,t){return this.type=Ln.UpdateExpression,this.operator=e,this.argument=t,this.prefix=!1,this.finish(),this},finishProgram:function(e){return this.type=Ln.Program,this.body=e,this.finish(),this},finishProperty:function(e,t,n,r,i){return this.type=Ln.Property,this.key=t,this.value=n,this.kind=e,this.method=r,this.shorthand=i,this.finish(),this},finishReturnStatement:function(e){return this.type=Ln.ReturnStatement,this.argument=e,this.finish(),this},finishSequenceExpression:function(e){return this.type=Ln.SequenceExpression,this.expressions=e,this.finish(),this},finishSwitchCase:function(e,t){return this.type=Ln.SwitchCase,this.test=e,this.consequent=t,this.finish(),this},finishSwitchStatement:function(e,t){return this.type=Ln.SwitchStatement,this.discriminant=e,this.cases=t,this.finish(),this},finishThisExpression:function(){return this.type=Ln.ThisExpression,this.finish(),this},finishThrowStatement:function(e){return this.type=Ln.ThrowStatement,this.argument=e,this.finish(),this},finishTryStatement:function(e,t,n,r){return this.type=Ln.TryStatement,this.block=e,this.guardedHandlers=t,this.handlers=n,this.finalizer=r,this.finish(),this},finishUnaryExpression:function(e,t){return this.type="++"===e||"--"===e?Ln.UpdateExpression:Ln.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0,this.finish(),this},finishVariableDeclaration:function(e,t){return this.type=Ln.VariableDeclaration,this.declarations=e,this.kind=t,this.finish(),this},finishVariableDeclarator:function(e,t){return this.type=Ln.VariableDeclarator,this.id=e,this.init=t,this.finish(),this},finishWhileStatement:function(e,t){return this.type=Ln.WhileStatement,this.test=e,this.body=t?t:wn(this,"Statement"),this.finish(),this},finishWithStatement:function(e,t){return this.type=Ln.WithStatement,this.object=e,this.body=t?t:wn(this,"Statement"),this.finish(),this}},e.version="2.0.0",e.tokenize=hn,e.parse=mn,e.isIdentifierPart=l,e.isIdentifierStart=s,e.isIdentifierChar=l,e.Syntax=function(){var e,t={};"function"==typeof Object.create&&(t=Object.create(null));for(e in Ln)Ln.hasOwnProperty(e)&&(t[e]=Ln[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()}),function(e,t){"use strict";"function"==typeof n&&n.amd?n("estraverse/estraverse",["exports"],t):t("undefined"!=typeof exports?exports:e.estraverse={})}(this,function(e){"use strict";function t(){}function n(e){var t,r,i={};for(t in e)e.hasOwnProperty(t)&&(r=e[t],i[t]="object"==typeof r&&null!==r?n(r):r);return i}function r(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function i(e,t){var n,r,i,o;for(r=e.length,i=0;r;)n=r>>>1,o=i+n,t(e[o])?r=n:(i=o+1,r-=n+1);return i}function o(e,t){var n,r,i,o;for(r=e.length,i=0;r;)n=r>>>1,o=i+n,t(e[o])?(i=o+1,r-=n+1):r=n;return i}function a(e,t){return S(t).forEach(function(n){e[n]=t[n]}),e}function s(e,t){this.parent=e,this.key=t}function l(e,t,n,r){this.node=e,this.path=t,this.wrap=n,this.ref=r}function c(){}function u(e){return null==e?!1:"object"==typeof e&&"string"==typeof e.type}function p(e,t){return(e===g.ObjectExpression||e===g.ObjectPattern)&&"properties"===t}function f(e,t){var n=new c;return n.traverse(e,t)}function d(e,t){var n=new c;return n.replace(e,t)}function h(e,t){var n;return n=i(t,function(t){return t.range[0]>e.range[0]}),e.extendedRange=[e.range[0],e.range[1]],n!==t.length&&(e.extendedRange[1]=t[n].range[0]),n-=1,n>=0&&(e.extendedRange[0]=t[n].range[1]),e}function m(e,t,r){var i,o,a,s,l=[];if(!e.range)throw new Error("attachComments needs range information");if(!r.length){if(t.length){for(a=0,o=t.length;o>a;a+=1)i=n(t[a]),i.extendedRange=[0,e.range[0]],l.push(i);e.leadingComments=l}return e}for(a=0,o=t.length;o>a;a+=1)l.push(h(n(t[a]),r));return s=0,f(e,{enter:function(e){for(var t;s<l.length&&(t=l[s],!(t.extendedRange[1]>e.range[0]));)t.extendedRange[1]===e.range[0]?(e.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),l.splice(s,1)):s+=1;return s===l.length?y.Break:l[s].extendedRange[0]>e.range[1]?y.Skip:void 0}}),s=0,f(e,{leave:function(e){for(var t;s<l.length&&(t=l[s],!(e.range[1]<t.extendedRange[0]));)e.range[1]===t.extendedRange[0]?(e.trailingComments||(e.trailingComments=[]),e.trailingComments.push(t),l.splice(s,1)):s+=1;return s===l.length?y.Break:l[s].extendedRange[0]>e.range[1]?y.Skip:void 0}}),e}var g,v,y,b,x,S,E,w,_;v=Array.isArray,v||(v=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),t(r),t(o),x=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),S=Object.keys||function(e){var t,n=[];for(t in e)n.push(t);return n},g={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportBatchSpecifier:"ExportBatchSpecifier",ExportDeclaration:"ExportDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},b={AssignmentExpression:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","defaults","rest","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","body","superClass"],ClassExpression:["id","body","superClass"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportBatchSpecifier:[],ExportDeclaration:["declaration","specifiers","source"],ExportSpecifier:["id","name"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","defaults","rest","body"],FunctionExpression:["id","params","defaults","rest","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["id"],ImportNamespaceSpecifier:["id"],ImportSpecifier:["id","name"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handlers","handler","guardedHandlers","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},E={},w={},_={},y={Break:E,Skip:w,Remove:_},s.prototype.replace=function(e){this.parent[this.key]=e},s.prototype.remove=function(){return v(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},c.prototype.path=function(){function e(e,t){if(v(t))for(r=0,i=t.length;i>r;++r)e.push(t[r]);else e.push(t)}var t,n,r,i,o,a;if(!this.__current.path)return null;for(o=[],t=2,n=this.__leavelist.length;n>t;++t)a=this.__leavelist[t],e(o,a.path);return e(o,this.__current.path),o},c.prototype.type=function(){var e=this.current();return e.type||this.__current.wrap},c.prototype.parents=function(){var e,t,n;for(n=[],e=1,t=this.__leavelist.length;t>e;++e)n.push(this.__leavelist[e].node);return n},c.prototype.current=function(){return this.__current.node},c.prototype.__execute=function(e,t){var n,r;return r=void 0,n=this.__current,this.__current=t,this.__state=null,e&&(r=e.call(this,t.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=n,r},c.prototype.notify=function(e){this.__state=e},c.prototype.skip=function(){this.notify(w)},c.prototype["break"]=function(){this.notify(E)},c.prototype.remove=function(){this.notify(_)},c.prototype.__initialize=function(e,t){this.visitor=t,this.root=e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback="iteration"===t.fallback,this.__keys=b,t.keys&&(this.__keys=a(x(this.__keys),t.keys))},c.prototype.traverse=function(e,t){var n,r,i,o,a,s,c,f,d,h,m,g;for(this.__initialize(e,t),g={},n=this.__worklist,r=this.__leavelist,n.push(new l(e,null,null,null)),r.push(new l(null,null,null,null));n.length;)if(i=n.pop(),i!==g){if(i.node){if(s=this.__execute(t.enter,i),this.__state===E||s===E)return;if(n.push(g),r.push(i),this.__state===w||s===w)continue;if(o=i.node,a=i.wrap||o.type,h=this.__keys[a],!h){if(!this.__fallback)throw new Error("Unknown node type "+a+".");h=S(o)}for(f=h.length;(f-=1)>=0;)if(c=h[f],m=o[c])if(v(m)){for(d=m.length;(d-=1)>=0;)if(m[d]){if(p(a,h[f]))i=new l(m[d],[c,d],"Property",null);else{if(!u(m[d]))continue;i=new l(m[d],[c,d],null,null)}n.push(i)}}else u(m)&&n.push(new l(m,c,null,null))}}else if(i=r.pop(),s=this.__execute(t.leave,i),this.__state===E||s===E)return},c.prototype.replace=function(e,t){function n(e){var t,n,i,o;if(e.ref.remove())for(n=e.ref.key,o=e.ref.parent,t=r.length;t--;)if(i=r[t],i.ref&&i.ref.parent===o){if(i.ref.key<n)break;--i.ref.key}}var r,i,o,a,c,f,d,h,m,g,y,b,x;for(this.__initialize(e,t),y={},r=this.__worklist,i=this.__leavelist,b={root:e},f=new l(e,null,null,new s(b,"root")),r.push(f),i.push(f);r.length;)if(f=r.pop(),f!==y){if(c=this.__execute(t.enter,f),void 0!==c&&c!==E&&c!==w&&c!==_&&(f.ref.replace(c),f.node=c),(this.__state===_||c===_)&&(n(f),f.node=null),this.__state===E||c===E)return b.root;if(o=f.node,o&&(r.push(y),i.push(f),this.__state!==w&&c!==w)){if(a=f.wrap||o.type,m=this.__keys[a],!m){if(!this.__fallback)throw new Error("Unknown node type "+a+".");m=S(o)}for(d=m.length;(d-=1)>=0;)if(x=m[d],g=o[x])if(v(g)){for(h=g.length;(h-=1)>=0;)if(g[h]){if(p(a,m[d]))f=new l(g[h],[x,h],"Property",new s(g,h));else{if(!u(g[h]))continue;f=new l(g[h],[x,h],null,new s(g,h))}r.push(f)}}else u(g)&&r.push(new l(g,x,null,new s(o,x)))}}else if(f=i.pop(),c=this.__execute(t.leave,f),void 0!==c&&c!==E&&c!==w&&c!==_&&f.ref.replace(c),(this.__state===_||c===_)&&n(f),this.__state===E||c===E)return b.root;return b.root},e.version="1.8.1-dev",e.Syntax=g,e.traverse=f,e.replace=d,e.attachComments=m,e.VisitorKeys=b,e.VisitorOption=y,e.Controller=c}),n("orion/objects",[],function(){function e(e){for(var t=Object.prototype.hasOwnProperty,n=1,r=arguments.length;r>n;n++){var i=arguments[n];for(var o in i)t.call(i,o)&&(e[o]=i[o])}return e}return{clone:function(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var n=Object.create(Object.getPrototypeOf(t));return e(n,t),n},mixin:e,toArray:function(e){return Array.isArray(e)?e:[e]}}}),n("javascript/lru",[],function(){function e(e,t){var n=Object.create(null);return n._p=null,n._n=null,n._v={key:e,value:t},n}function t(e){this._max="undefined"==typeof e?-1:e,this._start=this._end=null,this._size=0,this._cache=Object.create(null)}return t.prototype.clear=function(){this._cache=Object.create(null),this._start=null,this._end=null,this._size=0},t.prototype.size=function(){return this._size},t.prototype.containsKey=function(e){return"undefined"!=typeof this._cache[e]},t.prototype.put=function(t,n){-1!==this._max&&this._size+1>this._max&&this.remove(this._end._v.key),this.remove(t);var r=e(t,n);this._start?(r=e(t,n),r._n=this._start,this._start._p=r,this._start=r):this._start=this._end=r,this._cache[t]=r,this._size++},t.prototype.get=function(e){if(this._size>0){var t=this._cache[e];if(t&&t._v)return t._v.value}return null},t.prototype.remove=function(e){if(0===this._size)return null;var t=this._cache[e];if(t){var n=t._p;this._end===t&&(this._end=n);var r=t._n;return this._start===t&&(this._start=t._n),n&&(n._n=r),r&&(r._p=n),delete this._cache[e],this._size--,t._v.value}return null},t.prototype.keys=function n(){var n=[];if(this._end)for(var e=this._end;e;)n.push(e._v.key),e=e._p;return n},t}),n("javascript/scriptResolver",["orion/objects","orion/Deferred","javascript/lru"],function(e,t,n){function r(e){this.fileclient=e,this.cache=new n(10)}return e.mixin(r.prototype,{getWorkspaceFile:function(e,n){return e?this._getFile(e,n):(new t).resolve(null)},setSearchLocation:function(e){this.searchLocation=e},getSearchLocation:function(){return this.searchLocation||this.fileclient.fileServiceRootURL()},_getFile:function(e,n){var r=this.cache.get(e);if(r)return(new t).resolve(r);var i=this,o=n?n:Object.create(null),a=o.ext?o.ext:"js",s=o.icon?o.icon:"../javascript/images/javascript.png",l=o.type?o.type:"JavaScript",c="."+a,u=this._removePrefix(e),p=u.length>1?u[1]:u[0],f=p.lastIndexOf("/"),d=p.slice(f+1);return this.fileclient.search({resource:i.searchLocation||this.fileclient.fileServiceRootURL(),keyword:d,sort:"Name asc",nameSearch:!0,fileType:a,start:0,rows:30}).then(function(e){var t=e.response,n=t.docs.length;if(t.numFound>0){r=[];var o=p.replace(/(?:\.?\.\/)*/,"");o=o.replace(new RegExp("\\"+c+"$"),""),o=o.replace(/\//g,"\\/");for(var a=0;n>a;a++){var u=t.docs[a],f=".*(?:"+o+")$";new RegExp(f).test(u.Location.slice(0,u.Location.length-c.length))&&r.push(i._newFileObj(u.Name,u.Location,i._trimName(u.Path),s,l))}if(r.length>0)return i.cache.put(p,r),r}return null})},_removePrefix:function(e){var t=e.indexOf("!");return t>-1?e.split("!"):[e]},resolveRelativeFiles:function(e,t,n){if(t&&t.length>0&&n){var r=n.location,i=[],o=this._removePrefix(e),a=o.length>1?o[1]:o[0];r=r.slice(0,r.lastIndexOf("/"));var s=!1;if("."!==a.charAt(0))r=this._appendPath(r,a);else{s=!0;var l=/^\.\.\//.exec(a);if(l){for(;null!=l;)r=r.slice(0,r.lastIndexOf("/")),a=a.slice(3),l=/^\.\.\//.exec(a);r=this._appendPath(r,a)}else{for(;/^\.\//.test(a);)a=a.slice(2);r=this._appendPath(r,a)}}for(var c=0;c<t.length;c++){var u=t[c],p=u.location?u.location:u.Location;if(p===r)i.push(u);else if(this._samePaths(u,r,n))i.push(u);else if(!s){var f=p.lastIndexOf("."),d=p;f>-1&&(d=p.slice(0,f));var h=a.replace(/[/?|{}()*.#$^]/g,"\\$&"),m=new RegExp(h+"$");m.test(d)&&i.push(u)}}return i}return[]},_samePaths:function(e,t,n){if(null==e)return null==t;if("undefined"==typeof e)return"undefined"==typeof t;if(null==t)return null==e;if("undefined"==typeof t)return"undefined"==typeof e;if(e.contentType&&n.contentType&&e.contentType.name===n.contentType.name){var r=e.location?e.location:e.Location;if(!r)return!1;var i=r.lastIndexOf("."),o=r;if(i>-1&&(o=r.slice(0,i)),t===o)return!0;i=t.lastIndexOf(".");var a=t;return i>-1&&(a=t.slice(0,i)),o===a?!0:o===decodeURIComponent(a)?!0:!1}},_appendPath:function(e,t){if("string"==typeof e&&"string"==typeof t){var n=e;return"/"!==n.charAt(n.length-1)&&(n+="/"),n+="/"===t.charAt(0)?t.slice(1):t}return null},_trimName:function(e){return e.replace(/^(?:org\.eclipse\.orion\.client)?(?:\/)?bundles\//,"")},_newFileObj:function(e,t,n,r,i,o){var a=Object.create(null);return a.name=e,a.location=t?t:o.getServiceRootURL()+"/"+n,a.path=n,a.contentType=Object.create(null),r&&(a.contentType.icon=r),i&&(a.contentType.name=i),a}}),{ScriptResolver:r}}),n("orion/serialize",[],function(){function e(e){var t=e?JSON.parse(JSON.stringify(e)):e;return e instanceof Error&&(t.__isError=!0,t.lineNumber="number"==typeof t.lineNumber?t.lineNumber:e.lineNumber,t.message=t.message||e.message,t.name=t.name||e.name,t.stack=t.stack||e.stack),t}return{serializeError:e}}),n("javascript/astManager",["orion/Deferred","orion/objects","orion/serialize","javascript/lru","orion/metrics"],function(e,t,n,r,i){function o(e){if(this.parser=e,this.cache=new r(10),!this.parser)throw new Error("Missing parser")}var a={Unexpected:1,EndOfInput:2},s=Object.create(null);return s.type="Program",s.body=[],s.comments=[],s.tokens=[],s.range=[0,0],t.mixin(o.prototype,{getAST:function(t){var n=this;return t.getFileMetadata().then(function(r){var i=n._getKey(r),o=n.cache.get(i);return o?(new e).resolve(o):t.getText().then(function(e){return o=n.parse(e,r?r.location:"unknown"),n.cache.put(i,o),o})})},_getKey:function(e){return e&&e.location?e.location:"unknown"},parse:function(e,t){var r=Date.now();try{var o=this.parser.parse(e,{range:!0,loc:!0,tolerant:!0,tokens:!0,attachComment:!0,directSourceFile:t,deps:!0})}catch(a){o=s,o.range[1]=e&&"number"==typeof e.length?e.length:0,o.errors=[a]}var l=Date.now()-r;return i.logTiming("language tools","parse",l,"application/javascript"),o.errors&&(this._computeErrorTypes(o.errors),o.errors=o.errors.map(n.serializeError)),o.fileLocation=t,o.source=e,o},_computeErrorTypes:function(e){e&&Array.isArray(e)&&e.forEach(function(e){var t=e.message;e.message=t=t.replace(/^Line \d+: /,""),/^Unexpected/.test(t)&&(e.type=a.Unexpected,/end of input$/.test(t)&&(e.type=a.EndOfInput))})},onModelChanging:function(e){this.inputChanged?this.inputChanged=null:this.cache.remove(this._getKey(e.file))},onInputChanged:function(e){this.inputChanged=e}}),{ASTManager:o,ErrorTypes:a}}),n("orion/editor/eventTarget",[],function(){function e(){}return e.addMixin=function(t){var n=e.prototype;for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])},e.prototype={addEventListener:function(e,t,n){this._eventTypes||(this._eventTypes={});var r=this._eventTypes[e];r||(r=this._eventTypes[e]={level:0,listeners:[]});var i=r.listeners;i.push({listener:t,useCapture:n})},dispatchEvent:function(e){var t=e.type;this._dispatchEvent("pre"+t,e),this._dispatchEvent(t,e),this._dispatchEvent("post"+t,e)},_dispatchEvent:function(e,t){var n=this._eventTypes?this._eventTypes[e]:null;if(n){var r=n.listeners;try{if(n.level++,r)for(var i=0,o=r.length;o>i;i++)if(r[i]){var a=r[i].listener;"function"==typeof a?a.call(this,t):a.handleEvent&&"function"==typeof a.handleEvent&&a.handleEvent(t)}}finally{if(n.level--,n.compact&&0===n.level){for(var s=r.length-1;s>=0;s--)r[s]||r.splice(s,1);0===r.length&&delete this._eventTypes[e],n.compact=!1}}}},isListening:function(e){return this._eventTypes?void 0!==this._eventTypes[e]:!1},removeEventListener:function(e,t,n){if(this._eventTypes){var r=this._eventTypes[e];if(r){for(var i=r.listeners,o=0,a=i.length;a>o;o++){var s=i[o];if(s&&s.listener===t&&s.useCapture===n){0!==r.level?(i[o]=null,r.compact=!0):i.splice(o,1);break}}0===i.length&&delete this._eventTypes[e]}}}},{EventTarget:e}}),n("orion/regex",[],function(){function e(e){return e.replace(/([\\$\^*\/+?\.\(\)|{}\[\]])/g,"\\$&")}function t(e){var t=/^\s*\/(.+)\/([gim]{0,3})\s*$/.exec(e);return t?{pattern:t[1],flags:t[2]}:null}return{escape:e,parse:t}}),n("orion/util",[],function(){function e(e){var t=arguments;return e.replace(/\$\{([^\}]+)\}/g,function(e,n){return t[(n<<0)+1]})}function t(e,t){return e.createElementNS?e.createElementNS(y,t):e.createElement(t)}var n=navigator.userAgent,r=-1!==n.indexOf("MSIE")||-1!==n.indexOf("Trident")?document.documentMode:void 0,i=parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0,o=-1!==n.indexOf("Opera")?parseFloat(n.split("Version/")[1]):void 0,a=parseFloat(n.split("Chrome/")[1])||void 0,s=-1!==n.indexOf("Safari")&&!a,l=parseFloat(n.split("WebKit/")[1])||void 0,c=-1!==n.indexOf("Android"),u=-1!==n.indexOf("iPad"),p=-1!==n.indexOf("iPhone"),f=u||p,d=-1!==navigator.platform.indexOf("Mac"),h=-1!==navigator.platform.indexOf("Win"),m=-1!==navigator.platform.indexOf("Linux"),g="undefined"!=typeof document&&"ontouchstart"in document.createElement("input"),v=h?"\r\n":"\n",y="http://www.w3.org/1999/xhtml";return{formatMessage:e,createElement:t,isIE:r,isFirefox:i,isOpera:o,isChrome:a,isSafari:s,isWebkit:l,isAndroid:c,isIPad:u,isIPhone:p,isIOS:f,isMac:d,isWindows:h,isLinux:m,isTouch:g,platformDelimiter:v}}),n("orion/editor/textModel",["orion/editor/eventTarget","orion/regex","orion/util"],function(e,t,n){function r(e,t){this._lastLineIndex=-1,this._text=[""],this._lineOffsets=[0],this.setText(e),this.setLineDelimiter(t)}return r.prototype={destroy:function(){},find:function(e){this._text.length>1&&(this._text=[this._text.join("")]);var n=e.string,r=e.regex,i=n,o="",a=e.caseInsensitive;if(i)if(r){var s=t.parse(i);s&&(i=s.pattern,o=s.flags)}else i=n.replace(/([\\$\^*\/+?\.\(\)|{}\[\]])/g,"\\$&"),a&&(i=i.replace(/[iI\u0130\u0131]/g,"[Ii]"));var l,c=null;if(i){var u=e.reverse,p=e.wrap,f=e.wholeWord,d=e.start||0,h=e.end,m=null!==h&&void 0!==h;-1===o.indexOf("g")&&(o+="g"),-1===o.indexOf("m")&&(o+="m"),a&&-1===o.indexOf("i")&&(o+="i"),f&&(i="\\b"+i+"\\b");var g,v,y=this._text[0],b=0;if(m){var x=h>d?d:h,S=h>d?h:d;y=y.substring(x,S),b=x}var E=new RegExp(i,o);u?l=function(){var e=null;for(E.lastIndex=0;;){if(v=E.lastIndex,g=E.exec(y),v===E.lastIndex)return null;if(!g)break;if(g.index+b<d)e={start:g.index+b,end:E.lastIndex+b};else{if(!p||e)break;d=y.length+b,e={start:g.index+b,end:E.lastIndex+b}}}return e&&(d=e.start),e}:(m||(E.lastIndex=d),l=function(){for(;;){if(v=E.lastIndex,g=E.exec(y),v===E.lastIndex)return null;if(g)return{start:g.index+b,end:E.lastIndex+b};if(0===v||!p)break}return null}),c=l()}return{next:function(){var e=c;return e&&(c=l()),e},hasNext:function(){return null!==c}}},getCharCount:function(){for(var e=0,t=0;t<this._text.length;t++)e+=this._text[t].length;return e},getLine:function(e,t){var n=this.getLineCount();if(!(e>=0&&n>e))return null;var r=this._lineOffsets[e];if(n>e+1){var i=this.getText(r,this._lineOffsets[e+1]);if(t)return i;for(var o,a=i.length;10===(o=i.charCodeAt(a-1))||13===o;)a--;return i.substring(0,a)}return this.getText(r)},getLineAtOffset:function(e){var t=this.getCharCount();if(!(e>=0&&t>=e))return-1;var n=this.getLineCount();if(e===t)return n-1;var r,i,o=this._lastLineIndex;if(o>=0&&n>o&&(r=this._lineOffsets[o],i=n>o+1?this._lineOffsets[o+1]:t,e>=r&&i>e))return o;for(var a=n,s=-1;a-s>1;)if(o=Math.floor((a+s)/2),r=this._lineOffsets[o],i=n>o+1?this._lineOffsets[o+1]:t,r>=e)a=o;else{if(i>e){a=o;break}s=o}return this._lastLineIndex=a,a},getLineCount:function(){return this._lineOffsets.length},getLineDelimiter:function(){return this._lineDelimiter},getLineEnd:function(e,t){var n=this.getLineCount();if(!(e>=0&&n>e))return-1;if(n>e+1){var r=this._lineOffsets[e+1];if(t)return r;for(var i,o=this.getText(Math.max(this._lineOffsets[e],r-2),r),a=o.length;10===(i=o.charCodeAt(a-1))||13===i;)a--;return r-(o.length-a)}return this.getCharCount()},getLineStart:function(e){return e>=0&&e<this.getLineCount()?this._lineOffsets[e]:-1},getText:function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=this.getCharCount()),e===t)return"";for(var n,r=0,i=0;i<this._text.length&&(n=this._text[i].length,!(r+n>=e));)r+=n,i++;for(var o=r,a=i;i<this._text.length&&(n=this._text[i].length,!(r+n>=t));)r+=n,i++;var s=r,l=i;if(a===l)return this._text[a].substring(e-o,t-s);var c=this._text[a].substring(e-o),u=this._text[l].substring(0,t-s);return c+this._text.slice(a+1,l).join("")+u},onChanging:function(e){return this.dispatchEvent(e)},onChanged:function(e){return this.dispatchEvent(e)},setLineDelimiter:function(e,t){if("auto"===e&&(e=void 0,this.getLineCount()>1&&(e=this.getText(this.getLineEnd(0),this.getLineEnd(0,!0)))),this._lineDelimiter=e?e:n.platformDelimiter,t){var r=this.getLineCount();if(r>1){for(var i=new Array(r),o=0;r>o;o++)i[o]=this.getLine(o);this.setText(i.join(this._lineDelimiter))}}},setText:function(e,t,n){if(void 0===e&&(e=""),void 0===t&&(t=0),void 0===n&&(n=this.getCharCount()),t!==n||""!==e){for(var r=this.getLineAtOffset(t),i=this.getLineAtOffset(n),o=t,a=n-t,s=i-r,l=e.length,c=0,u=this.getLineCount(),p=0,f=0,d=0,h=[];;){if(-1!==p&&d>=p&&(p=e.indexOf("\r",d)),-1!==f&&d>=f&&(f=e.indexOf("\n",d)),-1===f&&-1===p)break;d=-1!==p&&-1!==f?p+1===f?f+1:(f>p?p:f)+1:-1!==p?p+1:f+1,h.push(t+d),c++}var m={type:"Changing",text:e,start:o,removedCharCount:a,addedCharCount:l,removedLineCount:s,addedLineCount:c};if(this.onChanging(m),0===h.length){var g,v=this.getLineStart(r);g=u>i+1?this.getLineStart(i+1):this.getCharCount(),t!==v&&(e=this.getText(v,t)+e,t=v),n!==g&&(e+=this.getText(n,g),n=g)}for(var y=l-a,b=r+s+1;u>b;b++)this._lineOffsets[b]+=y;var x,S=5e4,E=S;if(h.length<E)x=[r+1,s].concat(h),Array.prototype.splice.apply(this._lineOffsets,x);else{d=r+1,this._lineOffsets.splice(d,s);for(var w=0;w<h.length;w+=E)x=[d,0].concat(h.slice(w,Math.min(h.length,w+E))),Array.prototype.splice.apply(this._lineOffsets,x),d+=E}for(var _,k=0,C=0;C<this._text.length&&(_=this._text[C].length,!(k+_>=t));)k+=_,C++;for(var T=k,L=C;C<this._text.length&&(_=this._text[C].length,!(k+_>=n));)k+=_,C++;var A=k,P=C,j=this._text[L],F=this._text[P],O=j.substring(0,t-T),I=F.substring(n-A),N=[L,P-L+1];O&&N.push(O),e&&N.push(e),I&&N.push(I),Array.prototype.splice.apply(this._text,N),0===this._text.length&&(this._text=[""]);var R={type:"Changed",start:o,removedCharCount:a,addedCharCount:l,removedLineCount:s,addedLineCount:c};this.onChanged(R)}}},e.EventTarget.addMixin(r.prototype),{TextModel:r}}),n("eslint/conf/globals",[],function(){return{builtin:{Array:!1,ArrayBuffer:!1,Boolean:!1,constructor:!1,Date:!1,DataView:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Float32Array:!1,Float64Array:!1,Function:!1,hasOwnProperty:!1,Infinity:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,isFinite:!1,isNaN:!1,isPrototypeOf:!1,JSON:!1,Map:!1,Math:!1,NaN:!1,Number:!1,Object:!1,parseFloat:!1,parseInt:!1,Promise:!1,propertyIsEnumerable:!1,Proxy:!1,RangeError:!1,ReferenceError:!1,Reflect:!1,RegExp:!1,Set:!1,String:!1,Symbol:!1,SyntaxError:!1,System:!1,toLocaleString:!1,toString:!1,TypeError:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,Uint8ClampedArray:!1,undefined:!1,URIError:!1,valueOf:!1,WeakMap:!1,WeakSet:!1},nonstandard:{escape:!1,unescape:!1},browser:{addEventListener:!1,alert:!1,applicationCache:!1,atob:!1,Audio:!1,AudioProcessingEvent:!1,BeforeUnloadEvent:!1,Blob:!1,blur:!1,btoa:!1,cancelAnimationFrame:!1,CanvasGradient:!1,CanvasPattern:!1,CanvasRenderingContext2D:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,CloseEvent:!1,Comment:!1,CompositionEvent:!1,confirm:!1,console:!1,crypto:!1,CSS:!1,CustomEvent:!1,DataView:!1,Debug:!1,defaultStatus:!1,devicePixelRatio:!1,dispatchEvent:!1,document:!1,Document:!1,DocumentFragment:!1,DOMParser:!1,DragEvent:!1,Element:!1,ElementTimeControl:!1,ErrorEvent:!1,event:!1,Event:!1,FileReader:!1,find:!1,focus:!1,FocusEvent:!1,FormData:!1,frameElement:!1,frames:!1,GamepadEvent:!1,getComputedStyle:!1,getSelection:!1,HashChangeEvent:!1,history:!1,HTMLAnchorElement:!1,HTMLBaseElement:!1,HTMLBlockquoteElement:!1,HTMLBodyElement:!1,HTMLBRElement:!1,HTMLButtonElement:!1,HTMLCanvasElement:!1,HTMLDirectoryElement:!1,HTMLDivElement:!1,HTMLDListElement:!1,HTMLElement:!1,HTMLFieldSetElement:!1,HTMLFontElement:!1,HTMLFormElement:!1,HTMLFrameElement:!1,HTMLFrameSetElement:!1,HTMLHeadElement:!1,HTMLHeadingElement:!1,HTMLHRElement:!1,HTMLHtmlElement:!1,HTMLIFrameElement:!1,HTMLImageElement:!1,HTMLInputElement:!1,HTMLIsIndexElement:!1,HTMLLabelElement:!1,HTMLLayerElement:!1,HTMLLegendElement:!1,HTMLLIElement:!1,HTMLLinkElement:!1,HTMLMapElement:!1,HTMLMenuElement:!1,HTMLMetaElement:!1,HTMLModElement:!1,HTMLObjectElement:!1,HTMLOListElement:!1,HTMLOptGroupElement:!1,HTMLOptionElement:!1,HTMLParagraphElement:!1,HTMLParamElement:!1,HTMLPreElement:!1,HTMLQuoteElement:!1,HTMLScriptElement:!1,HTMLSelectElement:!1,HTMLStyleElement:!1,HTMLTableCaptionElement:!1,HTMLTableCellElement:!1,HTMLTableColElement:!1,HTMLTableElement:!1,HTMLTableRowElement:!1,HTMLTableSectionElement:!1,HTMLTextAreaElement:!1,HTMLTitleElement:!1,HTMLUListElement:!1,HTMLVideoElement:!1,IDBCursor:!1,IDBCursorWithValue:!1,IDBDatabase:!1,IDBEnvironment:!1,IDBFactory:!1,IDBIndex:!1,IDBKeyRange:!1,IDBObjectStore:!1,IDBOpenDBRequest:!1,IDBRequest:!1,IDBTransaction:!1,IDBVersionChangeEvent:!1,Image:!1,indexedDB:!1,innerHeight:!1,innerWidth:!1,InputEvent:!1,Intl:!1,KeyboardEvent:!1,length:!1,localStorage:!1,location:!1,matchMedia:!1,MessageChannel:!1,MessageEvent:!1,MessagePort:!1,MouseEvent:!1,moveBy:!1,moveTo:!1,MutationObserver:!1,name:!1,navigator:!1,Node:!1,NodeFilter:!1,NodeList:!1,Notification:!1,OfflineAudioCompletionEvent:!1,onbeforeunload:!0,onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,openDatabase:!1,opener:!1,opera:!1,Option:!1,outerHeight:!1,outerWidth:!1,PageTransitionEvent:!1,pageXOffset:!1,pageYOffset:!1,parent:!1,PopStateEvent:!1,postMessage:!1,print:!1,ProgressEvent:!1,prompt:!1,Range:!1,removeEventListener:!1,requestAnimationFrame:!1,resizeBy:!1,resizeTo:!1,screen:!1,screenX:!1,screenY:!1,scroll:!1,scrollbars:!1,scrollBy:!1,scrollTo:!1,scrollX:!1,scrollY:!1,self:!1,sessionStorage:!1,setInterval:!1,setTimeout:!1,SharedWorker:!1,showModalDialog:!1,status:!1,stop:!1,StorageEvent:!1,SVGAElement:!1,SVGAltGlyphDefElement:!1,SVGAltGlyphElement:!1,SVGAltGlyphItemElement:!1,SVGAngle:!1,SVGAnimateColorElement:!1,SVGAnimatedAngle:!1,SVGAnimatedBoolean:!1,SVGAnimatedEnumeration:!1,SVGAnimatedInteger:!1,SVGAnimatedLength:!1,SVGAnimatedLengthList:!1,SVGAnimatedNumber:!1,SVGAnimatedNumberList:!1,SVGAnimatedPathData:!1,SVGAnimatedPoints:!1,SVGAnimatedPreserveAspectRatio:!1,SVGAnimatedRect:!1,SVGAnimatedString:!1,SVGAnimatedTransformList:!1,SVGAnimateElement:!1,SVGAnimateMotionElement:!1,SVGAnimateTransformElement:!1,SVGAnimationElement:!1,SVGCircleElement:!1,SVGClipPathElement:!1,SVGColor:!1,SVGColorProfileElement:!1,SVGColorProfileRule:!1,SVGComponentTransferFunctionElement:!1,SVGCSSRule:!1,SVGCursorElement:!1,SVGDefsElement:!1,SVGDescElement:!1,SVGDocument:!1,SVGElement:!1,SVGElementInstance:!1,SVGElementInstanceList:!1,SVGEllipseElement:!1,SVGEvent:!1,SVGExternalResourcesRequired:!1,SVGFEBlendElement:!1,SVGFEColorMatrixElement:!1,SVGFEComponentTransferElement:!1,SVGFECompositeElement:!1,SVGFEConvolveMatrixElement:!1,SVGFEDiffuseLightingElement:!1,SVGFEDisplacementMapElement:!1,SVGFEDistantLightElement:!1,SVGFEFloodElement:!1,SVGFEFuncAElement:!1,SVGFEFuncBElement:!1,SVGFEFuncGElement:!1,SVGFEFuncRElement:!1,SVGFEGaussianBlurElement:!1,SVGFEImageElement:!1,SVGFEMergeElement:!1,SVGFEMergeNodeElement:!1,SVGFEMorphologyElement:!1,SVGFEOffsetElement:!1,SVGFEPointLightElement:!1,SVGFESpecularLightingElement:!1,SVGFESpotLightElement:!1,SVGFETileElement:!1,SVGFETurbulenceElement:!1,SVGFilterElement:!1,SVGFilterPrimitiveStandardAttributes:!1,SVGFitToViewBox:!1,SVGFontElement:!1,SVGFontFaceElement:!1,SVGFontFaceFormatElement:!1,SVGFontFaceNameElement:!1,SVGFontFaceSrcElement:!1,SVGFontFaceUriElement:!1,SVGForeignObjectElement:!1,SVGGElement:!1,SVGGlyphElement:!1,SVGGlyphRefElement:!1,SVGGradientElement:!1,SVGHKernElement:!1,SVGICCColor:!1,SVGImageElement:!1,SVGLangSpace:!1,SVGLength:!1,SVGLengthList:!1,SVGLinearGradientElement:!1,SVGLineElement:!1,SVGLocatable:!1,SVGMarkerElement:!1,SVGMaskElement:!1,SVGMatrix:!1,SVGMetadataElement:!1,SVGMissingGlyphElement:!1,SVGMPathElement:!1,SVGNumber:!1,SVGNumberList:!1,SVGPaint:!1,SVGPathElement:!1,SVGPathSeg:!1,SVGPathSegArcAbs:!1,SVGPathSegArcRel:!1,SVGPathSegClosePath:!1,SVGPathSegCurvetoCubicAbs:!1,SVGPathSegCurvetoCubicRel:!1,SVGPathSegCurvetoCubicSmoothAbs:!1,SVGPathSegCurvetoCubicSmoothRel:!1,SVGPathSegCurvetoQuadraticAbs:!1,SVGPathSegCurvetoQuadraticRel:!1,SVGPathSegCurvetoQuadraticSmoothAbs:!1,SVGPathSegCurvetoQuadraticSmoothRel:!1,SVGPathSegLinetoAbs:!1,SVGPathSegLinetoHorizontalAbs:!1,SVGPathSegLinetoHorizontalRel:!1,SVGPathSegLinetoRel:!1,SVGPathSegLinetoVerticalAbs:!1,SVGPathSegLinetoVerticalRel:!1,SVGPathSegList:!1,SVGPathSegMovetoAbs:!1,SVGPathSegMovetoRel:!1,SVGPatternElement:!1,SVGPoint:!1,SVGPointList:!1,SVGPolygonElement:!1,SVGPolylineElement:!1,SVGPreserveAspectRatio:!1,SVGRadialGradientElement:!1,SVGRect:!1,SVGRectElement:!1,SVGRenderingIntent:!1,SVGScriptElement:!1,SVGSetElement:!1,SVGStopElement:!1,SVGStringList:!1,SVGStylable:!1,SVGStyleElement:!1,SVGSVGElement:!1,SVGSwitchElement:!1,SVGSymbolElement:!1,SVGTests:!1,SVGTextContentElement:!1,SVGTextElement:!1,SVGTextPathElement:!1,SVGTextPositioningElement:!1,SVGTitleElement:!1,SVGTransform:!1,SVGTransformable:!1,SVGTransformList:!1,SVGTRefElement:!1,SVGTSpanElement:!1,SVGUnitTypes:!1,SVGURIReference:!1,SVGUseElement:!1,SVGViewElement:!1,SVGViewSpec:!1,SVGVKernElement:!1,SVGZoomAndPan:!1,Text:!1,TextDecoder:!1,TextEncoder:!1,TimeEvent:!1,top:!1,TouchEvent:!1,UIEvent:!1,URL:!1,WebGLActiveInfo:!1,WebGLBuffer:!1,WebGLContextEvent:!1,WebGLFramebuffer:!1,WebGLProgram:!1,WebGLRenderbuffer:!1,WebGLRenderingContext:!1,WebGLShader:!1,WebGLShaderPrecisionFormat:!1,WebGLTexture:!1,WebGLUniformLocation:!1,WebSocket:!1,WheelEvent:!1,window:!1,Window:!1,Worker:!1,XDomainRequest:!1,XMLHttpRequest:!1,XMLSerializer:!1,XPathEvaluator:!1,XPathException:!1,XPathExpression:!1,XPathNamespace:!1,XPathNSResolver:!1,XPathResult:!1},worker:{importScripts:!0,postMessage:!0,self:!0},node:{__dirname:!1,__filename:!1,arguments:!1,Buffer:!1,clearImmediate:!1,clearInterval:!1,clearTimeout:!1,console:!1,DataView:!1,exports:!0,GLOBAL:!1,global:!1,module:!1,process:!1,require:!1,setImmediate:!1,setInterval:!1,setTimeout:!1},amd:{define:!1,require:!1},mocha:{after:!1,afterEach:!1,before:!1,beforeEach:!1,context:!1,describe:!1,it:!1,setup:!1,specify:!1,suite:!1,suiteSetup:!1,suiteTeardown:!1,teardown:!1,test:!1,xcontext:!1,xdescribe:!1,xit:!1,xspecify:!1},jasmine:{afterAll:!1,afterEach:!1,beforeAll:!1,beforeEach:!1,describe:!1,expect:!1,fail:!1,fdescribe:!1,fit:!1,it:!1,jasmine:!1,pending:!1,runs:!1,spyOn:!1,waits:!1,waitsFor:!1,xdescribe:!1,xit:!1},qunit:{asyncTest:!1,deepEqual:!1,equal:!1,expect:!1,module:!1,notDeepEqual:!1,notEqual:!1,notPropEqual:!1,notStrictEqual:!1,ok:!1,propEqual:!1,QUnit:!1,raises:!1,start:!1,stop:!1,strictEqual:!1,test:!1,"throws":!1},phantomjs:{console:!0,exports:!0,phantom:!0,require:!0,WebPage:!0},couch:{emit:!1,exports:!1,getRow:!1,log:!1,module:!1,provides:!1,require:!1,respond:!1,send:!1,start:!1,sum:!1},rhino:{defineClass:!1,deserialize:!1,gc:!1,help:!1,importClass:!1,importPackage:!1,java:!1,load:!1,loadClass:!1,Packages:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},wsh:{ActiveXObject:!0,Enumerator:!0,GetObject:!0,ScriptEngine:!0,ScriptEngineBuildVersion:!0,ScriptEngineMajorVersion:!0,ScriptEngineMinorVersion:!0,VBArray:!0,WScript:!0,WSH:!0,XDomainRequest:!0},jquery:{$:!1,jQuery:!1},yui:{Y:!1,YUI:!1,YUI_config:!1},shelljs:{cat:!1,cd:!1,chmod:!1,config:!1,cp:!1,dirs:!1,echo:!1,env:!1,error:!1,exec:!1,exit:!1,find:!1,grep:!1,ls:!1,mkdir:!1,mv:!1,popd:!1,pushd:!1,pwd:!1,rm:!1,sed:!1,target:!1,tempdir:!1,test:!1,which:!1},prototypejs:{$:!1,$$:!1,$A:!1,$break:!1,$continue:!1,$F:!1,$H:!1,$R:!1,$w:!1,Abstract:!1,Ajax:!1,Autocompleter:!1,Builder:!1,Class:!1,Control:!1,Draggable:!1,Draggables:!1,Droppables:!1,Effect:!1,Element:!1,Enumerable:!1,Event:!1,Field:!1,Form:!1,Hash:!1,Insertion:!1,ObjectRange:!1,PeriodicalExecuter:!1,Position:!1,Prototype:!1,Scriptaculous:!1,Selector:!1,Sortable:!1,SortableObserver:!1,Sound:!1,Template:!1,Toggle:!1,Try:!1},meteor:{$:!1,_:!1,Accounts:!1,App:!1,Assets:!1,Blaze:!1,check:!1,Cordova:!1,DDP:!1,DDPServer:!1,Deps:!1,EJSON:!1,Email:!1,HTTP:!1,Log:!1,Match:!1,Meteor:!1,Mongo:!1,MongoInternals:!1,Npm:!1,Package:!1,Plugin:!1,process:!1,Random:!1,ReactiveDict:!1,ReactiveVar:!1,Router:!1,Session:!1,share:!1,Spacebars:!1,Template:!1,Tinytest:!1,Tracker:!1,UI:!1,Utils:!1,WebApp:!1,WebAppInternals:!1},mongo:{_isWindows:!1,_rand:!1,BulkWriteResult:!1,cat:!1,cd:!1,connect:!1,db:!1,getHostName:!1,getMemInfo:!1,hostname:!1,listFiles:!1,load:!1,ls:!1,md5sumFile:!1,mkdir:!1,Mongo:!1,ObjectId:!1,PlanCache:!1,pwd:!1,quit:!1,removeFile:!1,rs:!1,sh:!1,UUID:!1,version:!1,WriteResult:!1}}
}),n("eslint/conf/environments",["./globals"],function(e){var t={builtin:e.builtin,browser:{globals:e.browser},node:{globals:e.node,ecmaFeatures:{globalReturn:!0}},amd:{globals:e.amd},mocha:{globals:e.mocha},jasmine:{globals:e.jasmine},phantomjs:{globals:e.phantom},jquery:{globals:e.jquery},prototypejs:{globals:e.prototypejs},shelljs:{globals:e.shelljs},meteor:{globals:e.meteor}};return t}),n("javascript/finder",["estraverse/estraverse","eslint/conf/environments"],function(e,t){e.VisitorKeys.RecoveredNode||(e.VisitorKeys.RecoveredNode=[]);var n={visitor:null,punc:"\n	\r (){}[]:;,.+=-*^&@!%~`'\"/\\",findWord:function(e,t){if(e&&t>-1){for(var n=this.punc.indexOf(e.charAt(t))>-1,r=n&&t>0?t-1:t;r>=0&&!(this.punc.indexOf(e.charAt(r))>-1);)r--;var i=r;for(r=t;r<=e.length&&!(this.punc.indexOf(e.charAt(r))>-1);)r++;return(i===t||n&&i===t-1)&&r===t?null:i===t?e.substring(i,r):e.substring(i+1,r)}return null},findNode:function(t,n,r){var i=null,o=r&&r.parents?[]:null,a=r&&r.next?r.next:!1;if(null!=t&&t>-1&&n&&e.traverse(n,{enter:function(n){if(n.type&&n.range){if(!a&&n.type===e.Syntax.Program&&t<n.range[0])return e.VisitorOption.Break;if(n.range[0]<=t)i=n,o&&o.push(n);else if(a&&(i=n,o&&o.push(n)),i.type!==e.Syntax.Program)return e.VisitorOption.Break}},leave:function(e){o&&t>e.range[1]&&o.pop()}}),i&&o&&o.length>0){var s=o[o.length-1];"Program"!==s.type&&s.range[0]===i.range[0]&&s.range[1]===i.range[1]&&o.pop(),i.parents=o}return i},findNodeAfterComment:function(t,n){var r=null,i=[];if(Array.isArray(t.range)&&n){var o=t.range[1];e.traverse(n,{enter:function(t,n){if(t.type&&t.range)if(n&&i.push(n),o>t.range[0])r=t;else if(r=t,t.type!==e.Syntax.Program)return e.VisitorOption.Break}})}return r&&(r.parents=i),r},findToken:function(e,t){if(null!=e&&e>-1&&t&&t.length>0){var n,r=0,i=t.length-1,o=0;if(n=t[0],e>=n.range[0]&&e<n.range[1])return n.index=0,n;if(n=t[i],e>=n.range[0])return n.index=i,n;for(n=null;i>=r;){if(o=Math.floor((r+i)/2),n=t[o],e<n.range[0])i=o-1;else if(e>n.range[1])r=o+1;else if(e===n.range[1]){var a=t[o+1];if(a.range[0]!==n.range[1])return n.index=o,n;r=o+1}else if(e>=n.range[0]&&e<n.range[1])return n.index=o,n;if(r===i)return n=t[r],e>=n.range[0]&&e<=n.range[1]?(n.index=r,n):null}}return null},findComment:function(e,t){if(t.comments){for(var n=t.comments,r=n.length,i=0;r>i;i++){var o=n[i];if(o.range[0]<e&&o.range[1]>=e)return o;if(e===t.range[1]&&e===o.range[1])return o;if(e>t.range[1]&&e<=o.range[1])return o;if(o.range[0]>e)return null}return null}},findScriptBlocks:function(e,t){var n=[],r=null,i=/<\s*script([^>]*)(?:\/>|>((?:.|\r?\n)*?)<\s*\/script[^<>]*>)/gi,o=/(type|language)\s*=\s*"([^"]*)"/i,a=/src\s*=\s*"([^"]*)"/i,s=this.findHtmlCommentBlocks(e,t);e:for(;null!=(r=i.exec(e));){var l=r[1],c=r[2],u=null;if(l){var p=o.exec(l);if(p&&p[2]){var f=p[2];if("language"===p[1]&&(f="text/"+f),!/^(application|text)\/(ecmascript|javascript(\d.\d)?|livescript|jscript|x\-ecmascript|x\-javascript)$/gi.test(f))continue}var d=a.exec(l);d&&(u=d[1])}if(c||!u){var h=r.index+r[0].indexOf(">")+1;if(null==t||t>=h&&h+c.length>=t){for(var m=0;m<s.length;m++)if(s[m].start<=h&&s[m].end>=h)continue e;n.push({text:c,offset:h,dependencies:u})}}else n.push({text:"",offset:0,dependencies:u})}var g={blur:!0,change:!0,click:!0,dblclick:!0,focus:!0,keydown:!0,keypress:!0,keyup:!0,load:!0,mousedown:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,reset:!0,select:!0,submit:!0,unload:!0},v=/\s+on(\w*)(\s*=\s*")([^"]*)"/gi,y=0;e:for(;null!=(r=v.exec(e));){y++;var b=r[1],x=r[2];if(c=r[3],b&&b in g){if(!c||!x)continue;if(h=r.index+2+b.length+x.length,null==t||t>=h&&h+c.length>=t){for(var S=0;S<s.length;S++)if(s[S].start<=h&&s[S].end>=h)continue e;n.push({text:c,offset:h,isWrappedFunctionCall:!0})}}}return n},findHtmlCommentBlocks:function(e,t){for(var n=[],r=null,i=/<!--((?:.|\r?\n)*?)-->/gi;null!=(r=i.exec(e));){var o=r[1];o.length<1||(null==t||r.index<=t&&r.index+o.length>=r.index)&&n.push({text:o,start:r.index,end:r.index+o.length})}return n},findESLintEnvForMember:function(e){var n=Object.keys(t);if(n)for(var r=n.length,i=0;r>i;i++){var o=t[n[i]];if("undefined"!=typeof o[e])return n[i];var a=o.globals;if(a&&"undefined"!=typeof a[e])return n[i]}return null},findDirective:function(e,t){if(e&&"undefined"!=typeof t)for(var n=e.comments.length,r=0;n>r;r++){var i=/^\s*(eslint-\w+|eslint|globals?)(\s|$)/.exec(e.comments[r].value);if(null!=i&&"undefined"!=typeof i&&i[1]===t)return e.comments[r]}return null},findCommentForNode:function r(e){var t=e.leadingComments,n=null;if(t&&t.length>0){if(n=t[t.length-1],"Block"===n.type)return n.node=e,n}else if("Property"===e.type){if(n=r(e.key))return n.node=e,n}else if("FunctionDeclaration"===e.type&&(n=r(e.id)))return n.node=e,n;return n=Object.create(null),n.node=e,n.value="",n},findParentFunction:function(e){if(e)if(e.parents)for(var t=e.parents,n=t.pop();n;){if("FunctionDeclaration"===n.type||"FunctionExpression"===n.type)return n;n=t.pop()}else if(e.parent)for(var n=e.parent;n;){if("FunctionDeclaration"===n.type||"FunctionExpression"===n.type)return n;n=n.parent}return null}};return n}),n("javascript/compilationUnit",["orion/Deferred"],function(e){function t(e,t,n){this._blocks=e,this._metadata=t,this._ec=n,this._deps=[]}return t.prototype._init=function(){var e="this.",t=0;this._source="",this._blocks.sort(function(e,t){var n=e.offset?e.offset:0,r=t.offset?t.offset:0;return n-r});for(var n=0;n<this._blocks.length;n++){var r=this._blocks[n];r.dependencies&&this._deps.push(r.dependencies);var i=r.offset-t;if(r.isWrappedFunctionCall){if(i<e.length)continue;for(i-=e.length;i>0;)this._source+=" ",i--;this._source+=e,this._source+=r.text,r.text&&";"!==r.text.charAt(r.text.length-1)&&(this._source+=";")}else{for(;i>0;)this._source+=" ",i--;this._source+=r.text}t=this._source.length}},t.prototype.getSource=function(){return this._source||this._init(),this._source},t.prototype.validOffset=function(e){if(!this._blocks||this._blocks.length<1||0>e)return!1;for(var t=0;t<this._blocks.length;t++){var n=this._blocks[t],r=n.offset;if(e>=r&&e<=r+n.text.length)return!0}return!1},t.prototype.getEditorContext=function(){var t=Object.create(null),n=this;return t.getText=function(){return(new e).resolve(n.getSource())},t.getFileMetadata=function(){return(new e).resolve(n._metadata)},t.setText=function(t,r,i){return n._ec?n._ec.setText(t,r,i):(new e).resolve(null)},t},t.prototype.getDependencies=function(){return this._deps},t}),n("javascript/quickFixes",["orion/objects","orion/Deferred","orion/editor/textModel","javascript/finder","javascript/compilationUnit","orion/metrics"],function(e,t,n,r,i,o){function a(e){this.astManager=e}function s(e,t){if(!e)return 0;if(0>t)return 0;for(var n=t,r=e[n];n>-1&&!/[\r\n]/.test(r);)r=e[--n];return n+1}function l(e,t){if(!e)return 0;if(0>t)return 0;for(var n=t,r=e[n];n<e.length&&!/[\r\n]/.test(r);)r=e[++n];return n}function c(e,t,n){if(!e||0>t)return"";for(var r=t,i=e[r],o=n?"	":"";" "===i||"	"===i;)o+=i,i=e[++r];return o}function u(e,t,n){if(!e||!t)return"";for(var r=t.start,i=e[r],o="",a=!1;r>=t.start&&r<=t.end;){if("\n"===i){a=!0;break}i=e[r++]}return a||(o+="\n"),"undefined"!=typeof n&&(o+=n),o}function p(e,t){return"*"===e.charAt(t+1)?"*"===e.charAt(t+2)?3:2:0}function f(e,t,n,r){return r&&""!==e.slice(t.length).trim()?e.trim()+", "+n:e.trim()+" "+n}function d(e,t){if(e&&e.length)for(var n=0;n<e.length;n++){var r=e[n];if(t.range[0]===r.range[0]&&t.range[1]===r.range[1])return n}return-1}function h(e,t,n){if(!(0>t||t>e.length)){var r=e[t];return 1===e.length?n.setText("",r.range[0],r.range[1]):t===e.length-1?n.setText("",e[t-1].range[1],r.range[1]):r?n.setText("",r.range[0],e[t+1].range[0]):null}}function m(e,t,n,r){if(e.leadingComments&&e.leadingComments.length>0)for(var i=e.leadingComments.length-1;i>-1;i--){var o=e.leadingComments[i],a=new RegExp("(\\s*[*]+\\s*(?:@param)\\s*(?:\\{.*\\})?\\s*(?:"+r+")+.*)").exec(o.value);if(a){var s=o.range[0]+a.index+p(t,o.range[0]);return n.setText("",s,s+a[1].length)}}return null}function g(e,t){if(t.leadingComments)for(var n=0;n<t.leadingComments.length;n++){var r=t.leadingComments[n];if(r.value.indexOf(e)>-1)return!0}return!1}function v(e){if("Program"===e.type&&e.body&&e.body.length>0){var t=e.body[0],n=-1;switch(t.type){case"FunctionDeclaration":if(n=y(t),n>-1)return n;if(n=y(t.id),n>-1)return n;break;case"ExpressionStatement":if(t.expression&&t.expression.right&&"FunctionExpression"===t.expression.right.type){if(n=y(t),n>-1)return n;if(n=y(t.expression.left),n>-1)return n}}}return e.range[0]}function y(e){if(e.leadingComments&&e.leadingComments.length>0){var t=e.leadingComments[e.leadingComments.length-1];if(/(?:@param|@return|@returns|@type|@constructor|@name|@description)/gi.test(t.value))return t.range[0]}return-1}return e.mixin(a.prototype,{execute:function(e,t){var n=t.annotation.fixid?t.annotation.fixid:t.annotation.id;delete t.annotation.fixid,o.logEvent("language tools","quickfix",n,"application/javascript");var a=this[n];if(a){var s=this;return e.getFileMetadata().then(function(n){return"text/html"===n.contentType.id?e.getText().then(function(o){var l=r.findScriptBlocks(o);if(l&&l.length>0){var c=new i(l,n,e);return a(c.getEditorContext(),t.annotation,s.astManager)}}):a(e,t.annotation,s.astManager)})}return null},eqeqeq:function(e,t){var n=/^.*\'(\!==|===)\'/.exec(t.title);return e.setText(n[1],t.start,t.end)},"no-comma-dangle":function(e,t){return e.setText("",t.start,t.end)},"no-empty-block":function(e,t){return e.getText().then(function(n){var r=s(n,t.start),i="//TODO empty block",o=c(n,r,!0);return i="\n"+o+i,i+=u(n,t),e.setText(i,t.start+1,t.start+1)})},"no-extra-semi":function(e,t){return e.setText("",t.start,t.end)},"no-fallthrough":function(e,t){return e.getText().then(function(n){var r=s(n,t.start),i="//$FALLTHROUGH$",o=c(n,r);return i+=u(n,t,o),e.setText(i,t.start,t.start)})},"no-fallthrough-break":function(e,t){return e.getText().then(function(n){var r=s(n,t.start),i="break;",o=c(n,r);return i+=u(n,t,o),e.setText(i,t.start,t.start)})},"no-new-array":function(e,t,n){return n.getAST(e).then(function(n){var i=r.findNode(t.start,n,{parents:!0});if(i&&i.parents){var o=i.parents[i.parents.length-1];if("CallExpression"===o.type||"NewExpression"===o.type){var a="";if(o.arguments.length>0){var s=o.arguments[0].range[0],l=o.arguments[o.arguments.length-1].range[1];a+="["+n.source.substring(s,l)+"]"}else a+="[]";return e.setText(a,o.start,o.end)}}})},"no-reserved-keys":function(e,t,n){return n.getAST(e).then(function(n){var i=r.findNode(t.start,n,{parents:!0});return i&&"Identifier"===i.type?e.setText('"'+i.name+'"',i.range[0],i.range[1]):void 0})},"no-sparse-arrays":function(e,t,i){return i.getAST(e).then(function(i){var o=r.findNode(t.start,i,{parents:!0});if(o&&"ArrayExpression"===o.type){var a=new n.TextModel(i.source.slice(t.start,t.end)),s=o.elements.length,l=s-1,c=o.elements[l];if(null===c){var u=r.findToken(o.range[1],i.tokens);for("]"!==u.value&&(u=i.tokens[u.index-1]);l>-1&&(c=o.elements[l],null===c);l--);if(null===c)return e.setText(a.getText(),t.start+1,t.end-1);a.setText("",c.range[1]-t.start,u.range[0]-t.start)}for(var p=c;l>-1;l--)c=o.elements[l],null!==c&&c.range[0]!==p.range[0]&&(a.setText(", ",c.range[1]-t.start,p.range[0]-t.start),p=c);return null===c&&null!==p&&a.setText("",o.range[0]+1-t.start,p.range[0]-t.start),e.setText(a.getText(),t.start,t.end)}return null})},"no-throw-literal":function(e,t,n){return n.getAST(e).then(function(n){var i=r.findNode(t.start,n,{parents:!0}),o=i.raw||n.source.slice(i.range[0],i.range[1]);return e.setText("new Error("+o+")",t.start,t.end)})},"no-undef-defined":function(e,t,n){function i(e){if(e&&e.parents&&e.parents.length>0&&"Identifier"===e.type){var t=e.parents.pop();return t&&("AssignmentExpression"===t.type||"UpdateExpression"===t.type)}return!1}var o=/^'(.*)'/.exec(t.title);return null!=o&&"undefined"!=typeof o?n.getAST(e).then(function(n){var a=null,s=0,l=o[1],c=r.findNode(t.start,n,{parents:!0});if(i(c)&&(l+=":true"),a=r.findDirective(n,"globals"))return s=a.range[0]+2,e.setText(f(a.value,"globals",l),s,s+a.value.length);var u=v(n);return e.setText("/*globals "+l+" */\n",u,u)}):null},"no-undef-defined-inenv":function(e,t,n){var i=/^'(.*)'/.exec(t.title);return null!=i&&"undefined"!=typeof i?n.getAST(e).then(function(t){var n=null,o=0;if("console"===i[1])var a="node";else a=r.findESLintEnvForMember(i[1]);if(a){if(n=r.findDirective(t,"eslint-env"))return o=p(t.source,n.range[0])+n.range[0],e.setText(f(n.value,"eslint-env",a,!0),o,o+n.value.length);var s=v(t);return e.setText("/*eslint-env "+a+" */\n",s,s)}}):null},"no-unreachable":function(e,t){return e.setText("",t.start,t.end)},"no-unused-params":function(e,n,i){return i.getAST(e).then(function(i){var o=r.findNode(n.start,i,{parents:!0});if(o){for(var a=[],s=o.parents.pop(),l=-1,c=0;c<s.params.length;c++){var u=s.params[c];if(o.range[0]===u.range[0]&&o.range[1]===u.range[1]){l=c;break}}var p=h(s.params,l,e);switch(p&&a.push(p),s.type){case"FunctionExpression":var f=o.parents.pop();if("CallExpression"!==f.type||"define"!==f.callee.name&&"require"!==f.callee.name)"Property"===f.type&&f.leadingComments&&f.leadingComments.length>0&&(p=m(f,i.source,e,s.params[l].name),p&&a.push(p));else{var d=f.arguments;for(c=0;c<d.length;c++){var g=d[c];if("ArrayExpression"===g.type){p=h(g.elements,l,e),p&&a.push(p);break}}}break;case"FunctionDeclaration":p=m(s,i.source,e,s.params[l].name),p&&a.push(p)}return t.all(a)}return null})},"no-unused-vars-unused":function(e,t,n){return n.getAST(e).then(function(n){var i=r.findNode(t.start,n,{parents:!0});if(i&&i.parents&&i.parents.length>0){var o=i.parents.pop();if("VariableDeclarator"===o.type){var a=i.parents.pop();if("VariableDeclaration"===a.type){if(1===a.declarations.length)return e.setText("",a.range[0],a.range[1]);var s=d(a.declarations,o);if(s>-1)return h(a.declarations,s,e)}}}return null})},"no-unused-vars-unused-funcdecl":function(e,t,n){return n.getAST(e).then(function(n){var i=r.findNode(t.start,n,{parents:!0});if(i&&i.parents&&i.parents.length>0){var o=i.parents.pop();if("FunctionDeclaration"===o.type)return e.setText("",o.range[0],o.range[1])}return null})},"no-unused-params-expr":function(e,t,n){function i(t,n,r){if(Array.isArray(r)){var i=r[r.length-1];if("Block"===i.type){var o=i.range[0]+i.value.length+p(n.source,i.range[0]),a=s(n.source,o),l=c(n.source,a),u="* @callback\n"+l;return e.setText(u,o-1,o-1)}}return a=s(n.source,t.range[0]),l=c(n.source,a),e.setText("/**\n"+l+" * @callback\n"+l+" */\n"+l,t.range[0],t.range[0])}return n.getAST(e).then(function(n){var o=r.findNode(t.start,n,{parents:!0});if(o&&o.parents&&o.parents.length>0){var a,s=o.parents.pop(),l=o.parents.pop();switch(l.type){case"Property":g("@callback",l)||g("@callback",l.key)||(a=i(l,n,l.leadingComments?l.leadingComments:l.key.leadingComments));break;case"AssignmentExpression":var c=l.left;"MemberExpression"!==c.type||g("@callback",c)?"Identifier"!==c.type||g("@callback",c)||(a=i(l.left,n,c.leadingComments)):a=i(c,n,c.leadingComments);break;case"VariableDeclarator":var u=l;l=l.parent,l.declarations[0].range[0]==u.range[0]&&l.declarations[0].range[1]===u.range[1]?a=i(l,n,u.id.leadingComments):g("@callback",u.id)||(a=i(u,n,u.id.leadingComments))}if(!a&&!g("@callback",s))return e.setText("/* @callback */ ",s.range[0],s.range[0])}return a})},"use-isnan":function(e,t,n){return n.getAST(e).then(function(n){var i=r.findNode(t.start,n,{parents:!0});if(i&&i.parents&&i.parents.length>0){var o=i.parents.pop();if("BinaryExpression"===o.type){var a;if("Identifier"===o.left.type&&"NaN"===o.left.name?a=o.right:"Identifier"===o.right.type&&"NaN"===o.right.name&&(a=o.left),a)return e.getText(a.range[0],a.range[1]).then(function(t){return e.setText("isNaN("+t+")",o.range[0],o.range[1])})}}})},semi:function(e,t){return e.setText(";",t.end,t.end)},"missing-nls":function(e,t,n){return t.data&&"number"==typeof t.data.indexOnLine?n.getAST(e).then(function(n){var r=l(n.source,t.end),i=" //$NON-NLS-"+(t.data.indexOnLine+1)+"$";return e.setText(i,r,r)}):null}}),a.prototype.contructor=a,{JavaScriptQuickfixes:a}}),n("javascript/nls/messages",{root:!0}),n("javascript/nls/root/messages",{pluginName:"Orion JavaScript Tool Support",pluginDescription:"This plug-in provides JavaScript tools support for Orion, like editing, search, navigation, validation, and code completion.",error:"Error",warning:"Warning",ignore:"Ignore",ternContentAssist:"Tern JavaScript content assist",prefCodeStyle:"Code Style",prefBestPractices:"Best Practices",prefPotentialProblems:"Potential Programming Problems",sourceOutline:"Source Outline",sourceOutlineTitle:"JavaScript source outline",contentAssist:"JavaScript content assist",eslintValidator:"JavaScript Validator",missingCurly:"Statements not enclosed in braces:",noCaller:"Discouraged 'arguments.caller' or 'arguments.callee' use:",noCommaDangle:"Trailing commas in object expressions:",noCondAssign:"Assignments in conditional expressions:",noConsole:"Discouraged console use in browser code:",noConstantCondition:"Constant as conditional expression:",noRegexSpaces:"Multiple spaces in regular expressions:",noReservedKeys:"Reserved words used as property keys:",noReservedKeysFixName:"Surround key with quotes",noEqeqeq:"Discouraged '==' use:",noDebugger:"Discouraged 'debugger' statement use:",noWith:"Discouraged 'with' statement use:",noEval:"Discouraged 'eval()' use:",noImpliedEval:"Discouraged implied 'eval()' use:",noDupeKeys:"Duplicate object keys:",noIterator:"Discouraged __iterator__ property use:",noProto:"Discouraged __proto__ property use:",noUndefInit:"Explicitly initializing variables to undefined:",useIsNaN:"NaN not compared with isNaN():",useIsNanFixName:"Use isNaN()",missingDoc:"Missing JSDoc:",noUnreachable:"Unreachable code:",noFallthrough:"Switch case fall-through:",useBeforeDefine:"Member used before definition:",noEmptyBlock:"Undocumented empty block:",newParens:"Missing parentheses in constructor call:",noNewArray:"Discouraged 'new Array()':",noNewArrayFixName:"Convert to array literal",noNewFunc:"Discouraged 'new Function()':",noNewObject:"Discouraged 'new Object()':",noNewWrappers:"Discouraged wrapper objects:",missingSemi:"Missing semicolons:",unusedVars:"Unused variables:",varRedecl:"Variable re-declarations:",varShadow:"Variable shadowing:",undefMember:"Undeclared global reference:",unnecessarySemis:"Unnecessary semicolons:",unusedParams:"Unused parameters:",unsupportedJSLint:"Unsupported environment directive:",noThrowLiteral:"Literal used in 'throw':",missingNls:"Non-externalized string literals (missing $NON-NLS$ tag):",generateDocName:"Generate Element Comment",generateDocTooltip:"Generate a JSDoc-like comment for the selected JavaScript element",renameElement:"Rename Element",renameElementTooltip:"Rename the selected JavaScript element",renameFailedTimedOut:"Could not rename element - operation timed out",openDeclName:"Open Declaration",openDeclTooltip:"Open the declaration of the selected element",openImplName:"Open Implementation",openImplTooltip:"Open the implementation of the selected element",workspaceRefsName:"Workspace",workspaceRefsTooltip:"Show all references to the selection in the workspace",projectRefsName:"Project",projectRefsTooltip:"Show all references to the selection in the current project",referencesMenuName:"References",referencesMenuTooltip:"Show different kinds of references",noDeclTimedOut:"No declaration was found - operation timed out",validTypeof:"Invalid 'typeof' comparison:",noSparseArrays:"Sparse array declarations:",javascriptValidation:"Javascript Validation",jsHover:"JavaScript Hover Provider",removeExtraSemiFixName:"Remove extra semicolon",addFallthroughCommentFixName:"Add $FALLTHROUGH$ comment",addEmptyCommentFixName:"Comment empty block",addESLintEnvFixName:"Add to eslint-env directive",addESLintGlobalFixName:"Add to globals directive",removeUnusedParamsFixName:"Remove parameter",commentCallbackFixName:"Add @callback to function",eqeqeqFixName:"Update operator",unreachableFixName:"Remove unreachable code",sparseArrayFixName:"Convert to normal array",semiFixName:"Add missing ';'",radix:"Missing radix parameter to parseInt():",unusedVarsUnusedFixName:"Remove unused variable",unusedFuncDeclFixName:"Remove unused function",noCommaDangleFixName:"Remove extra ','",addBBreakFixName:"Add break statement",noShadowGlobals:"Global shadowing:",noThrowLiteralFixName:"Change to Error",missingNlsFixName:"Add missing $NON-NLS$ tag",funcProposalDescription:" - The name of the function",funcParamProposalDescription:" - Function parameter",eslintRuleProposalDescripton:" - ESLint rule",eslintEnvProposalDescription:" - ESLint environment name",onlineDocumentationProposalEntry:"\n\n[Online documentation](${0})",keywordProposalDescription:" - Keyword",keywordHoverProposal:"ECMAScript reserved keyword",reloadPluginCmd:"Reload",reloadPluginCmdTooltip:"Reload plug-in",reloadAllPluginsCmd:"Reload All",reloadAllPluginsCmdTooltip:"Reload all plug-ins",templateHoverHeader:"Template source code:\n\n",templateAssistHeader:"Templates",keywordAssistHeader:"Keywords",ternPlugins:"Tern Plug-ins",noTernPluginsAvailable:"No Tern plug-ins are currently loaded. This may be because you have not yet activated content assist in a JavaScript file. Tern plug-ins provide type information and code templates for JavaScript.",noDeclFound:"Could not find declaration",deprecatedHoverTitle:"Deprecated.",parametersHoverTitle:"Parameters:",returnsHoverTitle:"Returns:",throwsHoverTitle:"Throws:",callbackHoverTitle:"Callback:",sinceHoverTitle:"Since:",seeAlsoHoverTitle:"See Also:",openFileForTitle:"Open file for",functionDecls:"Function Declarations",functionCalls:"Function Calls",propAccess:"Property Access",propWrite:"Property Write",varAccess:"Variable Access",varWrite:"Variable Write",varDecls:"Variable Declarations",regex:"Regular Expressions",strings:"Strings",blockComments:"Block Comments",lineComments:"Line Comments",partial:"Partial Matches",uncategorized:"Uncategorized",parseErrors:"Parse Errors",noFileContents:"Could not compute references: failed to compute file text content",noFileMeta:"Could not compute references: failed to compute file metadata",cannotComputeRefs:"Cannot compute references: ${0}",notAnIdentifier:"Cannot compute references at the selected location: Location is not an identifier"}),n("orion/editor/templates",[],function(){function e(e,t){return t.substring(e.length)}function t(e,t,n,r){this.prefix=e,this.description=t,this.template=n,this.name=r,this._parse()}function n(e,t){this._keywords=e||[],this._templates=[],this.addTemplates(t||[])}var r="${tab}",i="${delimiter}",o="${cursor}";return t.prototype={getProposal:function(e,t,n){var a,s=t-e.length,l={},c=void 0!==n.delimiter?n.delimiter:"\n";n.indentation&&(c+=n.indentation);for(var u=void 0!==n.tab?n.tab:"	",p=0,f=this.variables,d=this.segments,h=[],m=0;m<d.length;m++){var g=d[m],v=f[g];if(void 0!==v)switch(g){case r:g=u;break;case i:g=c;break;case o:g="",a=p;break;default:var y=l[g];y||(y=l[g]={data:v.data,positions:[]}),g=v.substitution,y.data&&y.data.values&&(g=y.data.values[0]),y.positions.push({offset:s+p,length:g.length})}h.push(g),p+=g.length}var b=[];for(var x in l)l.hasOwnProperty(x)&&b.push(l[x]);return h=h.join(""),void 0===a&&(a=h.length),{proposal:h,name:this.name,description:this.description,groups:b,escapePosition:s+a,style:"noemphasis"}},match:function(e){return 0===this.prefix.indexOf(e)},_parse:function(){var e,t=this.template,n=[],o={},a=0;t=t.replace(/\n/g,i),t=t.replace(/\t/g,r),t.replace(/\$\{((?:[^\\}]+|\\.))*\}/g,function(r,i,s){var l=r.substring(2,r.length-1),c=r,u=l,p=null,f=u.indexOf(":");-1!==f&&(u=u.substring(0,f),c="${"+u+"}",p=JSON.parse(l.substring(f+1).replace("\\}","}").trim()));var d=o[c];return d||(d=o[c]={}),d.substitution=u,p&&(d.data=p),e=t.substring(a,s),e&&n.push(e),n.push(c),a=s+r.length,u}),e=t.substring(a,t.length),e&&n.push(e),this.segments=n,this.variables=o}},n.prototype={addTemplates:function(e){for(var n=this.getTemplates(),r=0;r<e.length;r++)n.push(new t(e[r].prefix,e[r].description,e[r].template,e[r].name))},initialize:function(){},computeProposals:function(e,t,n){var r=this.getPrefix(e,t,n),i=[];return this.isValid(r,e,t,n)&&(i=i.concat(this.getTemplateProposals(r,t,n)),i=i.concat(this.getKeywordProposals(r))),i},getKeywords:function(){return this._keywords},getKeywordProposals:function(t){var n=[],r=this.getKeywords();if(r){for(var i=0;i<r.length;i++)0===r[i].indexOf(t)&&n.push({proposal:e(t,r[i]),description:r[i],style:"noemphasis_keyword"});0<n.length&&n.splice(0,0,{proposal:"",description:"Keywords",style:"noemphasis_title_keywords",unselectable:!0})}return n},getPrefix:function(e,t,n){return n.prefix},getTemplates:function(){return this._templates},getTemplateProposals:function(e,t,n){for(var r=[],i=this.getTemplates(),o=0;o<i.length;o++){var a=i[o];if(a.match(e)){var s=a.getProposal(e,t,n);this.removePrefix(e,s),r.push(s)}}return 0<r.length&&(r.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}),r.splice(0,0,{proposal:"",description:"Templates",style:"noemphasis_title",unselectable:!0})),r},removePrefix:function(t,n){var r=n.overwrite=n.proposal.substring(0,t.length)!==t;r||(n.proposal=e(t,n.proposal))},isValid:function(){return!0}},{Template:t,TemplateContentAssist:n}}),n("javascript/contentAssist/templates",["orion/editor/templates"],function(e){function t(t){if(t.t)return t.t;var n=new e.Template(t.prefix,t.description,t.template,t.name);return t.t=n,n}function n(e){for(var n=[],r=i.length,o=0;r>o;o++){var a=i[o];a.nodes&&a.nodes[e]&&n.push(a)}return n.map(t,this)}var r={type:"link",values:["boolean","function","number","object","string","symbol","undefined"],title:"Typeof Options",style:"emphasis"},i=[{prefix:"eslint",name:"eslint",nodes:{top:!1,member:!1,prop:!1,doc:!0},description:" - ESLint rule enable or disable",template:"eslint ${rule-id}:${0/1} ${cursor}"},{prefix:"eslint-env",name:"eslint-env",nodes:{top:!1,member:!1,prop:!1,doc:!0},description:" - ESLint environment directive",template:"eslint-env ${library}"},{prefix:"eslint-enable",name:"eslint-enable",nodes:{top:!1,member:!1,prop:!1,doc:!0},description:" - ESLint rule enablement directive",template:"eslint-enable ${rule-id} ${cursor}"},{prefix:"eslint-disable",name:"eslint-disable",nodes:{top:!1,member:!1,prop:!1,doc:!0},description:" - ESLint rule disablement directive",template:"eslint-disable ${rule-id} ${cursor}"},{prefix:"@author",name:"@author",nodes:{top:!1,member:!1,prop:!1,jsdoc:!0},description:" - Author JSDoc tag",template:"@author ${cursor}"},{prefix:"@callback",name:"@callback",nodes:{top:!1,member:!1,prop:!1,jsdoc:!0},description:" - Callback JSDoc tag",template:"@callback ${cursor}"},{prefix:"@class",name:"@class",nodes:{top:!1,member:!1,prop:!1,jsdoc:!0},description:" - Class JSDoc tag",template:"@class ${cursor}"},{prefix:"@constructor",name:"@constructor",nodes:{top:!1,member:!1,prop:!1,jsdoc:!0},description:" - Constructor JSDoc tag",template:"@constructor ${cursor}"},{prefix:"@deprecated",name:"@deprecated",nodes:{top:!1,member:!1,prop:!1,jsdoc:!0},description:" - Deprecated JSDoc tag",template:"@deprecated ${cursor}"},{prefix:"@description",name:"@description",nodes:{top:!1,member:!1,prop:!1,jsdoc:!0},description:" - Description JSDoc tag",template:"@description ${cursor}"},{prefix:"@function",name:"@function",nodes:{top:!1,member:!1,prop:!1,jsdoc:!0},description:" - Function JSDoc tag",template:"@function ${cursor}"},{prefix:"@lends",name:"@lends",nodes:{top:!1,member:!1,prop:!1,jsdoc:!0},description:" - Lends JSDoc tag",template:"@lends ${cursor}"},{prefix:"@license",name:"@license",nodes:{top:!1,member:!1,prop:!1,jsdoc:!0},description:" - License JSDoc tag",template:"@license ${cursor}"},{prefix:"@name",name:"@name",nodes:{top:!1,member:!1,prop:!1,jsdoc:!0},description:" - Name JSDoc tag",template:"@name ${cursor}"},{prefix:"@param",name:"@param",nodes:{top:!1,member:!1,prop:!1,jsdoc:!0},description:" - Param JSDoc tag",template:"@param {${type}} ${cursor}"},{prefix:"@private",name:"@private",nodes:{top:!1,member:!1,prop:!1,jsdoc:!0},description:" - Private JSDoc tag",template:"@private ${cursor}"},{prefix:"@public",name:"@public",nodes:{top:!1,member:!1,prop:!1,jsdoc:!0},description:" - Public JSDoc tag",template:"@public ${cursor}"},{prefix:"@returns",name:"@returns",nodes:{top:!1,member:!1,prop:!1,jsdoc:!0},description:" - Returns JSDoc tag",template:"@returns {${type}} ${cursor}"},{prefix:"@see",name:"@see",nodes:{top:!1,member:!1,prop:!1,jsdoc:!0},description:" - See JSDoc tag",template:"@see ${cursor}"},{prefix:"@since",name:"@since",nodes:{top:!1,member:!1,prop:!1,jsdoc:!0},description:" - Since JSDoc tag",template:"@since ${cursor}"},{prefix:"@throws",name:"@throws",nodes:{top:!1,member:!1,prop:!1,jsdoc:!0},description:" - Throws JSDoc tag",template:"@throws {${type}} ${cursor}"},{prefix:"arrow",name:"arrow",nodes:{top:!0,member:!1,prop:!1},description:" - arrow function expression",template:"${param} => {${cursor}}"},{prefix:"arrow",name:"arrow object",nodes:{top:!0,member:!1,prop:!1},description:" - arrow function expression returning an object",template:"var ${name} = () => ({ ${prop}: ${val}${cursor} });"},{prefix:"if",name:"if",nodes:{top:!0,member:!1,prop:!1},description:" - if statement",template:"if (${condition}) {\n	${cursor}\n}"},{prefix:"if",name:"if",nodes:{top:!0,member:!1,prop:!1},description:" - if else statement",template:"if (${condition}) {\n	${cursor}\n} else {\n	\n}"},{prefix:"for",name:"for",nodes:{top:!0,member:!1,prop:!1},description:" - iterate over array",template:"for (var ${i}=0; ${i}<${array}.length; ${i}++) {\n	${cursor}\n}"},{prefix:"for",name:"for",nodes:{top:!0,member:!1,prop:!1},description:" - iterate over array with local var",template:"for (var ${i}=0; ${i}<${array}.length; ${i}++) {\n	var ${value} = ${array}[${i}];\n	${cursor}\n}"},{prefix:"for",name:"for..in",nodes:{top:!0,member:!1,prop:!1},description:" - iterate over properties of an object",template:"for (var ${property} in ${object}) {\n	if (${object}.hasOwnProperty(${property})) {\n		${cursor}\n	}\n}"},{prefix:"while",name:"while",nodes:{top:!0,member:!1,prop:!1},description:" - while loop with condition",template:"while (${condition}) {\n	${cursor}\n}"},{prefix:"do",name:"do",nodes:{top:!0,member:!1,prop:!1},description:" - do while loop with condition",template:"do {\n	${cursor}\n} while (${condition});"},{prefix:"eslint",name:"eslint",nodes:{top:!0,member:!1,prop:!1,doc:!1,jsdoc:!1},description:" - ESLint rule enable / disable directive",template:"/* eslint ${rule-id}:${0/1}*/"},{prefix:"eslint-env",name:"eslint-env",nodes:{top:!0,member:!1,prop:!1,doc:!1,jsdoc:!1},description:" - ESLint environment directive",template:"/* eslint-env ${library}*/"},{prefix:"eslint-enable",name:"eslint-enable",nodes:{top:!0,member:!1,prop:!1,doc:!1,jsdoc:!1},description:" - ESLint rule enablement directive",template:"/* eslint-enable ${rule-id} */"},{prefix:"eslint-disable",name:"eslint-disable",nodes:{top:!0,member:!1,prop:!1,doc:!1,jsdoc:!1},description:" - ESLint rule disablement directive",template:"/* eslint-disable ${rule-id} */"},{prefix:"switch",name:"switch",nodes:{top:!0,member:!1,prop:!1},description:" - switch case statement",template:"switch (${expression}) {\n	case ${value1}:\n		${cursor}\n		break;\n	default:\n}"},{prefix:"case",name:"case",nodes:{top:!0,member:!1,prop:!1,swtch:!0},description:" - case statement",template:"case ${value}:\n	${cursor}\n	break;"},{prefix:"try",name:"try",nodes:{top:!0,member:!1,prop:!1},description:" - try..catch statement",template:"try {\n	${cursor}\n} catch (${err}) {\n}"},{prefix:"try",name:"try",nodes:{top:!0,member:!1,prop:!1},description:" - try..catch statement with finally block",template:"try {\n	${cursor}\n} catch (${err}) {\n} \n finally {\n}"},{prefix:"typeof",name:"typeof",nodes:{top:!0,member:!1,prop:!1},description:" - typeof statement",template:'typeof ${object} === "${type:'+JSON.stringify(r).replace("}","\\}")+'}"'},{prefix:"instanceof",name:"instanceof",nodes:{top:!0,member:!1,prop:!1},description:" - instanceof statement",template:"${object} instanceof ${type}"},{prefix:"with",name:"with",nodes:{top:!0,member:!1,prop:!1},description:" - with statement",template:"with (${object}) {\n	${cursor}\n}"},{prefix:"function",name:"function",nodes:{top:!0,member:!1,prop:!1},description:" - function declaration",template:"/**\n * @name ${name}\n * @param ${parameter}\n */\nfunction ${name} (${parameter}) {\n	${cursor}\n}"},{prefix:"function",name:"function",nodes:{top:!1,member:!1,prop:!1,obj:!0},description:" - member function expression",template:"/**\n * @name ${name}\n * @function\n * @param ${parameter}\n */\n${name}: function(${parameter}) {\n	${cursor}\n}"},{prefix:"function",name:"function",nodes:{top:!1,member:!1,prop:!0,obj:!1},description:" - member function expression",template:"function(${parameter}) {\n	${cursor}\n}"},{prefix:"define",name:"define",nodes:{top:!0,member:!1,prop:!1},description:" - define function call",template:"/* eslint-env amd */\ndefine('${name}', [\n'${import}'\n], function(${importname}) {\n	${cursor}\n});"},{prefix:"nls",name:"nls",nodes:{top:!0,member:!1,prop:!1},description:" - non NLS string",template:"${cursor} //$NON-NLS-${0}$"},{prefix:"log",name:"log",nodes:{top:!0,member:!1,prop:!1},description:" - console log",template:"console.log(${object});"},{prefix:"node",name:"node",nodes:{top:!0,member:!1,prop:!1,doc:!1,jsdoc:!1},description:" - Node require function call",template:"/* eslint-env node*/\nvar lib = require('${cursor}');"}];
return{getTemplatesForKind:n}}),n("orion/URITemplate",[],function(){function e(e){this._text=e}function t(e){return e.replace("%25","%")}function n(e,n){if("U"===n)return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()});if("U+R"===n)return encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(p,t);if("U+R-,"===n)return encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/,/g,"%2C");throw new Error("Unknown allowed character set: "+n)}function r(e,t,r){for(var i=[],o=0;o<e.length;o++)"undefined"!=typeof e[o]&&i.push(n(e[o],t));return i.join(r)}function i(e,t,r,i){for(var o=Object.keys(e),a=[],s=0;s<o.length;s++)"undefined"!=typeof e[o[s]]&&a.push(n(o[s],t)+r+n(e[o[s]],t));return a.join(i)}function o(e){for(var t=[],n=e.split(","),r=0;r<n.length;r++){var i=n[r].match(u);if(null===i)throw new Error("Bad VarSpec: "+e);t.push({name:i[1],explode:!!i[2],prefix:i[3]?parseInt(i[3],10):-1})}return t}function a(e){if(0===e.length)throw new Error("Invalid Expression: 0 length expression");this._operator=c[e[0]],this._operator?e=e.substring(1):this._operator=c.NUL,this._varSpecList=o(e)}function s(t){for(var n=[],r=0,i=t.indexOf("{",r);-1!==i;){n.push(new e(t.substring(r,i)));var o=t.indexOf("}",i+1);if(-1===o)throw new Error("Invalid template: "+t);n.push(new a(t.substring(i+1,o))),r=o+1,i=t.indexOf("{",r)}return n.push(new e(t.substring(r))),n}function l(e){this._templateComponents=s(e)}var c={NUL:{first:"",sep:",",named:!1,ifemp:"",allow:"U"},"+":{first:"",sep:",",named:!1,ifemp:"",allow:"U+R"},".":{first:".",sep:",",named:!1,ifemp:"",allow:"U"},"/":{first:"/",sep:"/",named:!1,ifemp:"",allow:"U"},";":{first:";",sep:";",named:!0,ifemp:"",allow:"U"},"?":{first:"?",sep:"&",named:!0,ifemp:"=",allow:"U"},"&":{first:"&",sep:"&",named:!0,ifemp:"=",allow:"U"},"#":{first:"#",sep:",",named:!1,ifemp:"",allow:"U+R"},",":{first:"",sep:",",named:!1,ifemp:"",allow:"U+R-,"}},u=/^((?:(?:[a-zA-Z0-9_])|(?:%[0-9A-F][0-9A-F]))(?:(?:[a-zA-Z0-9_.])|(?:%[0-9A-F][0-9A-F]))*)(?:(\*)|:([0-9]+))?$/,p=/%25[0-9A-F][0-9A-F]/g;return e.prototype={expand:function(){return encodeURI(this._text)}},a.prototype={expand:function(e){for(var t=[],o=0;o<this._varSpecList.length;o++){var a=this._varSpecList[o],s=a.name,l=e[s],c=typeof l;if("undefined"!==c&&null!==l){var u=0===t.length?this._operator.first:this._operator.sep;if("string"===c)this._operator.named&&(u+=n(s,"U+R"),u+=0===l.length?this._operator.ifemp:"="),-1!==a.prefix&&a.prefix<l.length&&(l=l.substring(0,a.prefix)),u+=n(l,this._operator.allow);else if(Array.isArray(l)){if(0===l.length)continue;if(a.explode)u+=r(l,this._operator.allow,this._operator.sep);else{var p=r(l,this._operator.allow,",");this._operator.named&&(u+=n(s,"U+R"),u+=0===p.length?this._operator.ifemp:"="),u+=p}}else{if("object"!==c)throw new Error("bad param type: "+s+" : "+c);if(0===Object.keys(l).length)continue;if(a.explode)u+=i(l,this._operator.allow,"=",this._operator.sep);else{var f=i(l,this._operator.allow,",",",");this._operator.named&&(u+=n(s,"U+R"),u+=0===f.length?this._operator.ifemp:"="),u+=f}}t.push(u)}}return t.join("")}},l.prototype={expand:function(e){for(var t=[],n=0;n<this._templateComponents.length;n++)t.push(this._templateComponents[n].expand(e));return t.join("")}},l}),function(e){"use strict";function t(e,t,n){return e.slice(t,n)}function n(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function r(e){return"\n"===e||"\r"===e||"\u2028"===e||"\u2029"===e}function i(e){return" "===e||"	"===e||""===e||"\f"===e||""===e||e.charCodeAt(0)>=5760&&"".indexOf(e)>=0}function o(e){return"0123456789".indexOf(e)>=0}function a(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function s(e){return"01234567".indexOf(e)>=0}function l(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||e>="0"&&"9">=e}function c(e){return"$"===e||"_"===e||"\\"===e||e>="a"&&"z">=e||e>="A"&&"Z">=e||e.charCodeAt(0)>=128&&k.NonAsciiIdentifierStart.test(e)}function u(e){return"$"===e||"_"===e||"\\"===e||e>="a"&&"z">=e||e>="A"&&"Z">=e||e>="0"&&"9">=e||e.charCodeAt(0)>=128&&k.NonAsciiIdentifierPart.test(e)}function p(e){return-1==="><(){}[],:*|?!=".indexOf(e)&&!i(e)&&!r(e)}function f(e){return"param"===e||"argument"===e||"arg"===e}function d(e){return"property"===e||"prop"===e}function h(e){return f(e)||d(e)||"extends"===e||"augments"===e||"alias"===e||"this"===e||"mixes"===e||"requires"===e}function m(e){return h(e)||"const"===e||"constant"===e}function g(e){return d(e)||f(e)}function v(e){return f(e)||"define"===e||"enum"===e||"implements"===e||"return"===e||"this"===e||"type"===e||"typedef"===e||"returns"===e||d(e)}function y(e){return v(e)||"throws"===e||"const"===e||"constant"===e||"namespace"===e||"member"===e||"var"===e||"module"===e||"constructor"===e||"class"===e}function b(e){this.name="DoctrineError",this.message=e}function x(e){throw new b(e)}function S(){}function E(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function w(e){var t,n,o,a,s,l=0,c=1,u=2;for(e=e.replace(/^\/\*\*?/,"").replace(/\*\/$/,""),t=0,n=e.length,o=l,a="";n>t;){switch(s=e[t],o){case l:r(s)?a+=s:"*"===s?o=c:i(s)||(a+=s,o=u);break;case c:i(s)||(a+=s),o=r(s)?l:u;break;case u:a+=s,r(s)&&(o=l)}t+=1}return a}var _,k,C,T,L,A,P;_="0.5.1",k={NonAsciiIdentifierStart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")},C=void 0!==typeof"doctrine"[0],A=Array.isArray,A||(A=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),P=function(){var e=Object.prototype.hasOwnProperty;return function(t,n){return e.call(t,n)}}(),C||(t=function(e,t,n){return e.slice(t,n).join("")}),b.prototype=new Error,b.prototype.constructor=b,"dev"===_.slice(-3)&&(S=function(e,t){e||x(t)}),function(e){function t(e,t,n,r){this._previous=e,this._index=t,this._token=n,this._value=r}function n(){var e=U[G];return G+=1,e}function l(e){var t,r,i,o=0;for(r="u"===e?4:2,t=0;r>t;++t){if(!(B>G&&a(U[G])))return"";i=n(),o=16*o+"0123456789abcdef".indexOf(i.toLowerCase())}return String.fromCharCode(o)}function u(){var e,t,i,o,a,c="",u=!1;for(e=U[G],++G;B>G;){if(t=n(),t===e){e="";break}if("\\"===t)if(t=n(),r(t))"\r"===t&&"\n"===U[G]&&++G;else switch(t){case"n":c+="\n";break;case"r":c+="\r";break;case"t":c+="	";break;case"u":case"x":a=G,o=l(t),o?c+=o:(G=a,c+=t);break;case"b":c+="\b";break;case"f":c+="\f";break;case"v":c+="";break;default:s(t)?(i="01234567".indexOf(t),0!==i&&(u=!0),B>G&&s(U[G])&&(u=!0,i=8*i+"01234567".indexOf(n()),"0123".indexOf(t)>=0&&B>G&&s(U[G])&&(i=8*i+"01234567".indexOf(n()))),c+=String.fromCharCode(i)):c+=t}else{if(r(t))break;c+=t}}return""!==e&&x("unexpected quote"),H=c,$.STRING}function f(){var e,t;if(e="","."!==t){if(e=n(),t=U[G],"0"===e){if("x"===t||"X"===t){for(e+=n();B>G&&(t=U[G],a(t));)e+=n();return e.length<=2&&x("unexpected token"),B>G&&(t=U[G],c(t)&&x("unexpected token")),H=parseInt(e,16),$.NUMBER}if(s(t)){for(e+=n();B>G&&(t=U[G],s(t));)e+=n();return B>G&&(t=U[G],(c(t)||o(t))&&x("unexpected token")),H=parseInt(e,8),$.NUMBER}o(t)&&x("unexpected token")}for(;B>G&&(t=U[G],o(t));)e+=n()}if("."===t)for(e+=n();B>G&&(t=U[G],o(t));)e+=n();if("e"===t||"E"===t)if(e+=n(),t=U[G],("+"===t||"-"===t)&&(e+=n()),t=U[G],o(t))for(e+=n();B>G&&(t=U[G],o(t));)e+=n();else x("unexpected token");return B>G&&(t=U[G],c(t)&&x("unexpected token")),H=parseFloat(e),$.NUMBER}function d(){var e,t;for(H=n();B>G&&p(U[G])&&(e=U[G],!("."===e&&B>G+1&&(t=U[G+1],"<"===t)));)H+=n();return $.NAME}function h(){var e;for(W=G;B>G&&i(U[G]);)n();if(G>=B)return q=$.EOF;switch(e=U[G]){case'"':return q=u();case":":return n(),q=$.COLON;case",":return n(),q=$.COMMA;case"(":return n(),q=$.LPAREN;case")":return n(),q=$.RPAREN;case"[":return n(),q=$.LBRACK;case"]":return n(),q=$.RBRACK;case"{":return n(),q=$.LBRACE;case"}":return n(),q=$.RBRACE;case".":if(n(),B>G){if(e=U[G],"<"===e)return n(),q=$.DOT_LT;if("."===e&&B>G+1&&"."===U[G+1])return n(),n(),q=$.REST;if(o(e))return q=f()}return q=$.DOT;case"<":return n(),q=$.LT;case">":return n(),q=$.GT;case"*":return n(),q=$.STAR;case"|":return n(),q=$.PIPE;case"?":return n(),q=$.QUESTION;case"!":return n(),q=$.BANG;case"=":return n(),q=$.EQUAL;default:return q=o(e)?f():p(e)?d():$.ILLEGAL}}function m(e,t){S(q===e,t||"consumed token not matched"),h()}function g(e){q!==e&&x("unexpected token"),h()}function v(){var e;if(m($.LPAREN,"UnionType should start with ("),e=[],q!==$.RPAREN)for(;;){if(e.push(F()),q===$.RPAREN)break;g($.PIPE)}return m($.RPAREN,"UnionType should end with )"),{type:V.UnionType,elements:e}}function y(){var e;for(m($.LBRACK,"ArrayType should start with ["),e=[];q!==$.RBRACK;){if(q===$.REST){m($.REST),e.push({type:V.RestType,expression:F()});break}e.push(F()),q!==$.RBRACK&&g($.COMMA)}return g($.RBRACK),{type:V.ArrayType,elements:e}}function b(){var e=H;return q===$.NAME||q===$.STRING?(h(),e):q===$.NUMBER?(m($.NUMBER),String(e)):void x("unexpected token")}function E(){var e;return e=b(),q===$.COLON?(m($.COLON),{type:V.FieldType,key:e,value:F()}):{type:V.FieldType,key:e,value:null}}function w(){var e;if(m($.LBRACE,"RecordType should start with {"),e=[],q===$.COMMA)m($.COMMA);else for(;q!==$.RBRACE;)e.push(E()),q!==$.RBRACE&&g($.COMMA);return g($.RBRACE),{type:V.RecordType,fields:e}}function _(){var e=H;return g($.NAME),{type:V.NameExpression,name:e}}function k(){var e=[];for(e.push(O());q===$.COMMA;)m($.COMMA),e.push(O());return e}function T(){var e,t;return e=_(),q===$.DOT_LT||q===$.LT?(h(),t=k(),g($.GT),{type:V.TypeApplication,expression:e,applications:t}):e}function L(){return m($.COLON,"ResultType should start with :"),q===$.NAME&&"void"===H?(m($.NAME),{type:V.VoidLiteral}):F()}function A(){for(var e,t=[],n=!0,r=!1;q!==$.RPAREN;)q===$.REST&&(m($.REST),r=!0),e=F(),e.type===V.NameExpression&&q===$.COLON&&(m($.COLON),e={type:V.ParameterType,name:e.name,expression:F()}),q===$.EQUAL?(m($.EQUAL),e={type:V.OptionalType,expression:e},n=!1):n||x("unexpected token"),r&&(e={type:V.RestType,expression:e}),t.push(e),q!==$.RPAREN&&g($.COMMA);return t}function P(){var e,t,n,r,i;return S(q===$.NAME&&"function"===H,"FunctionType should start with 'function'"),m($.NAME),g($.LPAREN),e=!1,n=[],t=null,q!==$.RPAREN&&(q!==$.NAME||"this"!==H&&"new"!==H?n=A():(e="new"===H,m($.NAME),g($.COLON),t=T(),q===$.COMMA&&(m($.COMMA),n=A()))),g($.RPAREN),r=null,q===$.COLON&&(r=L()),i={type:V.FunctionType,params:n,result:r},t&&(i["this"]=t,e&&(i["new"]=!0)),i}function j(){var e;switch(q){case $.STAR:return m($.STAR),{type:V.AllLiteral};case $.LPAREN:return v();case $.LBRACK:return y();case $.LBRACE:return w();case $.NAME:if("null"===H)return m($.NAME),{type:V.NullLiteral};if("undefined"===H)return m($.NAME),{type:V.UndefinedLiteral};if(e=t.save(),"function"===H)try{return P()}catch(n){e.restore()}return T();default:x("unexpected token")}}function F(){var e;return q===$.QUESTION?(m($.QUESTION),q===$.COMMA||q===$.EQUAL||q===$.RBRACE||q===$.RPAREN||q===$.PIPE||q===$.EOF||q===$.RBRACK?{type:V.NullableLiteral}:{type:V.NullableType,expression:j(),prefix:!0}):q===$.BANG?(m($.BANG),{type:V.NonNullableType,expression:j(),prefix:!0}):(e=j(),q===$.BANG?(m($.BANG),{type:V.NonNullableType,expression:e,prefix:!1}):q===$.QUESTION?(m($.QUESTION),{type:V.NullableType,expression:e,prefix:!1}):q===$.LBRACK?(m($.LBRACK),m($.RBRACK,"expected an array-style type declaration ("+H+"[])"),{type:V.TypeApplication,expression:{type:V.NameExpression,name:"Array"},applications:[e]}):e)}function O(){var e,t;if(e=F(),q!==$.PIPE)return e;for(t=[e],m($.PIPE);;){if(t.push(F()),q!==$.PIPE)break;m($.PIPE)}return{type:V.UnionType,elements:t}}function I(){var e;return q===$.REST?(m($.REST),{type:V.RestType,expression:O()}):(e=O(),q===$.EQUAL?(m($.EQUAL),{type:V.OptionalType,expression:e}):e)}function N(e,t){var n;return U=e,B=U.length,G=0,W=0,C||(U=U.split("")),h(),n=O(),t&&t.midstream?{expression:n,index:W}:(q!==$.EOF&&x("not reach to EOF"),n)}function R(e,t){var n;return U=e,B=U.length,G=0,W=0,C||(U=U.split("")),h(),n=I(),t&&t.midstream?{expression:n,index:W}:(q!==$.EOF&&x("not reach to EOF"),n)}function D(e,t,n){var r,i,o;switch(e.type){case V.NullableLiteral:r="?";break;case V.AllLiteral:r="*";break;case V.NullLiteral:r="null";break;case V.UndefinedLiteral:r="undefined";break;case V.VoidLiteral:r="void";break;case V.UnionType:for(r=n?"":"(",i=0,o=e.elements.length;o>i;++i)r+=D(e.elements[i],t),i+1!==o&&(r+="|");n||(r+=")");break;case V.ArrayType:for(r="[",i=0,o=e.elements.length;o>i;++i)r+=D(e.elements[i],t),i+1!==o&&(r+=t?",":", ");r+="]";break;case V.RecordType:for(r="{",i=0,o=e.fields.length;o>i;++i)r+=D(e.fields[i],t),i+1!==o&&(r+=t?",":", ");r+="}";break;case V.FieldType:r=e.value?e.key+(t?":":": ")+D(e.value,t):e.key;break;case V.FunctionType:for(r=t?"function(":"function (",e["this"]&&(r+=e["new"]?t?"new:":"new: ":t?"this:":"this: ",r+=D(e["this"],t),0!==e.params.length&&(r+=t?",":", ")),i=0,o=e.params.length;o>i;++i)r+=D(e.params[i],t),i+1!==o&&(r+=t?",":", ");r+=")",e.result&&(r+=(t?":":": ")+D(e.result,t));break;case V.ParameterType:r=e.name+(t?":":": ")+D(e.expression,t);break;case V.RestType:r="...",e.expression&&(r+=D(e.expression,t));break;case V.NonNullableType:r=e.prefix?"!"+D(e.expression,t):D(e.expression,t)+"!";break;case V.OptionalType:r=D(e.expression,t)+"=";break;case V.NullableType:r=e.prefix?"?"+D(e.expression,t):D(e.expression,t)+"?";break;case V.NameExpression:r=e.name;break;case V.TypeApplication:for(r=D(e.expression,t)+".<",i=0,o=e.applications.length;o>i;++i)r+=D(e.applications[i],t),i+1!==o&&(r+=t?",":", ");r+=">";break;default:x("Unknown type "+e.type)}return r}function M(e,t){return null==t&&(t={}),D(e,t.compact,t.topLevel)}var V,$,U,B,G,W,q,H;V={NullableLiteral:"NullableLiteral",AllLiteral:"AllLiteral",NullLiteral:"NullLiteral",UndefinedLiteral:"UndefinedLiteral",VoidLiteral:"VoidLiteral",UnionType:"UnionType",ArrayType:"ArrayType",RecordType:"RecordType",FieldType:"FieldType",FunctionType:"FunctionType",ParameterType:"ParameterType",RestType:"RestType",NonNullableType:"NonNullableType",OptionalType:"OptionalType",NullableType:"NullableType",NameExpression:"NameExpression",TypeApplication:"TypeApplication"},$={ILLEGAL:0,DOT:1,DOT_LT:2,REST:3,LT:4,GT:5,LPAREN:6,RPAREN:7,LBRACE:8,RBRACE:9,LBRACK:10,RBRACK:11,COMMA:12,COLON:13,STAR:14,PIPE:15,QUESTION:16,BANG:17,EQUAL:18,NAME:19,STRING:20,NUMBER:21,EOF:22},t.prototype.restore=function(){W=this._previous,G=this._index,q=this._token,H=this._value},t.save=function(){return new t(W,G,q,H)},e.parseType=N,e.parseParamType=R,e.stringify=M,e.Syntax=V}(T={}),function(e){function n(){var e=D[I];return I+=1,r(e)&&(N+=1),e}function o(){var e="";for(n();R>I&&l(D[I]);)e+=n();return e}function a(){var e,t,n=I;for(t=!1;R>n;){if(e=D[n],r(e))N+=1,t=!0;else if(t){if("@"===e)break;i(e)||(t=!1)}n+=1}return n}function s(e,t){for(var o,a,s,l=!1;t>I;){if(o=D[I],!i(o)){if("{"===o){n();break}l=!0;break}n()}if(!l){for(a=1,s="";t>I;)if(o=D[I],r(o))n();else{if("}"===o){if(a-=1,0===a){n();break}}else"{"===o&&(a+=1);s+=n()}if(0!==a)return x("Braces are not balanced");try{return f(e)?T.parseParamType(s):T.parseType(s)}catch(c){return}}}function p(e){var t;if(c(D[I])){for(t=n();e>I&&u(D[I]);)t+=n();return t}}function d(e){for(;e>I&&(i(D[I])||r(D[I]));)n()}function b(e,t,r){var i,o="";if(d(e),!(I>=e)&&(t&&"["===D[I]&&(i=!0,o=n()),c(D[I]))){if(o+=p(e),r)for(;"."===D[I];)o+=".",I+=1,o+=p(e);if(i){if("="===D[I])for(o+=n();e>I&&"]"!==D[I];)o+=n();if(I>=e||"]"!==D[I])return;o+=n()}return o}}function _(){for(;R>I&&"@"!==D[I];)n();return I>=R?!1:(S("@"===D[I]),!0)}function k(e,t){this._options=e,this._title=t,this._tag={title:t,description:null},this._options.lineNumbers&&(this._tag.lineNumber=N),this._last=0,this._extra={}}function L(e){var t,n;if(_())return t=o(),n=new k(e,t),n.parse()}function j(){var e,t,o="";for(t=!0;R>I&&(e=D[I],!t||"@"!==e);)r(e)?t=!0:t&&!i(e)&&(t=!1),o+=n();return E(o)}function F(e,t){var n,r,i,o,a,s=[];if(void 0===t&&(t={}),D="boolean"==typeof t.unwrap&&t.unwrap?w(e):e,t.tags)if(A(t.tags))for(i={},o=0,a=t.tags.length;a>o;o++)"string"==typeof t.tags[o]?i[t.tags[o]]=!0:x('Invalid "tags" parameter: '+t.tags);else x('Invalid "tags" parameter: '+t.tags);for(C||(D=D.split("")),R=D.length,I=0,N=0,M=t.recoverable,V=t.sloppy,$=t.strict,r=j();;){if(n=L(t),!n)break;(!i||i.hasOwnProperty(n.title))&&s.push(n)}return{description:r,tags:s}}var O,I,N,R,D,M,V,$;k.prototype.addError=function(e){var t=Array.prototype.slice.call(arguments,1),n=e.replace(/%(\d)/g,function(e,n){return S(n<t.length,"Message reference must be in range"),t[n]});return this._tag.errors||(this._tag.errors=[]),$&&x(n),this._tag.errors.push(n),M},k.prototype.parseType=function(){if(v(this._title))try{if(this._tag.type=s(this._title,this._last),!this._tag.type&&!f(this._title)&&!this.addError("Missing or invalid tag type"))return!1}catch(e){if(this._tag.type=null,!this.addError(e.message))return!1}else if(y(this._title))try{this._tag.type=s(this._title,this._last)}catch(t){}return!0},k.prototype._parseNamePath=function(e){var t;return t=b(this._last,V&&f(this._title),!0),t||e||this.addError("Missing or invalid tag name")?(this._tag.name=t,!0):!1},k.prototype.parseNamePath=function(){return this._parseNamePath(!1)},k.prototype.parseNamePathOptional=function(){return this._parseNamePath(!0)},k.prototype.parseName=function(){var e,t;if(m(this._title))if(this._tag.name=b(this._last,V&&f(this._title),g(this._title)),this._tag.name)t=this._tag.name,"["===t.charAt(0)&&"]"===t.charAt(t.length-1)&&(e=t.substring(1,t.length-1).split("="),e[1]&&(this._tag["default"]=e[1]),this._tag.name=e[0],"OptionalType"!==this._tag.type.type&&(this._tag.type={type:"OptionalType",expression:this._tag.type}));else{if(!h(this._title))return!0;if(f(this._title)&&this._tag.type.name)this._extra.name=this._tag.type,this._tag.name=this._tag.type.name,this._tag.type=null;else if(!this.addError("Missing or invalid tag name"))return!1}return!0},k.prototype.parseDescription=function(){var e=E(t(D,I,this._last));return e&&(/^-\s+/.test(e)&&(e=e.substring(2)),this._tag.description=e),!0},k.prototype.parseKind=function(){var e,n;return n={"class":!0,constant:!0,event:!0,external:!0,file:!0,"function":!0,member:!0,mixin:!0,module:!0,namespace:!0,typedef:!0},e=E(t(D,I,this._last)),this._tag.kind=e,P(n,e)||this.addError("Invalid kind name '%0'",e)?!0:!1},k.prototype.parseAccess=function(){var e;return e=E(t(D,I,this._last)),this._tag.access=e,"private"===e||"protected"===e||"public"===e||this.addError("Invalid access name '%0'",e)?!0:!1},k.prototype.parseVariation=function(){var e,n;return n=E(t(D,I,this._last)),e=parseFloat(n,10),this._tag.variation=e,isNaN(e)&&!this.addError("Invalid variation '%0'",n)?!1:!0},k.prototype.ensureEnd=function(){var e=E(t(D,I,this._last));return e&&!this.addError("Unknown content '%0'",e)?!1:!0},k.prototype.epilogue=function(){var e;return e=this._tag.description,!f(this._title)||this._tag.type||!e||"["!==e.charAt(0)||(this._tag.type=this._extra.name,this._tag.name=void 0,V||this.addError("Missing or invalid tag name"))?!0:!1},O={access:["parseAccess"],alias:["parseNamePath","ensureEnd"],augments:["parseNamePath","ensureEnd"],constructor:["parseType","parseNamePathOptional","ensureEnd"],"class":["parseType","parseNamePathOptional","ensureEnd"],"extends":["parseNamePath","ensureEnd"],deprecated:["parseDescription"],global:["ensureEnd"],inner:["ensureEnd"],instance:["ensureEnd"],kind:["parseKind"],mixes:["parseNamePath","ensureEnd"],mixin:["parseNamePathOptional","ensureEnd"],member:["parseType","parseNamePathOptional","ensureEnd"],method:["parseNamePathOptional","ensureEnd"],module:["parseType","parseNamePathOptional","ensureEnd"],func:["parseNamePathOptional","ensureEnd"],"function":["parseNamePathOptional","ensureEnd"],"var":["parseType","parseNamePathOptional","ensureEnd"],name:["parseNamePath","ensureEnd"],namespace:["parseType","parseNamePathOptional","ensureEnd"],"private":["ensureEnd"],"protected":["ensureEnd"],"public":["ensureEnd"],readonly:["ensureEnd"],requires:["parseNamePath","ensureEnd"],since:["parseDescription"],"static":["ensureEnd"],summary:["parseDescription"],"this":["parseNamePath","ensureEnd"],todo:["parseDescription"],variation:["parseVariation"],version:["parseDescription"]},k.prototype.parse=function(){var e,t,n,r;if(this._title||this.addError("Missing or invalid title")){for(this._last=a(this._title),n=P(O,this._title)?O[this._title]:["parseType","parseName","parseDescription","epilogue"],e=0,t=n.length;t>e;++e)if(r=n[e],!this[r]())return;return I=this._last,this._tag}},e.parse=F}(L={}),e.version=_,e.parse=L.parse,e.parseType=T.parseType,e.parseParamType=T.parseParamType,e.unwrapComment=w,e.Syntax=n(T.Syntax),e.Error=b,e.type={Syntax:e.Syntax,parseType:T.parseType,parseParamType:T.parseParamType,stringify:T.stringify}}("undefined"==typeof exports?doctrine={}:exports),n("doctrine/doctrine",function(){}),n("javascript/hover",["orion/objects","javascript/finder","orion/URITemplate","orion/Deferred","i18n!javascript/nls/messages","orion/i18nUtil","doctrine/doctrine"],function(e,t,n,r,i,o){function a(e,t){if(!e)return null;try{var n=Object.create(null);if(e){var r=doctrine.parse(e,{recoverable:!0,unwrap:!0});if(n.params=[],n["throws"]=[],n.see=[],n.desc=r.description?r.description:"",r.tags)for(var a=r.tags.length,l=0;a>l;l++){var c=r.tags[l];switch(c.title){case"name":c.name&&(n.name=c.name);break;case"description":null!==c.description&&(n.desc=""===n.desc?c.description:n.desc+"\n"+c.description);break;case"param":n.params.push(s(c.type)+(c.name?"__"+c.name+"__ ":"")+(c.description?c.description+"\n":""));break;case"returns":case"return":n.returns=s(c.type)+(c.description?c.description+"\n":"");break;case"since":c.description&&(n.since=c.description);break;case"callback":n.callback=c.description?c.description:"This function is used as a callback";break;case"throws":n["throws"].push(s(c.type)+(c.description?c.description+"\n":""));break;case"see":n.see.push(s(c.type)+(c.description?c.description+"\n":""));break;case"deprecated":n.deprecated=c.description?c.description+"\n":""}}}var u="";if("undefined"!=typeof n.deprecated&&(u+=o.formatMessage("__${0}__ ",i.deprecatedHoverTitle)+n.deprecated+"\n\n"),""!==n.desc&&(u+=n.desc+"\n\n"),n.params.length>0)for(u+=o.formatMessage("__${0}__\n\n",i.parametersHoverTitle),l=0;l<n.params.length;l++)u+=">"+n.params[l]+"\n\n";if(n.returns&&(u+=o.formatMessage("__${0}__\n\n>",i.returnsHoverTitle)+n.returns+"\n\n"),n["throws"].length>0)for(u+=o.formatMessage("__${0}__\n\n",i.throwsHoverTitle),l=0;l<n["throws"].length;l++)u+=">"+n["throws"][l]+"\n\n";if(n.callback&&(u+=o.formatMessage("__${0}__\n\n>",i.callbackHoverTitle)+n.callback+"\n\n"),n.since&&(u+=o.formatMessage("__${0}__\n\n>",i.sinceHoverTitle)+n.since+"\n\n"),n.see.length>0)for(u+=o.formatMessage("__${0}__\n\n",i.seeAlsoHoverTitle),l=0;l<n.see.length;l++)u+=">"+n.see[l],l<n.see.length-1&&(u+="\n\n");if(""===u)return null}catch(p){}var f={content:u,type:"markdown"};return t&&(f.offsetStart=t[0],f.offsetEnd=t[1]),f}function s(e){if(!e)return"";switch(e.type){case"NameExpression":if(e.name)return"*("+e.name+")* ";break;case"RecordType":return"*(Object)* ";case"FunctionType":return"*(Function)* ";case"NullableType":case"NonNullableType":case"OptionalType":case"RestType":return s(e.expression);case"TypeApplication":if("Array"===e.expression.name&&e.applications&&e.applications.length>0){var t=e.applications[0];return t.name?"*("+t.name+"[])* ":s(t.fields&&t.fields.length>0?t.fields[0]:t)}return s(e.expression);case"UnionType":case"ArrayType":if(e.elements&&e.elements.length>0)return s(e.elements[0]);break;case"FieldType":return s(e.value);default:return""}}function l(e,t,n,r){this.astManager=e,this.resolver=t,this.ternworker=n,this.cuprovider=r}var c;return e.mixin(l.prototype,{computeHoverInfo:function(e,n){if(n.proposal&&"js"===n.proposal.kind)return n.proposal.hover;var r=this;return e.getFileMetadata().then(function(i){if(!i)return null;if(Array.isArray(i.parents)){var o=0;i.parents.length>0&&(o=i.parents.length-1),r.resolver.setSearchLocation(i.parents[o].Location)}else r.resolver.setSearchLocation(null);return i&&"application/javascript"===i.contentType.id?r.astManager.getAST(e).then(function(e){return r._doHover(e,n,i)}):e.getText().then(function(e){var o=r.cuprovider.getCompilationUnit(function(){t.findScriptBlocks(e)},i);return o.validOffset(n.offset)?r.astManager.getAST(o.getEditorContext()).then(function(t){return r._doHover(t,n,i,e)}):null})})},_doHover:function(e,n,i,o){var s=t.findNode(n.offset,e,{parents:!0});if(s&&"Literal"===s.type){if(n.offset<=s.range[0]||n.offset>=s.range[1])return null;var l=s.parents,u=l.pop(),p=this;if("ArrayExpression"===u.type){if(u=l.pop(),"CallExpression"===u.type&&("define"===u.callee.name||"require"===u.callee.name)){var f=s.value;return p.resolver.getWorkspaceFile(f).then(function(e){return p._formatFilesHover(f,e)})}}else if("CallExpression"===u.type){var f=s.value;switch(u.callee.name){case"require":return p.resolver.getWorkspaceFile(f).then(function(e){/\.js$/.test(f)||(f+=".js");var t=p.resolver.resolveRelativeFiles(f,e,i);return t&&t.length>0?p._formatFilesHover(s.value,t):void 0});case"importScripts":var f=s.value;return p.resolver.getWorkspaceFile(f).then(function(e){/\.js$/.test(f)||(f+=".js");var t=p.resolver.resolveRelativeFiles(f,e,i);return t&&t.length>0?p._formatFilesHover(s.value,t):void 0})}}return null}c=new r;var d=[{type:"full",name:i.location,text:o?o:e.source}];return this.ternworker.postMessage({request:"documentation",args:{params:{offset:n.offset,docFormat:"full"},files:d,meta:{location:i.location}}},function(e){var t="";"documentation"===e.request&&(e.doc&&(t=a(e.doc.doc)),c.resolve(t))}),c},_formatFilesHover:function(e,t){if(e&&t){var r=null;t.length>1&&(r=o.formatMessage("###${0} '${1}'###",i.openFileForTitle,e));for(var a="",s=0;s<t.length;s++){var l=t[s];if(l.name&&l.path&&l.contentType){a+="[",l.contentType.icon&&(a+="!["+l.contentType.name+"]("+l.contentType.icon+")");var c=new n("#{,resource,params*}").expand({resource:l.location,params:{}});a+=l.name+"]("+c+") - "+l.path+"\n\n"}}return{title:r,content:a,type:"markdown",allowFullWidth:!0}}return null}}),l.prototype.contructor=l,{JavaScriptHover:l,formatMarkdownHover:a}}),n("eslint/lib/util",["exports"],function(e){var t="eslint-plugin-";return e.mixin=function(e,t){Object.keys(t).forEach(function(n){e[n]=t[n]})},e.mergeConfigs=function n(e,t){return Object.keys(t).forEach(function(r){var i=t[r];return"plugins"===r?(e[r]||(e[r]=[]),void i.forEach(function(t){-1===e[r].indexOf(t)&&e[r].push(t)})):Array.isArray(e[r])&&!Array.isArray(i)&&"number"==typeof i?void(e[r][0]=t[r]):void(e[r]="object"!=typeof i||Array.isArray(i)?t[r]:n(e[r]||{},t[r]))}),e},e.removePluginPrefix=function(e){var n;return n=0===e.indexOf(t)?e.substring(t.length):e},e.PLUGIN_NAME_PREFIX=t,e.getDeclaration=function(e,t){for(var n=t;!0;){if(!n)return null;var r,i=e.name?e.name:e.identifier.name;if(n.variables.some(function(e){return e.name===i?(r=e,!0):!1}),r)return r;n=n.upper}},e.returnableStatement=function(e){switch(e.type){case"ReturnStatement":case"ThrowStatement":case"ContinueStatement":case"BreakStatement":return!0}return!1},e}),n("javascript/logger",[],function(){return{log:function(){"undefined"!=typeof console&&console&&console.log?console.log.apply(console,arguments):postMessage&&postMessage.apply(null,arguments)},error:function(){"undefined"!=typeof console&&console&&console.error?console.error.apply(console,arguments):postMessage&&postMessage.apply(null,arguments)}}}),n("javascript/nls/problems",{root:!0}),n("javascript/nls/root/problems",{syntaxErrorIncomplete:"Syntax error, incomplete statement.",syntaxErrorBadToken:"Syntax error on token '${0}', delete this token.",esprimaParseFailure:"Esprima failed to parse this file because an error occurred: ${0}",eslintValidationFailure:"ESLint failed to validate this file because an error occurred: ${0}",curly:"Statement should be enclosed in braces.","curly-description":"Require curly braces for all control statements.",eqeqeq:"Expected '${0}' and instead saw '${1}'.","eqeqeq-description":"Require the use of === and !==.","missing-doc":"Missing documentation for function '${0}'.","missing-doc-description":"Require JSDoc for all functions.","missing-nls":"Non-externalized string literal '${0}'.","missing-nls-description":"Disallow non-externalized string literals.","new-parens":"Missing parentheses invoking constructor.","new-parens-description":"Require parenthesis for constructors.","no-caller":"'arguments.${0}' is deprecated.","no-caller-description":"Warn on use of arguments.callee or arguments.caller.","no-comma-dangle":"Trailing commas in object expressions are discouraged.","no-comma-dangle-description":"Report extra trailing comma in object expressions.","no-cond-assign":"Expected a conditional expression and instead saw an assignment.","no-cond-assign-description":"Disallow assignment statements in control statements like if-else, do-while, while and for statements.","no-console":"Discouraged use of console in browser-based code.","no-console-description":"Disallow the use of 'console' in browser-run code.","no-constant-condition":"Discouraged use of constant as a conditional expression.","no-constant-condition-description":"Disallow use of a constant value as a conditional expression.","no-debugger":"'debugger' statement use is discouraged.","no-debugger-description":"Disallow use of the debugger keyword.","no-dupe-keys":"Duplicate object key '${0}'.","no-dupe-keys-description":"Warn when object contains duplicate keys.","no-empty-block":"Empty block should be removed or commented.","no-empty-block-description":"Warn when a code block is empty.","no-eval":"${0} function calls are discouraged.","no-eval-description":"Disallow use of eval function.","no-extra-semi":"Unnecessary semicolon.","no-extra-semi-description":"Warn about extraneous semi colons.","no-fallthrough":"Switch case may be entered by falling through the previous case.","no-fallthrough-description":"Warn when a switch case falls through.","no-implied-eval":"${0} function calls are discouraged.","no-implied-eval-description":"Disallow use of implied eval function.","no-iterator":"Discouraged __iterator__ property use.","no-iterator-description":"Warn when the __iterator__ property is used.","no-proto":"Discouraged __proto__ property use.","no-proto-description":"Warn when the __proto__ property is used.","no-jslint":"The '${0}' directive is unsupported, please use eslint-env.","no-jslint-description":"Warn when the jslint/jshint directive is used.","no-new-array":"Use the array literal notation '[]'.","no-new-array-description":"Disallow use of the Array constructor.","no-new-func":"The Function constructor is eval.","no-new-func-description":"Disallow use of the Function constructor.","no-new-object":"Use the object literal notation '{}' or Object.create(null).","no-new-object-description":"Disallow use of the Object constructor.","no-new-wrappers":"Do not use '${0}' as a constructor.","no-new-wrappers-description":"Disallow creating new String, Number or Boolean via their constructor.","no-redeclare":"'${0}' is already defined.","no-redeclare-description":"Warn when variable or function is redeclared.","no-regex-spaces":"Avoid multiple spaces in regular expressions. Use ' {${0}}' instead.","no-regex-spaces-description":"Warn when multiple spaces are used in regular expressions.","no-reserved-keys":"Reserved words should not be used as property keys.","no-reserved-keys-description":"Warn when a reserved word is used as a property key.","no-shadow":"'${0}' is already declared in the upper scope.","no-shadow-description":"Warn when shadowing variable from upper scope.","no-shadow-global":"Variable '${0}' shadows a global member.","no-shadow-global-description":"Warn when a variable or parameter shadows a member from the global environment.","no-shadow-global-param":"Parameter '${0}' shadows a global member.","no-sparse-arrays":"Sparse array declarations should be avoided.","no-sparse-arrays-description":"Warn when sparse arrays are defined.","no-throw-literal":"Throw an Error instead.","no-throw-literal-description":"Warn when a Literal is used in a throw statement.","no-undef-defined":"'${0}' is undefined.","no-undef-init":"Avoid explicitly initializing variables to 'undefined'.","no-undef-init-description":"Warn when variables are explicitly initialized to undefined.","no-undef-readonly":"'${0}' is read-only.","no-undef-description":"Warn when used variable or function has not been defined.","no-unreachable":"Unreachable code.","no-unreachable-description":"Warn when code is not reachable.","no-unused-params":"Parameter '${0}' is never used.","no-unused-params-description":"Warn when function parameters are not used.","no-unused-vars-unused":"'${0}' is unused.","no-unused-vars-unused-funcdecl":"Function '${0}' is unused.","no-unused-vars-unread":"'${0}' is unread.","no-unused-vars-description":"Warn when declared variables are not used.","no-use-before-define":"'${0}' was used before it was defined.","no-use-before-define-description":"Warn when a variable or function is used before it is defined.","no-with":"Discouraged use of 'with' statement.","no-with-description":"Warn when the with statement is used.",radix:"Missing radix parameter.","radix-description":"Warn when parseInt() is called without the 'radix' parameter.",semi:"Missing semicolon.","semi-description":"Warn about missing semicolons.","use-isnan":"Use the isNaN function to compare with NaN.","use-isnan-description":"Disallow comparison to the value NaN.","valid-typeof":"Invalid typeof comparison.","valid-typeof-description":"Warn when incorrectly comparing the result of a typeof expression."}),n("orion/editor/stylers/lib/syntax",[],function(){return{id:"orion.lib",grammars:[{id:"orion.lib",repository:{brace_open:{match:"{",name:"punctuation.section.block.begin"},brace_close:{match:"}",name:"punctuation.section.block.end"},bracket_open:{match:"\\[",name:"punctuation.section.bracket.begin"},bracket_close:{match:"\\]",name:"punctuation.section.bracket.end"},parenthesis_open:{match:"\\(",name:"punctuation.section.parens.begin"},parenthesis_close:{match:"\\)",name:"punctuation.section.parens.end"},operator:{match:"(\\+|-|!|=|>|<|&|(\\|\\|))+",name:"punctuation.operator"},doc_block:{begin:{match:"/\\*\\*",literal:"/**"},end:{match:"\\*/",literal:"*/"},name:"comment.block.documentation",patterns:[{match:"@(?:(?!\\*/)\\S)*",name:"meta.documentation.annotation"},{match:"<[^\\s>]*>",name:"meta.documentation.tag"},{match:"(\\b)(TODO)(\\b)(((?!\\*/).)*)",name:"meta.annotation.task.todo",captures:{2:{name:"keyword.other.documentation.task"},4:{name:"comment.block"}}}]},number_decimal:{match:"\\b-?(?:\\.\\d+|\\d+\\.?\\d*)(?:[eE][+-]?\\d+)?\\b",name:"constant.numeric.number"},number_hex:{match:"\\b0[xX][0-9A-Fa-f]+\\b",name:"constant.numeric.hex"},string_doubleQuote:{match:'"(?:\\\\.|[^"])*"?',name:"string.quoted.double"},string_singleQuote:{match:"'(?:\\\\.|[^'])*'?",name:"string.quoted.single"},todo_comment_singleLine:{match:"(\\b)(TODO)(\\b)(.*)",name:"meta.annotation.task.todo",captures:{2:{name:"keyword.other.documentation.task"},4:{name:"comment.line"}}}}},{id:"orion.c-like",repository:{comment_singleLine:{match:{match:"//.*",literal:"//"},name:"comment.line.double-slash",patterns:[{include:"orion.lib#todo_comment_singleLine"}]},comment_block:{begin:{match:"/\\*",literal:"/*"},end:{match:"\\*/",literal:"*/"},name:"comment.block",patterns:[{match:"(\\b)(TODO)(\\b)(((?!\\*/).)*)",name:"meta.annotation.task.todo",captures:{2:{name:"keyword.other.documentation.task"},4:{name:"comment.block"}}}]}}}],keywords:[]}
}),n("orion/editor/stylers/application_javascript/syntax",["orion/editor/stylers/lib/syntax"],function(e){var t=["class","const","debugger","delete","enum","export","extends","function","implements","import","in","instanceof","interface","let","new","package","private","protected","public","static","super","typeof","var","void","with"],n=["break","case","catch","continue","default","do","else","finally","for","if","return","switch","throw","try","while","yield"],r=["this"],i=["false","null","true","undefined"],o=[];return o.push.apply(o,e.grammars),o.push({id:"orion.js",contentTypes:["application/javascript"],patterns:[{begin:"'(?:\\\\.|[^\\\\'])*\\\\$",end:"^(?:$|(?:\\\\.|[^\\\\'])*('|[^\\\\]$))",name:"string.quoted.single.js"},{begin:'"(?:\\\\.|[^\\\\"])*\\\\$',end:'^(?:$|(?:\\\\.|[^\\\\"])*("|[^\\\\]$))',name:"string.quoted.double.js"},{include:"orion.lib#string_doubleQuote"},{include:"orion.lib#string_singleQuote"},{include:"orion.c-like#comment_singleLine"},{match:"/(?![\\s\\*])(?:\\\\.|[^/])+/(?:[gim]{0,3})",name:"string.regexp.js"},{include:"orion.lib#doc_block"},{include:"orion.c-like#comment_block"},{include:"#jsFunctionDef"},{include:"orion.lib#brace_open"},{include:"orion.lib#brace_close"},{include:"orion.lib#bracket_open"},{include:"orion.lib#bracket_close"},{include:"orion.lib#parenthesis_open"},{include:"orion.lib#parenthesis_close"},{include:"orion.lib#operator"},{include:"orion.lib#number_decimal"},{include:"orion.lib#number_hex"},{match:"\\b(?:"+t.join("|")+")\\b",name:"keyword.operator.js"},{match:"\\b(?:"+n.join("|")+")\\b",name:"keyword.control.js"},{match:"\\b(?:"+i.join("|")+")\\b",name:"constant.language.js"},{match:"\\b(?:"+r.join("|")+")\\b",name:"variable.language.js"}],repository:{jsFunctionDef:{begin:"(function)(\\s+[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*)?\\s*\\(",end:"\\)",captures:{1:{name:"keyword.operator.js"},2:{name:"entity.name.function.js"}},patterns:[{include:"orion.c-like#comment_singleLine"},{include:"orion.c-like#comment_block"},{match:"[^\\s,]+",name:"variable.parameter.js"}]}}}),{id:o[o.length-1].id,grammars:o,keywords:t.concat(n).concat(r).concat(i)}}),n("eslint/lib/load-rules-async",["./util","javascript/logger","javascript/finder","i18n!javascript/nls/problems","estraverse/estraverse","orion/editor/stylers/application_javascript/syntax"],function(e,t,n,r,i,o){function a(){return l}function s(){for(var e=Object.create(null),t=Object.keys(l),n=0;n<t.length;n++){var r=t[n];e[r]=l[r].rule}return e}var l={curly:{description:r["curly-description"],url:"http://eslint.org/docs/rules/curly",rule:function(e){function n(n){try{switch(n.type){case"IfStatement":n.consequent&&"BlockStatement"!==n.consequent.type&&e.report(n.consequent,r.curly,null),n.alternate&&"BlockStatement"!==n.alternate.type&&"IfStatement"!==n.alternate.type&&e.report(n.alternate,r.curly,null);break;case"DoWhileStatement":case"WhileStatement":case"WithStatement":case"ForStatement":case"ForInStatement":n.body&&"BlockStatement"!==n.body.type&&e.report(n.body,r.curly,null)}}catch(i){t.log(i)}}return{IfStatement:n,WhileStatement:n,ForStatement:n,ForInStatement:n,WithStatement:n,DoWhileStatement:n}}},eqeqeq:{description:r["eqeqeq-description"],url:"http://eslint.org/docs/rules/eqeqeq",rule:function(e){function n(e,t){for(var n=e.getTokens(t),r=n.length,i=t.operator,o=0;r>o;o++){var a=n[o];if(a.value===i)return a}return null}function i(e){return e&&e.type?"Literal"===e.type&&null==e.value||"Identifier"===e.type&&"undefined"===e.name:!1}return{BinaryExpression:function(o){try{if(i(o.left)||i(o.right))return;var a=o.operator,s=null;"=="===a?(s="===",e.report(o,r.eqeqeq,{0:s,1:a},n(e,o))):"!="===a&&(s="!==",e.report(o,r.eqeqeq,{0:s,1:a},n(e,o)))}catch(l){t.log(l)}}}}},"missing-doc":{description:r["missing-doc-description"],url:"http://eslint.org/docs/rules/valid-jsdoc",rule:function(e){function n(e){if(e&&e.leading){var t=e.leading.length;return t>0&&"Block"===e.leading[t-1].type}return!1}function i(i){try{var o,a;switch(i.type){case"Property":if(i.value&&"FunctionExpression"===i.value.type&&(o=e.getComments(i),o.leading.length<1&&o.trailing.length<1&&(o=e.getComments(i.key)),!n(o))){switch(i.key.type){case"Identifier":a=i.key.name;break;case"Literal":a=i.key.value}e.report(i.key,r["missing-doc"],{0:a},{type:"expr"})}break;case"FunctionDeclaration":o=e.getComments(i),o.leading.length<1&&o.trailing.length<1&&(o=e.getComments(i.id)),n(o)||e.report(i.id,r["missing-doc"],{0:i.id.name},{type:"decl"});break;case"ExpressionStatement":if(i.expression&&"AssignmentExpression"===i.expression.type){var s=i.expression;s.right&&"FunctionExpression"===s.right.type&&s.left&&"MemberExpression"===s.left.type&&(o=e.getComments(i),o.leading.length<1&&o.trailing.length<1&&(o=e.getComments(s.left)),n(o)||(a=s.left.computed===!0?s.left.property.value:s.left.property.name,e.report(s.left.property,r["missing-doc"],{0:a},{type:"expr"})))}}}catch(l){t.log(l)}}return{Property:i,FunctionDeclaration:i,ExpressionStatement:i}}},"new-parens":{description:r["new-parens-description"],url:"http://eslint.org/docs/rules/new-parens",rule:function(e){return{NewExpression:function(n){try{if(n.callee){var i=e.getTokens(n.callee,0,1);if(i&&i.length>0){var o=i[i.length-1];("Punctuator"!==o.type||"("!==o.value)&&e.report(n.callee,r["new-parens"],null,i[0])}}}catch(a){t.log(a)}}}}},"no-caller":{description:r["no-caller-description"],url:"http://eslint.org/docs/rules/no-caller",rule:function(e){return{MemberExpression:function(t){var i=n.findParentFunction(t);if(i){var o=t.object;if(!o||"arguments"!==o.name||"Identifier"!==o.type)return;var a=t.property,s=a.name?a.name:a.value;("callee"===s||"caller"===s)&&e.report(a,r["no-caller"],{0:s})}}}}},"no-comma-dangle":{description:r["no-comma-dangle-description"],url:"http://eslint.org/docs/rules/no-comma-dangle",rule:function(e){return{ObjectExpression:function(t){var n=e.getLastToken(t,1);n&&","===n.value&&e.report(t,r["no-comma-dangle"],null,n)}}}},"no-cond-assign":{description:r["no-cond-assign-description"],url:"http://eslint.org/docs/rules/no-cond-assign",rule:function(e){function t(t){var n=t.parent.type;return a[n]&&"ForStatement"!==n?"("===e.getTokenBefore(t,1).value:"("===e.getTokenBefore(t).value}function n(e){switch(e.type){case"FunctionExpression":case"ObjectExpression":case"CallExpression":case"ArrayExpression":return!0;default:return!1}}function o(o){var a=[];if(null!==o.test){o.test.parent=o,i.traverse(o.test,{enter:function(e,t){return e.range[0]>o.test.range[1]?i.VisitorOption.Break:n(e)?i.VisitorOption.Skip:(t&&(e.parent=t),void(e&&"AssignmentExpression"===e.type&&a.push(e)))}});var s=a.length;if(s>0)for(var l=0;s>l;l++){var c=a[l];t(c)||(c.range[0]=c.left.range[0],e.report(c,r["no-cond-assign"]))}}}var a={IfStatement:!0,DoWhileStatement:!0,WhileStatement:!0,ForStatement:!0};return{IfStatement:o,WhileStatement:o,ForStatement:o,DoWhileStatement:o}}},"no-console":{description:r["no-console-description"],url:"http://eslint.org/docs/rules/no-console",rule:function(e){return{MemberExpression:function(t){"console"===t.object.name&&e.env&&e.env.browser&&e.report(t.object,r["no-console"])}}}},"no-constant-condition":{description:r["no-constant-condition-description"],url:"http://eslint.org/docs/rules/no-constant-condition",rule:function(e){function t(e){switch(e.type){case"Literal":case"ObjectExpression":case"FunctionExpression":case"ArrayExpression":return!0;case"BinaryExpression":case"LogicalExpression":return t(e.left)&&t(e.right);case"UnaryExpression":return t(e.argument);default:return!1}}function n(n){n&&n.test&&t(n.test)&&e.report(n.test,r["no-constant-condition"])}return{IfStatement:n,WhileStatement:n,DoWhileStatement:n,ForStatement:n,ConditionalExpression:n}}},"no-debugger":{description:r["no-debugger-description"],url:"http://eslint.org/docs/rules/no-debugger",rule:function(e){return{DebuggerStatement:function(n){try{e.report(n,r["no-debugger"],null,e.getTokens(n)[0])}catch(i){t.log(i)}}}}},"no-dupe-keys":{description:r["no-dupe-keys-description"],url:"http://eslint.org/docs/rules/no-dupe-keys",rule:function(e){return{ObjectExpression:function(n){try{var i=n.properties;if(i&&i.length>0)for(var o=i.length,a=Object.create(null),s=0;o>s;s++){var l=i[s];if("init"===l.kind){var c=l.key.name?l.key.name:l.key.value;Object.prototype.hasOwnProperty.call(a,c)?e.report(l,r["no-dupe-keys"],{0:c},e.getTokens(l)[0]):a[c]=1}}}catch(u){t.log(u)}}}}},"no-empty-block":{description:r["no-empty-block-description"],url:"http://eslint.org/docs/rules/no-empty",rule:function(e){var n;return{Program:function(e){n=e.comments},BlockStatement:function(i){try{if(i.body.length<1){for(var o=0;o<n.length;o++){var a=n[o].range;if(a[0]>=i.range[0]&&a[1]<=i.range[1])return}e.report(i,r["no-empty-block"])}}catch(s){t.log(s)}}}}},"no-eval":{description:r["no-eval-description"],url:"http://eslint.org/docs/rules/no-eval",rule:function(e){return{CallExpression:function(n){try{var i=n.callee.name;if(!i)return;"eval"===i&&e.report(n.callee,r["no-eval"],{0:"'eval'"},e.getTokens(n.callee)[0])}catch(o){t.log(o)}}}}},"no-extra-semi":{description:r["no-extra-semi-description"],url:"http://eslint.org/docs/rules/no-extra-semi",rule:function(e){return{EmptyStatement:function(n){try{var i=e.getTokens(n),o=i[i.length-1];o&&"Punctuator"===o.type&&";"===o.value&&e.report(n,r["no-extra-semi"],null,o)}catch(a){t.log(a)}}}}},"no-fallthrough":{description:r["no-fallthrough-description"],url:"http://eslint.org/docs/rules/no-fallthrough",rule:function(n){function i(t){if(t.consequent){var n=t.consequent.slice(0);if(n.length>0&&"BlockStatement"===n[0].type){var r=n.shift();r.body.length>0&&(n=[].concat(n,r.body))}if(n.length<1)return!1;for(var i=null,o=0;o<n.length;o++)if(i=n[o],e.returnableStatement(i))return!1;return!0}return!1}return{SwitchStatement:function(e){try{if(e.cases&&e.cases.length>1){var o=e.cases.length;e:for(var a=0;o>a&&a+1!==o;a++)if(i(e.cases[a])){var s=e.cases[a+1];if(s.test)s.range[1]=s.test.range[1];else{var l=n.getTokens(s);l&&l.length>0&&(s.range[1]=l[0].range[1])}var c=s.leadingComments;if(!c&&s.test&&(c=s.test.leadingComments),c)for(var u=null,p=0;p<c.length;p++)if(u=c[p],/\$?falls?\s?through\$?/i.test(u.value.toLowerCase()))continue e;n.report(s,r["no-fallthrough"])}}}catch(f){t.log(f)}}}}},"no-implied-eval":{description:r["no-implied-eval-description"],url:"http://eslint.org/docs/rules/no-implied-eval",rule:function(n){return{CallExpression:function(i){try{var o=i.callee.name;if(!o)return;if(("setInterval"===o||"setTimeout"===o)&&i.arguments.length>0){var a=i.arguments[0];if("Literal"===a.type)n.report(i.callee,r["no-eval"],{0:"Implicit 'eval'"},n.getTokens(i.callee)[0]);else if("Identifier"===a.type){var s=n.getScope(),l=e.getDeclaration(a,s);if(l&&l.defs&&l.defs.length){var c=l.defs[0],u=c.node;"Variable"===c.type&&u&&"VariableDeclarator"===u.type&&u.init&&"Literal"===u.init.type&&n.report(i.callee,r["no-eval"],{0:"Implicit 'eval'"},n.getTokens(i.callee)[0])}}}}catch(p){t.log(p)}}}}},"no-iterator":{description:r["no-iterator-description"],url:"http://eslint.org/docs/rules/no-iterator",rule:function(e){return{MemberExpression:function(t){null!=t.property&&(t.computed?"__iterator__"===t.property.value&&e.report(t.property,r["no-iterator"]):"__iterator__"===t.property.name&&e.report(t.property,r["no-iterator"]))}}}},"no-proto":{description:r["no-proto-description"],url:"http://eslint.org/docs/rules/no-proto.html",rule:function(e){return{MemberExpression:function(t){null!=t.property&&(t.computed?"__proto__"===t.property.value&&e.report(t.property,r["no-proto"]):"__proto__"===t.property.name&&e.report(t.property,r["no-proto"]))}}}},"no-jslint":{description:r["no-jslint-description"],rule:function(e){return{Program:function(n){try{var i,o=n.comments;if(o&&(i=o.length)&&o.length>0)for(var a=0;i>a;a++){var s=o[a];if("Block"===s.type){var l=/^\s*(js[l|h]int)(\s+\w+:\w+)+/gi.exec(s.value);if(l){var c=l[1];if(c.length<1)continue;var u=2+s.value.indexOf(c)+s.range[0],p=u+c.length;e.report({type:"BlockComment",range:[u,p],loc:s.loc},r["no-jslint"],{0:c})}}}}catch(f){t.log(f)}}}}},"no-new-array":{description:r["no-new-array-description"],rule:function(e){function t(t){var n=t.callee;if(n&&"Array"===n.name){var i=t.arguments;i.length>1?e.report(n,r["no-new-array"]):1===i.length&&"Literal"===i[0].type&&"number"!=typeof i[0].value&&e.report(n,r["no-new-array"])}}return{NewExpression:t,CallExpression:t}}},"no-new-func":{description:r["no-new-func-description"],url:"http://eslint.org/docs/rules/no-new-func",rule:function(e){return{NewExpression:function(t){var n=t.callee;n&&"Function"===n.name&&e.report(n,r["no-new-func"])}}}},"no-new-object":{description:r["no-new-object-description"],url:"http://eslint.org/docs/rules/no-new-object",rule:function(e){return{NewExpression:function(t){var n=t.callee;n&&"Object"===n.name&&e.report(n,r["no-new-object"])}}}},"no-new-wrappers":{description:r["no-new-wrappers-description"],url:"http://eslint.org/docs/rules/no-new-wrappers",rule:function(e){var t=["String","Number","Math","Boolean","JSON"];return{NewExpression:function(n){var i=n.callee;i&&t.indexOf(i.name)>-1&&e.report(i,r["no-new-wrappers"],[i.name])}}}},"no-with":{description:r["no-with-description"],url:"http://eslint.org/docs/rules/no-with",rule:function(e){return{WithStatement:function(t){e.report(t,r["no-with"],null,e.getFirstToken(t))}}}},"missing-nls":{description:r["missing-nls-description"],rule:function(e){function t(t,n){var i=Object.create(null);i.indexOnLine=n,e.report(t,r["missing-nls"],{0:t.value,data:i})}function n(e,t){for(var n=0;n<e.length;n++)t[e[n]]=!0}var i=Object.create(null);return n(["require","requirejs","importScripts","define","Worker","SharedWorker","addEventListener","RegExp","removeEventListener"],i),{Literal:function(t){if("string"==typeof t.value&&t.value.length>0){if("use strict"===t.value.toLowerCase())return;if(/^(?:[\.,-\/#!$%\^&\*;:{}=\-_`~()@\+\?><\[\]\+])$/.test(t.value))return;if(/^(?:==|!=|===|!==|=>)$/.test(t.value))return;if(t.parent)switch(t.parent.type){case"UnaryExpression":case"MemberExpression":case"SwitchCase":return;case"BinaryExpression":if("+"!==t.parent.operator)return;break;case"Property":if(t.parent.key===t)return;var n=t.parent.parent.parent;if(n&&"CallExpression"===n.type&&n.callee&&"define"===n.callee.name)return;break;case"NewExpression":case"CallExpression":var r=t.parent.callee;if(r){if("MemberExpression"===r.type&&r.property&&i[r.property.name])return;if(i[r.name])return}break;case"ArrayExpression":if(n=t.parent.parent,"CallExpression"===n.type&&("define"===n.callee.name||"require"===n.callee.name||"requirejs"===n.callee.name))return}var o=t.loc.end.line-1;e._linesWithStringLiterals[o]||(e._linesWithStringLiterals[o]=[]),e._linesWithStringLiterals[o].push(t)}},Program:function(){e._linesWithStringLiterals={}},"Program:exit":function(){if(e._linesWithStringLiterals)for(var n in e._linesWithStringLiterals)if(e._linesWithStringLiterals.hasOwnProperty(n)){var r=e.getSourceLines()[n],i=e._linesWithStringLiterals[n];if(i){for(var o,a=/\/\/\$NON-NLS-([0-9])+\$/g,s=[];null!=(o=a.exec(r));)s.push(o[1]);for(var l=0;l<i.length;l++){o=!1;for(var c=0;c<s.length;c++){if(s[c]===""+(l+1)){o=!0;break}if(0===l&&"0"===s[c]){o=!0;break}}o||t(i[l],l)}}}}}}},"no-redeclare":{description:r["no-redeclare-description"],url:"http://eslint.org/docs/rules/no-redeclare",rule:function(e){function n(t,n){e.report(t,r["no-redeclare"],{0:n})}function i(){try{var r=e.getScope();r.variables.forEach(function(e){e.defs.slice(1).forEach(function(e){n(e.name,e.name.name)})})}catch(i){t.log(i)}}return{Program:i,FunctionDeclaration:i,FunctionExpression:i,ArrowFunctionExpression:i}}},"no-regex-spaces":{description:r["no-regex-spaces-description"],url:"http://eslint.org/docs/rules/no-regex-spaces",rule:function(e){function t(t){for(var n=/( {2,})/g,i=null;null!=(i=n.exec(t.raw));){var o=t.range[0]+i.index,a=i[0].length;e.report({type:"Literal",range:[o,o+a],loc:t.loc},r["no-regex-spaces"],{0:a})}}return{Literal:function(n){n.parent&&"NewExpression"===n.parent.type&&"RegExp"===n.parent.callee.name&&t(n);var r=e.getFirstToken(n);r&&"RegularExpression"===r.type&&t(n)}}}},"no-reserved-keys":{description:r["no-reserved-keys-description"],url:"http://eslint.org/docs/rules/no-reserved-keys",rule:function(e){return{ObjectExpression:function(t){if(t.properties)for(var n=0;n<t.properties.length;n++){var i=t.properties[n];"Identifier"===i.key.type&&o.keywords.indexOf(i.key.name)>-1&&e.report(i.key,r["no-reserved-keys"])}}}}},"no-shadow":{description:r["no-shadow-description"],url:"http://eslint.org/docs/rules/no-shadow",rule:function(n){function i(e,t){t.variables.forEach(function(n){var r=n.name;n.defs.length&&(Object.prototype.hasOwnProperty.call(e,r)||(e[n.name]=t))})}function o(t){for(var n=t.upper,r=Object.create(null);n&&!n._symbols;)n=n.upper;return n&&e.mixin(r,n._symbols),i(r,t),t._symbols=r,r}function a(e,t){n.report(e,r["no-shadow"],{0:t})}function s(e){return e.defs.some(function(e){return"Parameter"===e.type})}function l(e){try{var r=n.getScope();if("FunctionExpression"===e.type&&e.id&&e.id.name&&(r=r.upper,"global"===r.type))return;var i=o(r);r.variables.forEach(function(e){if(e.defs.length){var t;(t=i[e.name])&&t!==r&&!s(e)&&a(e.defs[0].name,e.name)}})}catch(l){t.log(l)}}return{Program:l,FunctionDeclaration:l,FunctionExpression:l,ArrowFunctionExpression:l}}},"no-shadow-global":{description:r["no-shadow-global-description"],rule:function(e){function t(t){var i=e.env?e.env:{};switch(i.builtin=!0,t.type){case"VariableDeclarator":i[n.findESLintEnvForMember(t.id.name)]&&e.report(t.id,r["no-shadow-global"],{0:t.id.name});break;case"FunctionExpression":case"FunctionDeclaration":case"ArrowFunctionExpression":t.params.forEach(function(t){"Identifier"===t.type&&i[n.findESLintEnvForMember(t.name)]&&e.report(t,r["no-shadow-global-param"],{0:t.name,nls:"no-shadow-global-param"})})}}return{FunctionExpression:t,FunctionDeclaration:t,ArrowFunctionExpression:t,VariableDeclarator:t}}},"no-sparse-arrays":{description:r["no-sparse-arrays-description"],url:"http://eslint.org/docs/rules/no-sparse-arrays",rule:function(e){return{ArrayExpression:function(t){t.elements.indexOf(null)>-1&&e.report(t,r["no-sparse-arrays"])}}}},"no-throw-literal":{description:r["no-throw-literal-description"],url:"http://eslint.org/docs/rules/no-throw-literal",rule:function(e){return{ThrowStatement:function(n){try{var i=n.argument;switch(i.type){case"Identifier":if("undefined"!==i.name)return;case"Literal":case"ObjectExpression":case"ArrayExpression":e.report(i,r["no-throw-literal"])}}catch(o){t.log(o)}}}}},"no-undef":{description:r["no-undef-description"],url:"http://eslint.org/docs/rules/no-undef",rule:function(e){function i(e){return e.defs.every(function(e){return"ImplicitGlobalVariable"===e.type})}function o(e,t){var n=null;return e.variables.some(function(e){return e.name!==t.identifier.name||i(e)&&!Object.hasOwnProperty.call(e,"writeable")?!1:(n=e,!0)}),n}return{Program:function(){try{var i=e.getScope();i.through.forEach(function(t){var a=o(i,t),s=t.identifier.name;if(a)t.isWrite()&&a.writeable===!1&&e.report(t.identifier,r["no-undef-readonly"],{0:s,nls:"no-undef-readonly"});else{var l=n.findESLintEnvForMember(s),c=l?"-inenv":"",u="no-undef-defined";e.report(t.identifier,r["no-undef-defined"],{0:s,nls:u,pid:u+c})}})}catch(a){t.log(a)}}}}},"no-undef-init":{description:r["no-undef-init-description"],url:"http://eslint.org/docs/rules/no-undef-init.html",rule:function(e){return{VariableDeclarator:function(t){t.init&&"Identifier"===t.init.type&&"undefined"===t.init.name&&e.report(t.init,r["no-undef-init"])}}}},"no-unreachable":{description:r["no-unreachable-description"],url:"http://eslint.org/docs/rules/no-unreachable",rule:function(n){function i(e){switch(e.type){case"FunctionDeclaration":case"VariableDeclaration":return!0}return!1}function o(o){try{var a=0;for(a;a<o.length&&!e.returnableStatement(o[a]);a++);for(a++;a<o.length;a++){var s=o[a];i(s)||"EmptyStatement"===s.type||n.report(s,r["no-unreachable"])}}catch(l){t.log(l)}}return{BlockStatement:function(e){o(e.body)},SwitchCase:function(e){o(e.consequent)}}}},"no-unused-params":{description:r["no-unused-params-description"],rule:function(e){function n(e){if(e&&e.leadingComments)for(var t=e.leadingComments.length,n=0;t>n;n++){var r=e.leadingComments[n];if("Block"===r.type&&/\s*(?:@callback)\s+/.test(r.value))return!0}return!1}function i(i){try{var o=e.getScope(),a=o.childScopes;o.functionExpressionScope&&a&&a.length&&(o=a[0]),o.variables.forEach(function(t){if(t.defs.length&&"Parameter"===t.defs[0].type){var o=t.defs[0].name;if(!t.references.length){var a="no-unused-params";if("FunctionExpression"===i.type){if(a+="-expr",n(i)||i.params&&i.params.length>0&&n(i.params[0]))return;var s=i.parent;switch(s.type){case"Property":if(n(s)||n(s.key))return;break;case"MemberExpression":if(s=s.parent,"CallExpression"===s.type&&n(s))return;break;case"AssignmentExpression":var l=s.left;if("MemberExpression"===l.type){if(n(l))return}else if("Identifier"===l.type&&n(l))return;break;case"VariableDeclarator":if(n(s.id))return}}else"ArrowFunctionExpression"===i.type&&(a+="-arrow");e.report(o,r["no-unused-params"],{0:o.name,pid:a})}}})}catch(s){t.log(s)}}return{FunctionDeclaration:i,FunctionExpression:i,ArrowFunctionExpression:i}}},"no-unused-vars":{description:r["no-unused-vars-description"],url:"http://eslint.org/docs/rules/no-unused-vars",rule:function(e){function n(e){return e.isRead()}function i(e,t){var n=t.references;return"global"===e.type&&(n=n.concat(e.through.filter(function(e){return e.identifier.name===t.name}))),n}function o(){try{var o=e.getScope();o.variables.forEach(function(t){if(t.defs.length&&"Parameter"!==t.defs[0].type){var a=t.defs[0].node,s=i(o,t),l=a.id;s.length?s.some(n)||e.report(l,r["no-unused-vars-unread"],{0:l.name,nls:"no-unused-vars-unread"}):"FunctionDeclaration"===a.type?e.report(l,r["no-unused-vars-unused-funcdecl"],{0:l.name,nls:"no-unused-vars-unused-funcdecl"}):e.report(l,r["no-unused-vars-unused"],{0:l.name,nls:"no-unused-vars-unused"})}})}catch(a){t.log(a)}}return{Program:o,FunctionDeclaration:o,FunctionExpression:o,ArrowFunctonExpression:o}}},"no-use-before-define":{description:r["no-use-before-define-description"],url:"http://eslint.org/docs/rules/no-use-before-define",rule:function(n){function i(e,t){return"boolean"==typeof e?e:t}function o(){try{var i=n.getScope();i.references.forEach(function(t){var o,a=e.getDeclaration(t,i),c=t.identifier,u=c.name;if(a&&(o=a.defs).length&&c.range[0]<o[0].node.range[0]){var p=o[0].type;if(!l&&"FunctionName"===p||!s&&"Variable"===p)return;n.report(c,r["no-use-before-define"],{0:u})}})}catch(o){t.log(o)}}var a=n.options,s=i(a[0],!0),l=i(a[1],!1);return{Program:o,FunctionExpression:o,FunctionDeclaration:o}}},radix:{description:r["radix-description"],url:"http://eslint.org/docs/rules/radix",rule:function(e){function t(t){var n=t.callee;if("parseInt"===n.name&&"Identifier"===n.type&&t.arguments.length<2){for(var i=!1,o=e.getScope();o&&!(i=o.variables.some(function(e){return"parseInt"===e.name&&e.defs.length}));o=o.upper);i||e.report(n,r.radix,null)}}return{CallExpression:t}}},semi:{description:r["semi-description"],url:"http://eslint.org/docs/rules/semi",rule:function(e){function n(n){try{var i=e.getTokens(n),o=i.length,a=i[o-1];if(a&&"Punctuator"===a.type&&";"===a.value)return;e.report(n,r.semi,null,a)}catch(s){t.log(s)}}function i(r){try{var i=e.getAncestors(r),o=i[i.length-1],a=o.type;if("ForStatement"===a&&o.init===r||"ForInStatement"===a&&o.left===r)return;n(r)}catch(s){t.log(s)}}return{VariableDeclaration:i,ExpressionStatement:n,ReturnStatement:n,ThrowStatement:n,BreakStatement:n,ContinueStatement:n}}},"use-isnan":{description:r["use-isnan-description"],url:"http://eslint.org/docs/rules/use-isnan",rule:function(e){return{BinaryExpression:function(n){try{"Identifier"===n.left.type&&"NaN"===n.left.name?e.report(n.left,r["use-isnan"],null,n.left):"Identifier"===n.right.type&&"NaN"===n.right.name&&e.report(n.right,r["use-isnan"],null,n.right)}catch(i){t.log(i)}}}}},"valid-typeof":{description:r["valid-typeof-description"],url:"http://eslint.org/docs/rules/valid-typeof",rule:function(e){var t=["undefined","object","function","boolean","number","string","symbol"],n=["==","===","!=","!=="];return{UnaryExpression:function(i){if("typeof"===i.operator){var o=i.parent,a=o.left===i?o.right:o.left;o&&"BinaryExpression"===o.type&&n.indexOf(o.operator)>-1&&("Literal"!==a.type||t.indexOf(a.value)<0)&&e.report(a,r["valid-typeof"])}}}}}};return{getRules:a,getESLintRules:s}}),n("javascript/signatures",[],function(){var e={computeSignature:function(e){if(e){if(e.sig)return e.sig;var t=this.getNameFrom(e);return{sig:t.name,details:t.details,range:this.getSignatureSourceRangeFrom(e)}}return null},getParamsFrom:function(e){if(e){var t=e.params;if(t&&t.length>0){for(var n=t.length,r="",i=0;n>i;i++)r+=t[i].name?t[i].name:"Object",n-1>i&&(r+=", ");return r}}},getPropertyListFrom:function(e,t){if(t||(t=50),0>t&&(t=0),e){var n=e.properties;if(n&&n.length>0){for(var r,i=n.length,o="{",a=0;i>a;a++){if(r=n[a].key&&n[a].key.name?n[a].key.name:"Object",o.length+r.length>t+1){o+="...";break}o+=r,i-1>a&&(o+=", ")}return o+="}"}}return"{...}"},getNameFrom:function(e){var t,n="Anonyous "+e.type;if(e&&e.type)if("FunctionDeclaration"===e.type){if(e.id&&e.id.name){n=e.id.name+"(";var r=this.getParamsFrom(e);r&&(n+=r),n+=")"}}else if("FunctionExpression"===e.type){n="function(";var i=this.getParamsFrom(e);i&&(n+=i),n+=")"}else if("ObjectExpression"===e.type)n="closure ",t=this.getPropertyListFrom(e);else if("Property"===e.type){if(e.value)if("FunctionExpression"===e.value.type){e.key?e.key.name?n=e.key.name+"(":e.key.value&&(n=e.key.value+"("):n="function(";var o=this.getParamsFrom(e.value);o&&(n+=o),n+=")"}else"ObjectExpression"===e.value.type?e.key&&(e.key.name?n=e.key.name+" ":e.key.value&&(n=e.key.value+" "),t=this.getPropertyListFrom(e.value)):e.key&&(e.key.name?n=e.key.name:e.key.value&&(n=e.key.value))}else if("VariableDeclarator"===e.type){if(e.init)if("ObjectExpression"===e.init.type)e.id&&e.id.name&&(n="var "+e.id.name+" = ",t=this.getPropertyListFrom(e.init));else if("FunctionExpression"===e.init.type)if(e.id&&e.id.name){n=e.id.name+"(";var a=this.getParamsFrom(e.init);a&&(n+=a),n+=")"}else n=this.getNameFrom(e.init)}else if("AssignmentExpression"===e.type){if(e.left&&e.right){var s="ObjectExpression"===e.right.type;if(s||"FunctionExpression"===e.right.type)if(e.left.name?n=e.left.name:"MemberExpression"===e.left.type&&(n=this.expandMemberExpression(e.left,"")),n)if(s)n+=" ",t=this.getPropertyListFrom(e.right);else{n+="(";var l=this.getParamsFrom(e.right);l&&(n+=l),n+=")"}else n=this.getNameFrom(e.right)}}else"ReturnStatement"===e.type&&e.argument&&("ObjectExpression"===e.argument.type||"FunctionExpression"===e.argument.type)&&(n="return ",t=this.getPropertyListFrom(e.argument));return{name:n,details:t}},expandMemberExpression:function(e,t){if("MemberExpression"===e.type){if(e.property){var n=e.property.name;"Literal"===e.property.type&&(n=e.property.value),n&&(t=t&&t.length>0?n+"."+t:n)}return e.object&&e.object.name&&(t=e.object.name+"."+t),this.expandMemberExpression(e.object,t)}return t},getSignatureSourceRangeFrom:function(e){var t=[0,0];return e&&("AssignmentExpression"===e.type?e.left&&e.left.range&&(t=e.left.range):"Property"===e.type?e.key&&e.key.range&&(t=e.key.range):"ReturnStatement"===e.type?(t[0]=e.range[0],t[1]=t[0]+6):e.id&&e.id.range?t=e.id.range:e.range&&(t=e.range,"FunctionExpression"===e.type&&(t[1]=t[0]+8)),t[0]<1&&(t[0]=1)),t}};return e}),n("javascript/util",[],function(){function e(e){return e.length<1?!1:isNaN(e.charCodeAt(0))?!1:e.toLocaleUpperCase().charAt(0)===e.charAt(0)}function t(e,t){if("string"!=typeof e||"string"!=typeof t)return!1;if(0===e.length)return!0;if(e.charAt(0).toLowerCase()!==t.charAt(0).toLowerCase())return!1;if(n(t,e))return!0;var i=t.toLowerCase();if(n(i,e))return!0;var o=e.toLowerCase();if(e===o)return!1;if(n(i,o))return!0;var a=r(e),s=r(t);if(a.length>s.length)return!1;for(var l=0;l<a.length;++l)if(!n(s[l],a[l]))return!1;return!0}function n(e,t){return e.slice(0,t.length)===t}function r(t){for(var n=[],r=t.length-1;r>=0;--r)e(t.charAt(r))&&(n.push(t.substring(r)),t=t.substring(0,r));return 0!==t.length&&n.push(t),n.reverse()}return{isUpperCase:e,looselyMatches:t,startsWith:n,toCamelCaseParts:r}}),n("javascript/contentAssist/sigparser",[],function(){function e(e){this.start=e,this.end=-1}function t(e){return")"===e||":"===e||"{"===e||"}"===e||"["===e||"]"===e||","===e||"|"===e}function n(e){for(var t=e.charAt(f);/\s/.test(t)&&f<e.length;)f++,t=e.charAt(f)}function r(e){n(e),d=f;for(var r="",i=e.charAt(f);!/\s/.test(i)&&f<e.length;){if(t(i))return r.length>0?r:(f++,i);if("-"===i){if(">"===e.charAt(f+1))return f+=2,"->"}else{if("("===i)return"fn"===r?(r+=i,f++,r):i;if("|"===i)return r;""===i?f++:(r+=i,f++,i=e.charAt(f))}}return r}function i(t){var n=r(t),i=new e(d);if("fn("===n){var o=[];")"!==t.charAt(f)&&a(t,o),r(t);var l=s(t);return i.finishFunction(t.substring(i.start,f),l,o)}return null}function o(e){var t;return t="f"===e.charAt(f)&&"n"===e.charAt(f+1)&&"("===e.charAt(f+2)?i(e):l(e),"|"===e.charAt(f)&&(t=c(t,e)),t}function a(t,i){var s=r(t),l=new e(d),c=r(t);":"===c&&(n(t),i.push(l.finishParam(s,o(t))),n(t),","===t.charAt(f)&&(r(t),a(t,i)))}function s(e){return n(e),"-"===e.charAt(f)&&">"===e.charAt(f+1)?(r(e),n(e),o(e)):null}function l(n){var i=r(n),a=new e(d);if(t(i)){if("{"===i){var s=n.charAt(f);if("}"===s)return r(n),a.finishObject(n.substring(a.start,f),[]);for(var l=[];"}"!==s&&f<n.length;)u(n,l),s=n.charAt(f),","===s&&r(n);return r(n),a.finishObject(n.substring(a.start,f),l)}if("["===i)return o(n),r(n),a.finishType(n.substring(a.start,f))}else if("string"==typeof i)return a.finishType(i)}function c(t,n){var o=new e(t.start),a=[];a.push(t);for(var s=n.charAt(f);"|"===s&&f<n.length;)r(n),a.push("f"===n.charAt(f)&&"n"===n.charAt(f+1)&&"("===n.charAt(f+2)?i(n):l(n)),s=n.charAt(f);return o.finishUnion(n.substring(o.start,f),a)}function u(t,n){var o=r(t),a=new e(d),s=r(t);":"===s&&n.push("f"===t.charAt(f)&&"n"===t.charAt(f+1)&&"("===t.charAt(f+2)?a.finishProperty(o,i(t)):a.finishProperty(o,l(t)))}function p(e){if(d=f=0,e&&"string"==typeof e){var t=e.trim();return/^fn\(/.test(t)?i(t):l(t)}return null}var f=0,d=0;return e.prototype={finishFunction:function(e,t,n){return this.value=e,this.ret=t,this.params=n,this.end=f,this},finishType:function(e){return this.value=e,this.end=f,this},finishObject:function(e,t){return this.props=t,this.end=f,this.value=e,this},finishParam:function(e,t){return this.value=e,this.type=t,this.end=f,this},finishProperty:function(e,t){return this.id=e,this.value=t,this.end=f,this},finishUnion:function(e,t){return this.types=t,this.end=f,this.value=e,this}},{parse:p}}),n("javascript/contentAssist/ternAssist",["i18n!javascript/nls/messages","orion/Deferred","orion/objects","javascript/finder","orion/editor/templates","javascript/contentAssist/templates","javascript/hover","eslint/lib/load-rules-async","eslint/conf/environments","javascript/signatures","javascript/util","javascript/contentAssist/sigparser","orion/i18nUtil"],function(e,t,n,r,i,o,a,s,l,c,u,p,f){function d(){}function h(e,t,n){return("undefined"==typeof e.template||e.template)&&T.isValid(e.prefix,n,e.offset,e)?T.getTemplateProposals(e.prefix,e.offset,e,t):[]}function m(e,t,n){var r=e.prefix;if(t&&t.kind&&"string"==typeof r&&"string"==typeof e.line)switch(t.kind){case"doc":case"jsdoc":var i=e.offset-1,o="",a=n.charAt(i);if("{*,".indexOf(a)>-1)return o;if("@"===a)return"@";for(;i>=0&&/\S/.test(a);){if(o=a+o,"@"===a)return o;if(i--,a=n.charAt(i),"{*,".indexOf(a)>-1)return o}return o}return r}function g(e,t,n){var i=r.findComment(t,e);if(i)switch(i.type){case"Block":var o=i.range[0];if("/"===n.charAt(o)&&"*"===n.charAt(o+1)){if("*"===n.charAt(o+2)&&t>o+2)return{kind:"jsdoc",node:i};if(t>o+1)return{kind:"doc",node:i}
}break;case"Line":return{kind:"linedoc",node:i};default:return null}if(i=r.findNode(t,e,{parents:!0}),i&&i.parents&&i.parents.length>0){var a=i.parents.pop();switch(a.type){case"MemberExpression":return{kind:"member"};case"Program":case"BlockStatement":break;case"VariableDeclarator":if(!a.init||t<a.init.range[0])return null;break;case"FunctionDelcaration":case"FunctionExpression":if(t<a.body.range[0])return null;break;case"Property":return t-1>=a.value.range[0]&&t-1<=a.value.range[1]?{kind:"prop"}:null;case"SwitchStatement":return{kind:"swtch"}}}return{kind:"top"}}function v(t,i,o,a,c){var p=[];if(!i)return p;if("jsdoc"===i.kind){var d=t.offset>t.prefix.length?t.offset-t.prefix.length-1:0;switch(a.charAt(d)){case"{":p=[];break;case".":return[];case"*":case" ":var h=r.findNodeAfterComment(i.node,o);if(h){var m;if(null!==(m=/\s*\*\s*\@name\s*(\w*)/gi.exec(t.line))){if(m[1]===t.prefix){var g=y(h);g&&p.push({proposal:g,relevance:100,name:g,description:e.funcProposalDescription,style:"emphasis",overwrite:!0,kind:"js"})}}else if(null!==(m=/\s*\*\s*\@param\s*(?:\{\w*\})?\s*(\w*)/gi.exec(t.line))&&m[1]===t.prefix){var v=b(h);if(Array.isArray(v))for(var x=0;x<v.length;x++)g=v[x].name,u.looselyMatches(t.prefix,g)&&p.push({proposal:g,relevance:100,name:g,description:e.funcParamProposalDescription,style:"emphasis",overwrite:!0,kind:"js"})}}}}else if("doc"===i.kind){var S=i.node.value;if(S)if(/^\s*(?:\/\*)?\s*eslint(?:-enable|-disable)?\s+/gi.test(S)){var E=s.getRules(),w=Object.keys(E).sort();for(x=0;x<w.length;x++){var _=w[x];if(u.looselyMatches(t.prefix,_)){var k=E[_],C={proposal:_,relevance:100,name:_,description:e.eslintRuleProposalDescripton,prefix:t.prefix,style:"emphasis",overwrite:!0,kind:"js"},T=k.description?k.description:"";k.url&&(T+=f.formatMessage.call(null,e.onlineDocumentationProposalEntry,k.url)),C.hover={content:T,type:"markdown"},p.push(C)}}}else if(/^\s*(?:\/\*)?\s*eslint-env\s+/gi.test(S)){var L=n.mixin(l,c),A=Object.keys(L).sort();for(x=0;x<A.length;x++){var P=A[x];"builtin"!==P&&u.looselyMatches(t.prefix,P)&&p.push({proposal:P,relevance:100,name:P,description:e.eslintEnvProposalDescription,style:"emphasis",overwrite:!0,kind:"js"})}}}return p}function y(e){switch(e.type){case"FunctionDeclaration":return e.id.name;case"Property":if("FunctionExpression"===e.value.type)return e.value.id?e.value.id.name:e.key.name;break;case"ExpressionStatement":var t=e.expression;if(t&&"AssignmentExpression"===t.type&&"FunctionExpression"===t.right.type){if(t.right.id)return t.right.id.name;if("Identifier"===t.left.type)return t.left.name;if("MemberExpression"===t.left.type)return c.expandMemberExpression(t.left,"")}break;case"VariableDeclaration":if(e.declarations.length>0){var n=e.declarations[0];if(n.init&&"FunctionExpression"===n.init.type)return n.init.id?n.init.id.name:n.id.name}}return null}function b(e){switch(e.type){case"FunctionDeclaration":return e.params;case"Property":if("FunctionExpression"===e.value.type)return e.value.params;break;case"ExpressionStatement":var t=e.expression;if(t&&"AssignmentExpression"===t.type&&"FunctionExpression"===t.right.type)return t.right.params;break;case"VariableDeclaration":if(e.declarations.length>0){var n=e.declarations[0];if(n.init&&"FunctionExpression"===n.init.type)return n.init.params}}return[]}function x(e,t,n,r){this.astManager=e,this.ternworker=t,this.pluginenvs=n,this.cuprovider=r,this.timeout=null}function S(e){var t=e;switch(e){case"do":t="do...while";break;case"in":t="for...in";break;case"try":case"catch":case"finally":t="try...catch";break;case"case":case"default":t="switch";break;case"if":case"else":t="if...else"}return L[e]?"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/"+t:"extends"===e?"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/"+t:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/"+t}function E(t,n){var r={relevance:100,style:"emphasis",overwrite:!0,kind:"js"};if(r.name=r.proposal=t.name,"undefined"!=typeof t.type)if(/^fn/.test(t.type))w(t,n,r);else{if("template"===t.type){var o=new i.Template(n.params.prefix,t.description,t.template,t.name),s=o.getProposal(n.params.prefix,n.params.offset,{}),l=Object.create(null);return l.type="markdown",l.content=e.templateHoverHeader,l.content+=s.proposal,s.hover=l,T.removePrefix(n.params.prefix,s),s.style="emphasis",s.kind="js",s}r.description=_(" : "+t.type)}else t.isKeyword?(r.relevance-=2,r.description=e.keywordProposalDescription,r.isKeyword=!0,t.doc=e.keywordHoverProposal,t.url=S(r.name)):r.description="";if(l=Object.create(null),l.type="markdown",l.content="",t.doc){var c=a.formatMarkdownHover(t.doc);l.content+=c?c.content:r.name}else l.content+=r.name;return t.url&&(l.content+=f.formatMessage.call(null,e.onlineDocumentationProposalEntry,t.url)),r.hover=l,r}function w(e,t,n){var r=[];n.relevance+=5;var i=p.parse(e.type);n.description=i.ret?i.ret.value?_(" : "+i.ret.value):i.ret.ret?" : function":"":"";var o=e.name+"(",a=i.params;if(a)for(var s=0;s<a.length;s++){var l=a[s];r.push({offset:t.params.offset+o.length-t.params.prefix.length,length:l.value.length}),o+=l.value,s<a.length-1&&(o+=", ")}o+=")",n.name=n.proposal=o,n.escapePosition=t.params.offset-t.params.prefix.length+o.length,r.length>0&&(n.positions=r)}function _(e){return e.replace(/:\s*\?/g,": any")}function k(e){var t=/([^/.]+\/[^\/]+)$/g.exec(e);return t?t[1]:(t=/\/([^\/]+)$/g.exec(e),t?t[1]:e)}function C(t,n){for(var r=n.envs?n.envs:{},i=Object.create(null),o=Object.create(null),a=[],s=[],l=0;l<t.length;l++){var c=t[l];if(u.looselyMatches(n.params.prefix,c.name)){var p=c.origin;if(c.isKeyword)s.push(E(c,n));else if("undefined"==typeof p){a.push(E(c,n));continue}if(p=p?p:"?",p===n.meta.location)a.push(E(c,n));else{if(p.indexOf("/")<0&&!r[p])continue;var f=k(p),d=i;r[p]||(d=o),Array.isArray(d[f])||(d[f]=[]),d[f].push(E(c,n))}}}var h=[].concat(a.sort(A)),m=Object.keys(o);for(l=0;l<m.length;l++){var g=m[l];h.push({proposal:"",description:g,style:"noemphasis_title",unselectable:!0}),h=h.concat(o[g].sort(A))}for(s.length>0&&(s.sort(A),s.splice(0,0,{proposal:"",description:e.keywordAssistHeader,style:"noemphasis_title",unselectable:!0}),h=h.concat(s)),m=Object.keys(i),l=0;l<m.length;l++)g=m[l],h.push({proposal:"",description:g,style:"noemphasis_title",unselectable:!0}),h=h.concat(i[g].sort(A));return h}d.prototype=new i.TemplateContentAssist([],[]),n.mixin(d.prototype,{uninterestingChars:":!#$^&.?<>",isValid:function(e,t,n){var r=t.charAt(n-e.length-1);return!r||-1===this.uninterestingChars.indexOf(r)},getTemplateProposals:function(t,n,r,i){for(var a=[],s=i?i.kind:null,l=o.getTemplatesForKind(s),c=0;c<l.length;c++){var u=l[c];if(this.templateMatches(u,t,i,r)){var p=u.getProposal(t,n,r),f=Object.create(null);f.type="markdown",f.content=e.templateHoverHeader,f.content+=p.proposal,p.hover=f,p.style="emphasis",this.removePrefix(t,p),p.kind="js",a.push(p)}}return 0<a.length&&(a.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}),a.splice(0,0,{proposal:"",description:e.templateAssistHeader,style:"noemphasis_title",unselectable:!0})),a},templateMatches:function(e,t,n,r){if(e.match(t)){if("undefined"!=typeof r.line){var i=r.line.length-("undefined"!=typeof t?t.length:0),o=r.line.slice(0,i>-1?i:0).trim();if(n&&"jsdoc"===n.kind)return!/^[\/]?[\*]+\s*[@]/gi.test(o)}if(n&&"doc"===n.kind){var a=n.node.value.trim();if(a){var s=r.offset-t.length-n.node.range[0];if(s>-1){var l=/^(eslint-\w+|eslint?)(\s|$)/gi.exec(a.slice(0,s));if(l)return!1}}}return!0}return!1}});var T=new d;n.mixin(x.prototype,{initialize:function(){},computeContentAssist:function(e,t){var n=this;return e.getFileMetadata().then(function(i){return"text/html"===i.contentType.id?e.getText().then(function(e){var o=n.cuprovider.getCompilationUnit(function(){return r.findScriptBlocks(e)},i);return o.validOffset(t.offset)?n.astManager.getAST(o.getEditorContext()).then(function(r){return n.pluginenvs().then(function(o){return n.doAssist(r,t,i,{ecma5:!0,ecma6:!0,browser:!0},o,e)})}):[]}):n.astManager.getAST(e).then(function(e){return n.pluginenvs().then(function(r){return n.doAssist(e,t,i,{ecma5:!0,ecma6:!0},r)})})})},doAssist:function(e,n,r,i,o,a){var s=g(e,n.offset,e.source);n.prefix=m(n,s,e.source);var l=[].concat(v(n,s,e,e.source,o),h(n,s,e.source));if(!s||"jsdoc"!==s.kind&&"doc"!==s.kind&&"linedoc"!==s.kind){var c=this.getActiveEnvironments(e,i),u=[{type:"full",name:r.location,text:a?a:e.source}];"undefined"==typeof n.keywords&&(n.keywords=!0);var p={params:n,meta:r,envs:c,files:u},f=new t;f.proposals=l,f.args=p;var d=this;return this.ternworker.postMessage({request:"completions",args:p},function(e){clearTimeout(d.timeout),f.resolve(f.proposals?[].concat(C(e.proposals?e.proposals:[],f.args),f.proposals):C(e.proposals,f.args))}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){f&&f.resolve(n.timeoutReturn?n.timeoutReturn:[]),this.timeout=null},n.timeout?n.timeout:5e3),f}return(new t).resolve(l)},getActiveEnvironments:function(e,t){var r=Object.create(null);if(n.mixin(r,t),e.comments)for(var i=0;i<e.comments.length;i++){var o=e.comments[i];if("Block"===o.type){var a=o.value.trim(),s=/^(eslint-\w+|eslint|globals?)(\s|$)/.exec(a);if(s&&(a=a.substring(s.index+s[1].length),"eslint-env"===s[1])){var l=a.replace(/\s*,\s*/g,",");l.split(/,+/).forEach(function(e){e=e.trim(),e&&(r[e]=!0)})}}}return r}});var L={"delete":!0,"new":!0,"instanceof":!0,"super":!0,"this":!0,"typeof":!0,"void":!0,"yield":!0},A=function(e,t){if(e.relevance>t.relevance)return-1;if(t.relevance>e.relevance)return 1;var n=e.name,r=t.name;return r>n?-1:n>r?1:0};return{TernContentAssist:x}}),n("esrecurse/esrecurse",[],function(){"use strict";function e(e){return null==e?!1:"object"==typeof e&&"string"==typeof e.type}function n(e,t){return(e===a.Syntax.ObjectExpression||e===a.Syntax.ObjectPattern)&&"properties"===t}function r(e){this.__visitor=e}var i,o,a=t("estraverse/estraverse");return i=Array.isArray,i||(i=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),o=Object.keys||function(e){var t,n=[];for(t in e)n.push(t);return n},r.prototype.visitChildren=function(t){var r,i,s,l,c,u,p;if(null!=t)for(r=t.type||a.Syntax.Property,i=a.VisitorKeys[r],i||(i=o(t)),s=0,l=i.length;l>s;++s)if(p=t[i[s]])if(Array.isArray(p))for(c=0,u=p.length;u>c;++c)p[c]&&(e(p[c])||n(r,i[s]))&&this.visit(p[c]);else e(p)&&this.visit(p)},r.prototype.visit=function(e){var t;if(null!=e)return t=e.type||a.Syntax.Property,this.__visitor[t]?void this.__visitor[t].call(this,e):void this.visitChildren(e)},{version:"1.2.0",Visitor:r,visit:function(e,t){var n=new r(t);n.visit(e)}}}),n("escope/escope",["esrecurse/esrecurse","estraverse/estraverse","orion/objects"],function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e._super=t}function i(e,t){if(!e)throw new Error(t)}function o(){return{optimistic:!1,directive:!1,sourceType:"script",ecmaVersion:5}}function a(e,t){function n(e){return"object"==typeof e&&e instanceof Object&&!(e instanceof RegExp)}var r,i;for(r in t)t.hasOwnProperty(r)&&(i=t[r],n(i)?n(e[r])?a(e[r],i):e[r]=a({},i):e[r]=i);return e}function s(e,t,n,r,i,o){this.identifier=e,this.from=t,this.tainted=!1,this.resolved=null,this.flag=n,this.isWrite()&&(this.writeExpr=r,this.partial=o),this.__maybeImplicitGlobal=i}function l(e,t){this.name=e,this.identifiers=[],this.references=[],this.defs=[],this.tainted=!1,this.stack=!0,this.scope=t}function c(e,t,n,r){var i,o,a,s,l;if(e.upper&&e.upper.isStrict)return!0;if(t.type===y.ArrowFunctionExpression)return!0;if(n)return!0;if("class"===e.type||"module"===e.type)return!0;if("block"===e.type||"switch"===e.type)return!1;if("function"===e.type)i=t.body;else{if("global"!==e.type)return!1;i=t}if(r){for(o=0,a=i.body.length;a>o&&(s=i.body[o],"DirectiveStatement"===s.type);++o)if('"use strict"'===s.raw||"'use strict'"===s.raw)return!0}else for(o=0,a=i.body.length;a>o&&(s=i.body[o],s.type===y.ExpressionStatement)&&(l=s.expression,l.type===y.Literal&&"string"==typeof l.value);++o)if(null!=l.raw){if('"use strict"'===l.raw||"'use strict'"===l.raw)return!0}else if("use strict"===l.value)return!0;return!1}function u(e,t){var n;e.scopes.push(t),n=e.__nodeToScope.get(t.block),n?n.push(t):e.__nodeToScope.set(t.block,[t])}function p(e,t,n,r){this.type=r===E?"TDZ":r===x?"module":t.type===y.BlockStatement?"block":t.type===y.SwitchStatement?"switch":t.type===y.FunctionExpression||t.type===y.FunctionDeclaration||t.type===y.ArrowFunctionExpression?"function":t.type===y.CatchClause?"catch":t.type===y.ForInStatement||t.type===y.ForOfStatement||t.type===y.ForStatement?"for":t.type===y.WithStatement?"with":t.type===y.ClassExpression||t.type===y.ClassDeclaration?"class":"global",this.set=new Map,this.taints=new Map,this.dynamic="global"===this.type||"with"===this.type,this.block=t,this.through=[],this.variables=[],this.references=[],this.variableScope="global"===this.type||"function"===this.type||"module"===this.type?this:e.__currentScope.variableScope,this.functionExpressionScope=!1,this.directCallToEvalScope=!1,this.thisFound=!1,this.__left=[],r===S?(this.__define(t.id,{type:l.FunctionName,name:t.id,node:t}),this.functionExpressionScope=!0):("function"===this.type&&this.block.type!==y.ArrowFunctionExpression&&this.__defineArguments(),t.type===y.FunctionExpression&&t.id&&e.__nestFunctionExpressionNameScope(t,n)),this.upper=e.__currentScope,this.isStrict=c(this,t,n,e.__useDirective()),this.childScopes=[],e.__currentScope&&e.__currentScope.childScopes.push(this),e.__currentScope=this,"global"===this.type&&(e.globalScope=this,e.globalScope.implicit={set:new Map,variables:[],left:[]}),u(e,this)}function f(e){this.scopes=[],this.globalScope=null,this.__nodeToScope=new WeakMap,this.__currentScope=null,this.__options=e}function d(e,n){t.traverse(e,{enter:function(e,t){var r,i,o,a;switch(e.type){case y.Identifier:null===t&&n(e,!0);break;case y.SpreadElement:e.argument.type===y.Identifier&&n(e.argument,!1);break;case y.ObjectPattern:for(r=0,i=e.properties.length;i>r;++r)a=e.properties[r],a.shorthand?n(a.key,!1):a.value.type!==y.Identifier||n(a.value,!1);break;case y.ArrayPattern:for(r=0,i=e.elements.length;i>r;++r)o=e.elements[r],o&&o.type===y.Identifier&&n(o,!1)}}})}function h(e){var t=e.type;return t===y.Identifier||t===y.ObjectPattern||t===y.ArrayPattern||t===y.SpreadElement}function m(t,n){e.Visitor.call(this,this),this.declaration=t,this.referencer=n}function g(t){e.Visitor.call(this,this),this.scopeManager=t,this.parent=null,this.isInnerMethodDefinition=!1}function v(e,t){var n,r,s;return s=a(o(),t),n=new f(s),r=new g(n),r.visit(e),i(null===n.__currentScope),n}var y=t.Syntax;s.READ=1,s.WRITE=2,s.RW=s.READ|s.WRITE,s.prototype.isStatic=function(){return!this.tainted&&this.resolved&&this.resolved.scope.isStatic()},s.prototype.isWrite=function(){return!!(this.flag&s.WRITE)},s.prototype.isRead=function(){return!!(this.flag&s.READ)},s.prototype.isReadOnly=function(){return this.flag===s.READ},s.prototype.isWriteOnly=function(){return this.flag===s.WRITE},s.prototype.isReadWrite=function(){return this.flag===s.RW},l.CatchClause="CatchClause",l.Parameter="Parameter",l.FunctionName="FunctionName",l.ClassName="ClassName",l.Variable="Variable",l.ImportBinding="ImportBinding",l.TDZ="TDZ",l.ImplicitGlobalVariable="ImplicitGlobalVariable";var b=0,x=1,S=2,E=3;return p.prototype.__close=function(e){var t,n,r,i,o,a;if(!this.dynamic||e.__isOptimistic())for(t=0,n=this.__left.length;n>t;++t)r=this.__left[t],this.__resolve(r)||this.__delegateToUpperScope(r);else if("with"===this.type)for(t=0,n=this.__left.length;n>t;++t)r=this.__left[t],r.tainted=!0,this.__delegateToUpperScope(r);else for(t=0,n=this.__left.length;n>t;++t){r=this.__left[t],i=this;do i.through.push(r),i=i.upper;while(i)}if("global"===this.type){for(o=[],t=0,n=this.__left.length;n>t;++t)r=this.__left[t],r.__maybeImplicitGlobal&&!this.set.has(r.identifier.name)&&o.push(r.__maybeImplicitGlobal);for(t=0,n=o.length;n>t;++t)a=o[t],this.__defineImplicit(a.pattern,{type:l.ImplicitGlobalVariable,name:a.pattern,node:a.node});this.implicit.left=this.__left}this.__left=null,e.__currentScope=this.upper},p.prototype.__resolve=function(e){var t,n;return n=e.identifier.name,this.set.has(n)?(t=this.set.get(n),t.references.push(e),t.stack=t.stack&&e.from.variableScope===this.variableScope,e.tainted&&(t.tainted=!0,this.taints.set(t.name,!0)),e.resolved=t,!0):!1},p.prototype.__delegateToUpperScope=function(e){this.upper&&this.upper.__left.push(e),this.through.push(e)},p.prototype.__defineGeneric=function(e,t,n,r,i){var o;o=t.get(e),o||(o=new l(e,this),t.set(e,o),n.push(o)),i&&o.defs.push(i),r&&o.identifiers.push(r)},p.prototype.__defineArguments=function(){this.__defineGeneric("arguments",this.set,this.variables),this.taints.set("arguments",!0)},p.prototype.__defineImplicit=function(e,t){e&&e.type===y.Identifier&&this.__defineGeneric(e.name,this.implicit.set,this.implicit.variables,e,t)},p.prototype.__define=function(e,t){e&&e.type===y.Identifier&&this.__defineGeneric(e.name,this.set,this.variables,e,t)},p.prototype.__referencing=function(e,t,n,r,i){var o;e&&e.type===y.Identifier&&(o=new s(e,this,t||s.READ,n,r,!!i),this.references.push(o),this.__left.push(o))},p.prototype.__detectEval=function(){var e;e=this,this.directCallToEvalScope=!0;do e.dynamic=!0,e=e.upper;while(e)},p.prototype.__detectThis=function(){this.thisFound=!0},p.prototype.__isClosed=function(){return null===this.__left},p.prototype.resolve=function(e){var t,n,r;for(i(this.__isClosed(),"scope should be closed"),i(e.type===y.Identifier,"target should be identifier"),n=0,r=this.references.length;r>n;++n)if(t=this.references[n],t.identifier===e)return t;return null},p.prototype.isStatic=function(){return!this.dynamic},p.prototype.isArgumentsMaterialized=function(){var e;return"function"!==this.type?!0:this.isStatic()?(e=this.set.get("arguments"),i(e,"always have arguments variable"),e.tainted||0!==e.references.length):!0},p.prototype.isThisMaterialized=function(){return"function"!==this.type?!0:this.isStatic()?this.thisFound:!0},p.prototype.isUsedName=function(e){if(this.set.has(e))return!0;for(var t=0,n=this.through.length;n>t;++t)if(this.through[t].identifier.name===e)return!0;return!1},f.prototype.__useDirective=function(){return this.__options.directive},f.prototype.__isOptimistic=function(){return this.__options.optimistic},f.prototype.__ignoreEval=function(){return this.__options.ignoreEval},f.prototype.isModule=function(){return"module"===this.__options.sourceType},f.prototype.__get=function(e){return this.__nodeToScope.get(e)},f.prototype.acquire=function(e,t){function n(e){return"function"===e.type&&e.functionExpressionScope?!1:"TDZ"===e.type?!1:!0}var r,i,o,a;if(r=this.__get(e),!r||0===r.length)return null;if(1===r.length)return r[0];if(t){for(o=r.length-1;o>=0;--o)if(i=r[o],n(i))return i}else for(o=0,a=r.length;a>o;++o)if(i=r[o],n(i))return i;return null},f.prototype.acquireAll=function(e){return this.__get(e)},f.prototype.release=function(e,t){var n,r;return n=this.__get(e),n&&n.length?(r=n[0].upper,r?this.acquire(r.block,t):null):null},f.prototype.attach=function(){},f.prototype.detach=function(){},f.prototype.__nestScope=function(e,t){return new p(this,e,t,b)},f.prototype.__nestModuleScope=function(e){return new p(this,e,!1,x)},f.prototype.__nestTDZScope=function(e){return new p(this,e,!1,E)},f.prototype.__nestFunctionExpressionNameScope=function(e,t){return new p(this,e,t,S)},f.prototype.__isES6=function(){return this.__options.ecmaVersion>=6},r(m,e.Visitor),m.prototype.visitImport=function(e,t){var n=this;n.referencer.visitPattern(e,function(e){n.referencer.currentScope().__define(e,{type:l.ImportBinding,name:e,node:t,parent:n.declaration})})},m.prototype.ImportNamespaceSpecifier=function(e){e.id&&this.visitImport(e.id,e)},m.prototype.ImportDefaultSpecifier=function(e){this.visitImport(e.id,e)},m.prototype.ImportSpecifier=function(e){e.name?this.visitImport(e.name,e):this.visitImport(e.id,e)},r(g,e.Visitor),n.mixin(g.prototype,{currentScope:function(){return this.scopeManager.__currentScope},close:function(e){for(;this.currentScope()&&e===this.currentScope().block;)this.currentScope().__close(this.scopeManager)},pushInnerMethodDefinition:function(e){var t=this.isInnerMethodDefinition;return this.isInnerMethodDefinition=e,t},popInnerMethodDefinition:function(e){this.isInnerMethodDefinition=e},materializeTDZScope:function(e,t){this.scopeManager.__nestTDZScope(e,t),this.visitVariableDeclaration(this.currentScope(),l.TDZ,t.left,0)},materializeIterationScope:function(e){var t,n=this;this.scopeManager.__nestScope(e,!1),t=e.left,this.visitVariableDeclaration(this.currentScope(),l.Variable,t,0),this.visitPattern(t.declarations[0].id,function(t){n.currentScope().__referencing(t,s.WRITE,e.right,null,!0)})},visitPattern:function(e,t){d(e,t)},visitFunction:function(e){var t,n,r=this;for(e.type===y.FunctionDeclaration&&this.currentScope().__define(e.id,{type:l.FunctionName,name:e.id,node:e}),this.scopeManager.__nestScope(e,this.isInnerMethodDefinition),t=0,n=e.params.length;n>t;++t)this.visitPattern(e.params[t],function(n){r.currentScope().__define(n,{type:l.Parameter,name:n,node:e,index:t})});e.body.type===y.BlockStatement?this.visitChildren(e.body):this.visit(e.body),this.close(e)},visitClass:function(e){e.type===y.ClassDeclaration&&this.currentScope().__define(e.id,{type:l.ClassName,name:e.id,node:e}),this.visit(e.superClass),this.scopeManager.__nestScope(e),e.id&&this.currentScope().__define(e.id,{type:l.ClassName,name:e.id,node:e}),this.visit(e.body),this.close(e)},visitProperty:function(e){var t,n;e.computed&&this.visit(e.key),n=e.type===y.MethodDefinition||e.method,n&&(t=this.pushInnerMethodDefinition(!0)),this.visit(e.value),n&&this.popInnerMethodDefinition(t)},visitForIn:function(e){var t=this;e.left.type===y.VariableDeclaration&&"var"!==e.left.kind?(this.materializeTDZScope(e.right,e),this.visit(e.right),this.close(e.right),this.materializeIterationScope(e),this.visit(e.body),this.close(e)):(e.left.type===y.VariableDeclaration?(this.visit(e.left),this.visitPattern(e.left.declarations[0].id,function(n){t.currentScope().__referencing(n,s.WRITE,e.right,null,!0)})):(h(e.left)||this.visit(e.left),this.visitPattern(e.left,function(n){var r=null;t.currentScope().isStrict||(r={pattern:n,node:e}),t.currentScope().__referencing(n,s.WRITE,e.right,r,!0)})),this.visit(e.right),this.visit(e.body))},visitVariableDeclaration:function(e,t,n,r){var i,o,a=this;i=n.declarations[r],o=i.init,this.visitPattern(i.id,function(l,c){e.__define(l,{type:t,name:l,node:i,index:r,kind:n.kind,parent:n}),o&&a.currentScope().__referencing(l,s.WRITE,o,null,!c)})},AssignmentExpression:function(e){var t=this;h(e.left)?"="===e.operator?this.visitPattern(e.left,function(n,r){var i=null;t.currentScope().isStrict||(i={pattern:n,node:e}),t.currentScope().__referencing(n,s.WRITE,e.right,i,!r)}):t.currentScope().__referencing(e.left,s.RW,e.right):this.visit(e.left),this.visit(e.right)},CatchClause:function(e){var t=this;this.scopeManager.__nestScope(e),this.visitPattern(e.param,function(n){t.currentScope().__define(n,{type:l.CatchClause,name:e.param,node:e})}),this.visit(e.body),this.close(e)},Program:function(e){this.scopeManager.__nestScope(e),this.scopeManager.__isES6()&&this.scopeManager.isModule()&&this.scopeManager.__nestModuleScope(e),this.visitChildren(e),this.close(e)},Identifier:function(e){this.currentScope().__referencing(e)},UpdateExpression:function(e){h(e.argument)?this.currentScope().__referencing(e.argument,s.RW,null):this.visitChildren(e)},MemberExpression:function(e){this.visit(e.object),e.computed&&this.visit(e.property)},Property:function(e){this.visitProperty(e)},MethodDefinition:function(e){this.visitProperty(e)},BreakStatement:function(){},ContinueStatement:function(){},LabeledStatement:function(e){this.visit(e.body)},ForStatement:function(e){e.init&&e.init.type===y.VariableDeclaration&&"var"!==e.init.kind&&this.scopeManager.__nestScope(e),this.visitChildren(e),this.close(e)},ClassExpression:function(e){this.visitClass(e)},ClassDeclaration:function(e){this.visitClass(e)},CallExpression:function(e){this.scopeManager.__ignoreEval()||e.callee.type!==y.Identifier||"eval"!==e.callee.name||this.currentScope().variableScope.__detectEval(),this.visitChildren(e)},BlockStatement:function(e){this.scopeManager.__isES6()&&this.scopeManager.__nestScope(e),this.visitChildren(e),this.close(e)},ThisExpression:function(){this.currentScope().variableScope.__detectThis()},WithStatement:function(e){this.visit(e.object),this.scopeManager.__nestScope(e),this.visit(e.body),this.close(e)},VariableDeclaration:function(e){var t,n,r,i;for(t="var"===e.kind?this.currentScope().variableScope:this.currentScope(),n=0,r=e.declarations.length;r>n;++n)i=e.declarations[n],this.visitVariableDeclaration(t,l.Variable,e,n),i.init&&this.visit(i.init)},SwitchStatement:function(e){var t,n;for(this.visit(e.discriminant),this.scopeManager.__isES6()&&this.scopeManager.__nestScope(e),t=0,n=e.cases.length;n>t;++t)this.visit(e.cases[t]);this.close(e)},FunctionDeclaration:function(e){this.visitFunction(e)},FunctionExpression:function(e){this.visitFunction(e)},ForOfStatement:function(e){this.visitForIn(e)},ForInStatement:function(e){this.visitForIn(e)},ArrowFunctionExpression:function(e){this.visitFunction(e)},ImportDeclaration:function(e){var t;i(this.scopeManager.__isES6()&&this.scopeManager.isModule()),t=new m(e,this),t.visit(e)},ExportDeclaration:function(e){return e.source?void 0:e.declaration?void this.visit(e.declaration):void this.visitChildren(e)},ExportSpecifier:function(e){this.visit(e.id)}}),{version:"2.0.4",Reference:s,Variable:l,Scope:p,ScopeManager:f,analyze:v}}),n("eslint/lib/rules",["./load-rules-async","exports"],function(e,t){function n(e,t){i[e]=t}function r(){var t=e.getESLintRules();Object.keys(t).forEach(function(e){n(e,t[e])})}var i=Object.create(null);return t.define=n,t.load=r,t["import"]=function(e,t){Object.keys(e).forEach(function(r){var i=t+"/"+r,o=e[r];n(i,o)})},t.get=function(e){return i[e]},t.testClear=function(){i=Object.create(null)},r(),t}),n("eslint/lib/rule-context",[],function(){function e(e,n,r,i,o,a,s){Object.defineProperty(this,"env",{value:s}),Object.defineProperty(this,"id",{value:e}),Object.defineProperty(this,"options",{value:i}),Object.defineProperty(this,"settings",{value:o}),Object.defineProperty(this,"ecmaFeatures",{value:Object.create(a)}),Object.freeze(this.ecmaFeatures),t.forEach(function(e){this[e]=function(){return n[e].apply(n,arguments)}},this),this.report=function(t,i,o,a){n.report(e,r,t,i,o,a)}}var t=["getAllComments","getAncestors","getComments","getFilename","getFirstToken","getFirstTokens","getJSDocComment","getLastToken","getLastTokens","getNodeByRangeIndex","getScope","getSource","getSourceLines","getTokenAfter","getTokenBefore","getTokenByRangeStart","getTokens","getTokensAfter","getTokensBefore","getTokensBetween"];return e.prototype={constructor:e},e}),n("eslint/lib/events",["orion/EventTarget","orion/objects"],function(e,t){function n(){this._eventTarget=new e}function r(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");var r,o="undefined"!=typeof this._maxListeners?this._maxListeners:i;return 0!==o&&(r=n.listenerCount(this,e)>=o)&&"undefined"!=typeof console&&console.error("Possible EventEmitter memory leak: "+r+" listeners added."),this.emit("newListener",t),this._eventTarget.addEventListener(e,t),this}var i=10;return n.prototype.constructor=n,t.mixin(n.prototype,{_maxListeners:10,addListener:r,on:r,once:function(e,t){var n=this,r=function(){try{t.apply(this,Array.prototype.slice.call(arguments))}finally{n.removeListener(e,r)}};return this.addListener(e,r),this},removeListener:function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");return this._eventTarget.removeEventListener(e,t),this.emit("removeListener",t),this},removeAllListeners:function(e){var t=this._eventTarget._namedListeners,n=this,r=function(e){var r=t[e];r&&(r.forEach(n.emit.bind(n,"removeListener")),delete t[e])};return"undefined"==typeof e?Object.keys(t).forEach(r):r(e),this},setMaxListeners:function(e){if("number"!=typeof e)throw new Error("setMaxListeners only takes a number");this._maxListeners=e},listeners:function(e){var t=this._eventTarget._namedListeners[e];return t?t.slice():[]},emit:function(e){var t=this._eventTarget._namedListeners[e];if(!t){if("error"===e)throw new Error("Uncaught, unspecified 'error' event.");return!1}var n=Array.prototype.slice.call(arguments,1),r=this;return t.forEach(function(e){e.apply(r,n)}),!0}}),n.listenerCount=function(e,t){var n=e._eventTarget._namedListeners[t];return n?n.length:0},{EventEmitter:n}}),n("eslint/lib/token-store",[],function(){return function(e){function t(t,n){var r,o=[];for(r=Math.max(0,t);n>r&&i>r;r++)o.push(e[r]);return o}function n(e){var t=e.range[1],n=l[t];return"undefined"==typeof n&&(n=s[t]-1),isNaN(n)&&(n=i-1),n}var r,i,o,a={},s=Object.create(null),l=Object.create(null);for(r=0,i=e.length;i>r;r++)o=e[r].range,s[o[0]]=r,l[o[1]]=r;return a.getTokensBefore=function(e,n){var r=s[e.range[0]];return t(r-(n||0),r)},a.getTokenBefore=function(t,n){return e[s[t.range[0]]-(n||0)-1]},a.getTokensAfter=function(e,r){var i=n(e)+1;return t(i,i+(r||0))},a.getTokenAfter=function(t,r){return e[n(t)+(r||0)+1]},a.getTokens=function(e,r,i){return t(s[e.range[0]]-(r||0),n(e)+(i||0)+1)},a.getFirstTokens=function(e,r){var i=s[e.range[0]];return t(i,Math.min(n(e)+1,i+(r||0)))},a.getFirstToken=function(t,n){return e[s[t.range[0]]+(n||0)]},a.getLastTokens=function(e,r){var i=n(e)+1;return t(Math.max(s[e.range[0]],i-(r||0)),i)},a.getLastToken=function(t,r){return e[n(t)-(r||0)]},a.getTokensBetween=function(e,r,i){return i=i||0,t(n(e)+1-i,s[r.range[0]]+i)},a.getTokenByRangeStart=function(t){return e[s[t]]||null},a}}),n("eslint/lib/eslint",["esprima/esprima","estraverse/estraverse","escope/escope","eslint/conf/environments","./rules","./util","./rule-context","./events","./token-store","require","module"],function(e,t,n,r,i,o,a,s,l,c,u){function p(e,t){Object.keys(t).forEach(function(n){e[n]=t[n]})}function f(e){var t={};return e=e.replace(/\s*:\s*/g,":"),e=e.replace(/\s*,\s*/g,","),e.split(/\s|,+/).forEach(function(e){if(e){var n,r=e.indexOf(":");-1!==r&&(n=e.substring(r+1,e.length),e=e.substring(0,r)),t[e]="true"===n}}),t}function d(e){var t={};e=e.replace(/([a-z0-9\-\/]+):/g,'"$1":').replace(/(\]|[0-9])\s+(?=")/,"$1,");try{t=JSON.parse("{"+e+"}")}catch(n){}return t}function h(e){var t={};return e=e.replace(/\s*,\s*/g,","),e.split(/,+/).forEach(function(e){e=e.trim(),e&&(t[e]=!0)}),t}function m(e,t){var n=null;return e.variables.some(function(e){return e.name===t?(n=e,!0):!1}),n}function g(e,t,i){var o={},a={},s=r.builtin;p(o,s),Object.keys(i.env).forEach(function(e){if(i.env[e]){var t=r[e]&&r[e].globals;t&&p(o,t)}}),p(o,i.globals),p(a,i.astGlobals),Object.keys(o).forEach(function(e){var r=m(t,e);r||(r=new n.Variable(e,t),r.eslintExplicitGlobal=!1,t.variables.push(r)),r.writeable=o[e]}),Object.keys(a).forEach(function(e){var r=m(t,e);r||(r=new n.Variable(e,t),r.eslintExplicitGlobal=!0,t.variables.push(r)),r.writeable=a[e]})}function v(e,t,n){n.length?n.forEach(function(n){e.push({start:t,end:null,rule:n})}):e.push({start:t,end:null,rule:null})}function y(e,t,n){var r;if(n.length)n.forEach(function(n){for(r=e.length-1;r>=0;r--)if(!e[r].end&&e[r].rule===n){e[r].end=t;break}});else{var i;for(r=e.length-1;r>=0&&(!i||i===e[r].start);r--)e[r].end||(e[r].end=t,i=e[r].start)}}function b(e,t,n){var i={astGlobals:{},rules:{},env:{}},a={};e.comments.forEach(function(e){if("Block"===e.type){var t=e.value.trim(),r=/^(eslint-\w+|eslint|globals?)(\s|$)/.exec(t);if(r)switch(t=t.substring(r.index+r[1].length),r[1]){case"globals":case"global":o.mixin(i.astGlobals,f(t));break;case"eslint-env":o.mixin(i.env,h(t));break;case"eslint-disable":v(n,e.loc.start,Object.keys(h(t)));break;case"eslint-enable":y(n,e.loc.start,Object.keys(h(t)));
break;case"eslint":var s=d(t);Object.keys(s).forEach(function(e){var t=s[e];("number"==typeof t||Array.isArray(t)&&"number"==typeof t[0])&&(a[e]=t)})}}}),Object.keys(i.env).forEach(function(e){var t=r[e]&&r[e].rules;i.env[e]&&t&&o.mixin(i.rules,t)}),o.mixin(i.rules,a),o.mergeConfigs(t,i)}function x(e,t,n){for(var r=0,i=e.length;i>r;r++){var o=e[r];if((!o.rule||o.rule===t)&&(n.line>o.start.line||n.line===o.start.line&&n.column>=o.start.column)&&(!o.end||n.line<o.end.line||n.line===o.end.line&&n.column<=o.end.column))return!0}return!1}function S(e){e.globals=e.globals||e.global||{},delete e.global;var t={},n={};return"object"==typeof e.rules&&Object.keys(e.rules).forEach(function(n){var r=e.rules[n];t[n]=Array.isArray(r)?r.slice():r}),"object"==typeof e.env&&Object.keys(e.env).forEach(function(e){r[e].ecmaFeatures&&p(n,r[e].ecmaFeatures)}),{rules:t,parser:e.parser||"esprima",globals:o.mergeConfigs({},e.globals),env:o.mergeConfigs({},e.env||{}),settings:o.mergeConfigs({},e.settings||{}),ecmaFeatures:o.mergeConfigs(n,e.ecmaFeatures||{})}}var E=s.EventEmitter;return u.exports=function(){function r(t,n){try{return e.parse(t,{loc:!0,range:!0,raw:!0,tokens:!0,comment:!0,tolerant:!0,attachComment:!0,ecmaFeatures:n.ecmaFeatures})}catch(r){return h.push({fatal:!0,severity:2,message:r.message.substring(r.message.indexOf(":")+1).trim(),line:r.lineNumber,column:r.column}),null}}function o(e,t,n){e.length&&e.forEach(function(e){t.indexOf(e.loc)>=0?t.splice(t.indexOf(e.loc),1):(t.push(e.loc),d.emit(e.type+n,e))})}function s(e){o(e,P,"Comment")}function u(e){o(e,j,"Comment:exit")}function p(e){return"number"==typeof e?e:Array.isArray(e)?e[0]:0}function f(e){return Array.isArray(e)?e.slice(1):[]}var d=Object.create(new E),h=[],m=null,v=[],y=null,w=null,_=null,k=null,C=null,T=null,L=null,A=[],P=[],j=[],F=null;d.setMaxListeners(0),d.reset=function(){this.removeAllListeners(),h=[],F=null,y=null,m=null,v=[],w=null,_=null,k=null,C=null,L=null,A=[],P=[],j=[]},d.verify=function(e,o,c,x){var E,P;T=c,x||this.reset();var j=e&&"string"==typeof e?e:e.source;return 0===j.trim().length?(m=j,h):(o=S(o||{}),E=e&&"object"==typeof e?e:r(j.replace(/^#!([^\r\n]+)/,function(e,t){return P=t,"//"+t}),o),E&&(F=E,b(E,o,A),Object.keys(o.rules).filter(function(e){return p(o.rules[e])>0}).forEach(function(e){var t,n=i.get(e),r=p(o.rules[e]),s=f(o.rules[e]);if(!n)throw new Error("Definition for rule '"+e+"' was not found.");try{t=n(new a(e,d,r,s,o.settings,o.ecmaFeatures,o.env)),Object.keys(t).forEach(function(e){d.on(e,t[e])})}catch(l){throw l.message="Error while loading rule '"+e+"': "+l.message,l}}),y=o,m=j,L=new t.Controller,C=n.analyze(E,{ignoreEval:!0,ecmaVersion:y.ecmaFeatures.blockBindings?6:5}),_=C.scopes,k=[],_.forEach(function(e,t){var n=e.block.range[0];k[n]||(k[n]=t)}),v=m.split(/\r?\n|\u2028|\u2029/g),Object.freeze(v),w=l(E.tokens),Object.keys(w).forEach(function(e){d[e]=w[e]}),g(E,_[0],y),P&&E.comments.length&&E.comments[0].value===P&&(E.comments.splice(0,1),E.body.length&&E.body[0].leadingComments&&E.body[0].leadingComments[0].value===P&&E.body[0].leadingComments.splice(0,1)),L.traverse(E,{enter:function(e,t){var n=d.getComments(e);s(n.leading),e.parent=t,d.emit(e.type,e),s(n.trailing)},leave:function(e){var t=d.getComments(e);u(t.trailing),d.emit(e.type+":exit",e),u(t.leading)}})),h.sort(function(e,t){var n=e.line-t.line;return 0===n?e.column-t.column:n}),h)},d.report=function(e,t,n,r,i,o,a){"string"==typeof r&&(a=o,o=i,i=r,r=n.loc.start),i=i.replace(/\$\{([^\}]+)\}/g,function(e,t){return o[t]}),x(A,e,r)||h.push({ruleId:e,severity:t,node:n,message:i,args:o,line:r.line,column:r.column,nodeType:n.type,source:v[r.line-1]||"",related:"undefined"!=typeof a?a:null})},d.getSource=function(e,t,n){return e?null!==m?m.slice(Math.max(e.range[0]-(t||0),0),e.range[1]+(n||0)):null:m},d.getSourceLines=function(){return v},d.getAllComments=function(){return F.comments},d.getComments=function(e){var t=e.leadingComments||[],n=e.trailingComments||[];return"Program"===e.type&&0===e.body.length&&(t=e.comments),{leading:t,trailing:n}},d.getJSDocComment=function(e){function t(e){if(e)for(var t=e.length-1;t>=0;t--)if("Block"===e[t].type&&"*"===e[t].value.charAt(0)){if(r-e[t].loc.end.line<=1)return e[t];break}return null}var n=e.parent,r=e.loc.start.line;switch(e.type){case"FunctionDeclaration":return t(e.leadingComments);case"ArrowFunctionExpression":case"FunctionExpression":if("CallExpression"!==n.type||n.callee!==e){for(;n&&!n.leadingComments&&!/Function/.test(n.type);)n=n.parent;return n&&"FunctionDeclaration"!==n.type?t(n.leadingComments):null}default:return null}},d.getAncestors=function(){return L.parents()},d.getNodeByRangeIndex=function(e){var n=null;return t.traverse(L.root,{enter:function(t){t.range[0]<=e&&e<t.range[1]?n=t:this.skip()},leave:function(e){e===n&&this["break"]()}}),n},d.getScope=function(){var e=L.parents(),t=_[0];if(e.length){var n=L.current();("FunctionDeclaration"===n.type||"FunctionExpression"===n.type||"ArrowFunctionExpression"===n.type)&&e.push(n);for(var r=e.length-1;r>=0;--r)if(t=C.acquire(e[r]))return t}return _[0]},d.getFilename=function(){return"string"==typeof T?T:"<input>"};var O=d.defineRule=function(e,t){i.define(e,t)};return d.defineRules=function(e){Object.getOwnPropertyNames(e).forEach(function(t){O(t,e[t])})},d.defaults=function(){return c("../conf/eslint.json")},d}(),u.exports}),n("javascript/validator",["eslint/lib/eslint","orion/objects","javascript/astManager","javascript/finder","orion/i18nUtil","i18n!javascript/nls/problems","orion/metrics"],function(e,t,n,r,i,o,a){function s(e,t){this.astManager=e,this.cuprovider=t,p.setDefaults()}function l(e){var t=2,n=p.rules[e.ruleId];if(Array.isArray(n)){var r=e.related,i=r&&r.type;t="missing-doc"===e.ruleId&&void 0!==n[1][i]?n[1][i]:n[0]}else t=n;switch(t){case 1:return"warning";case 2:return"error"}return"error"}function c(e){if(e.args){if(e.args.pid)return e.args.pid;if(e.args.nls)return e.args.nls}return e.ruleId}function u(e){var t=e.start,n=e.end;if(e.node&&(t=e.node.range[0],n=e.node.range[1],e.related&&e.related.range)){var r=e.related;t=r.range[0],n=r.range[1]}var a=e.args&&e.args.nls?e.args.nls:e.ruleId,s=e.args||Object.create(null),u=e.message;a&&o[a]&&(u=i.formatMessage.call(null,o[a],s));var p={id:c(e),description:u,severity:l(e)};return"undefined"!=typeof t?(p.start=t,p.end=n):"number"==typeof e.index?(p.start=n,p.end=e.index):"undefined"!=typeof e.lineNumber?(p.line=e.lineNumber,p.start=e.column):(p.start=0,p.end=0),e.args&&e.args.data&&(p.data=e.args.data),p}var p={defaults:{curly:0,eqeqeq:1,"missing-doc":0,"missing-nls":0,"new-parens":1,"no-caller":1,"no-cond-assign":2,"no-comma-dangle":0,"no-console":2,"no-constant-condition":2,"no-debugger":1,"no-dupe-keys":2,"no-eval":0,"no-extra-semi":1,"no-implied-eval":0,"no-iterator":2,"no-proto":2,"no-jslint":1,"no-new-array":1,"no-new-func":1,"no-new-object":1,"no-new-wrappers":1,"no-redeclare":1,"no-reserved-keys":2,"no-regex-spaces":2,"no-shadow":1,"no-shadow-global":1,"no-throw-literal":1,"no-undef":2,"no-undef-init":1,"no-unused-params":1,"no-unused-vars":1,"no-use-before-define":1,radix:1,semi:1,"use-isnan":2,"no-unreachable":2,"no-fallthrough":2,"no-empty-block":0,"valid-typeof":2,"no-sparse-arrays":1,"no-with":1},setOption:function(e,t,n){if("number"==typeof t)if(Array.isArray(this.rules[e])){var r=this.rules[e];n?(r[1]=r[1]||{},r[1][n]=t):r[0]=t}else this.rules[e]=t},setDefaults:function(){this.rules=Object.create(null);for(var e=Object.keys(this.defaults),t=0;t<e.length;t++){var n=e[t];this.rules[n]=this.defaults[n]}}};return t.mixin(s.prototype,{_extractParseErrors:function(e){var t=[],i=Object.create(null),o=e.errors;if(o)for(var a=o.length,s=0;a>s;s++){var l=o[s],c=null;l.end&&l.token?c={range:[l.index,l.end],value:l.token}:e.tokens.length>0&&(c=r.findToken(l.index,e.tokens));var u=l.message;if(i[l.index]!==u){if(i[l.index]=u,l.type)switch(l.type){case n.ErrorTypes.Unexpected:c&&(l.args={0:c.value,nls:"syntaxErrorBadToken"},l.message=u=l.args.nls);break;case n.ErrorTypes.EndOfInput:l.args={nls:"syntaxErrorIncomplete"},l.message=l.args.nls}else l.token||(l.args={0:l.message,nls:"esprimaParseFailure"},l.message=l.args.nls,delete l.start,delete l.end);c&&(l.node=c,c.value&&(l.args||(l.args=Object.create(null)),l.args.data||(l.args.data=Object.create(null)),l.args.data.tokenValue=c.value)),t.push(l)}}return t},computeProblems:function(e){var t=this;return e.getFileMetadata().then(function(n){return"text/html"===n.contentType.id?e.getText().then(function(e){var i=t.cuprovider.getCompilationUnit(function(){return r.findScriptBlocks(e)},n);return t.astManager.getAST(i.getEditorContext()).then(function(e){var n=Object.create(null);return n.browser=!0,t._validateAst(e,n)})}):t.astManager.getAST(e).then(function(e){return t._validateAst(e)})})},_validateAst:function(t,n){var r=[],i=this._extractParseErrors(t),o=Date.now();try{p.env=n,r=e.verify(t,p)}catch(s){i.length<1&&r.push({start:0,args:{0:s.toString(),nls:"eslintValidationFailure"},severity:"error"})}var l=Date.now()-o;return a.logTiming("language tools","validation",l,"application/javascript"),{problems:this._filterProblems(i,r).map(u)}},_filterProblems:function(e,t){var n=e.length;if(1>n)return t;var r=[].concat(e),i=t.length;e:for(var o=0;i>o;o++){for(var a=t[o],s=0;n>s;s++){var l=e[s],c=a.node;if(c&&c.range[0]>=l.index&&c.range[0]<=l.end)continue e}r.push(a)}return r},updated:function(e){if(e)for(var t="eslint.config"===e.pid,n=Object.keys(e),r=Object.create(null),i=0;i<n.length;i++){var o=n[i],a=o;if(!t||p.rules[o]===p.defaults[o]){var s=this._legacy[a];"string"==typeof s&&(a=s,r[a])||(r[a]=!0,p.setOption(a,e[o]))}}},_enableOnly:function(e,t,n){for(var r=Object.keys(p.rules),i=0;i<r.length;i++)r[i]===e?p.setOption(e,t?t:2,n):p.setOption(r[i],0)},_legacy:{"throw-error":"no-throw-literal",validate_no_cond_assign:"no-cond-assign",validate_no_constant_condition:"no-constant-condition",validate_no_caller:"no-caller",validate_eqeqeq:"eqeqeq",validate_no_console:"no-console",validate_debugger:"no-debugger",validate_eval:"no-eval",validate_no_iterator:"no-iterator",validate_dupe_obj_keys:"no-dupe-keys",validate_typeof:"valid-typeof",validate_use_before_define:"no-use-before-define",validate_new_parens:"new-parens",validate_radix:"radix",validate_missing_semi:"semi",validate_no_regex_spaces:"no-spaces-regex",validate_use_isnan:"use-isnan",validate_throw_error:"no-throw-literal",validate_no_reserved_keys:"no-reserved-keys",validate_no_sparse_arrays:"no-sparse-arrays",validate_curly:"curly",validate_no_fallthrough:"no-fallthrough",validate_no_comma_dangle:"no-comma-dangle",validate_no_undef:"no-undef",validate_no_empty_block:"no-empty-block",validate_unnecessary_semi:"no-extra-semi",validate_no_jslint:"no-jslint",validate_unused_params:"no-unused-params",validate_no_unused_vars:"no-unused-vars",validate_no_unreachable:"no-unreachable",validate_no_redeclare:"no-redeclare",validate_no_shadow:"no-shadow"}}),s}),n("javascript/occurrences",["orion/objects","javascript/finder","estraverse/estraverse"],function(e,t,n){function r(){}function i(e,r){function i(r){var i=r.parent?r.parent:r.parents&&r.parents.length>0?r.parents[r.parents.length-1]:null;if(i&&i.type===n.Syntax.ArrayExpression){var o=i.parent?i.parent:r.parents&&r.parents.length>1?r.parents[r.parents.length-2]:null;if(o&&o.type===n.Syntax.CallExpression&&o.callee&&"define"===o.callee.name)for(var a=i.elements,s=0;s<a.length;s++)if(a[s]===r){var l=o;if(l&&l.arguments&&(2===l.arguments.length||3===l.arguments.length)&&(l=l.arguments[l.arguments.length-1],l.params&&l.params.length>s))return t.findNode(l.params[s].range[0],e,{parents:!0});break}}return null}if(e&&r){var c=r.selection.start,u=r.selection.end,p=o(c,e);if(p){var f=t.findNode(c,e,{parents:!0});if(!s(f)&&p.range[0]>=f.range[0]&&p.range[1]<=f.range[1]){if(f.type===n.Syntax.Literal){var d=i(f);if(!d)return[];f=d,c=f.range[0],u=f.range[1]}var h={start:c,end:u,word:a(f),token:f},m=l(h);return n.traverse(e,m),m.occurrences}}}return[]}function o(e,n){if(n.tokens&&n.tokens.length>0){var r=t.findToken(e,n.tokens);if(r){if("Punctuator"===r.type){var i=r.index;if(e===r.range[0]&&null!=i&&i>0){var o=n.tokens[i-1];if(o.range[1]!==r.range[0])return null;r=o}}if("Identifier"===r.type||"String"===r.type||"Keyword"===r.type&&"this"===r.value)return r}}return null}function a(e){switch(e.type){case n.Syntax.Identifier:return e.name;case n.Syntax.ThisExpression:return"this"}}function s(e){return e?e.type===n.Syntax.ThisExpression?!1:e.type===n.Syntax.Literal?!1:e.type!==n.Syntax.Identifier:!0}function l(e){if(this.visitor||(this.visitor=new r,this.visitor.enter=this.visitor.enter.bind(this.visitor),this.visitor.leave=this.visitor.leave.bind(this.visitor)),e.token){var t=e.token.parent?e.token.parent:e.token.parents&&e.token.parents.length>0?e.token.parents[e.token.parents.length-1]:null;this.visitor.thisCheck=e.token.type===n.Syntax.ThisExpression,this.visitor.objectPropCheck=!1,t&&t.type===n.Syntax.Property?this.visitor.objectPropCheck=e.token===t.key:t&&t.type===n.Syntax.MemberExpression?t.object&&t.object.type===n.Syntax.ThisExpression?this.visitor.objectPropCheck=!0:!t.computed&&t.property&&e.start>=t.property.range[0]&&e.end<=t.property.range[1]&&(this.visitor.objectPropCheck=!0):t&&t.type===n.Syntax.FunctionExpression&&e.token.parents&&e.token.parents.length>1&&e.token.parents[e.token.parents.length-2].type===n.Syntax.Property&&t.id&&t.id.range===e.token.range&&(this.visitor.objectPropCheck=!0),this.visitor.labeledStatementCheck=t&&(t.type===n.Syntax.LabeledStatement||t.type===n.Syntax.ContinueStatement||t.type===n.Syntax.BreakStatement)}return this.visitor.context=e,this.visitor}function c(e,t){this.astManager=e,this.cuprovider=t}return n.VisitorKeys.RecoveredNode=[],e.mixin(r.prototype,{occurrences:[],scopes:[],context:null,thisCheck:!1,objectPropCheck:!1,enter:function(e){var t,r;switch(e.type){case n.Syntax.Program:this.occurrences=[],this.scopes=[{range:e.range,occurrences:[],kind:"p"}],this.defscope=null,this.skipScope=null;break;case n.Syntax.FunctionDeclaration:if(this.checkId(e.id,!0),this._enterScope(e),this.skipScope)return n.VisitorOption.Skip;if(e.params)for(t=e.params.length,r=0;t>r;r++)if(this.checkId(e.params[r],!0))return n.VisitorOption.Skip;break;case n.Syntax.FunctionExpression:case n.Syntax.ArrowFunctionExpression:if(this._enterScope(e))return n.VisitorOption.Skip;if(this.checkId(e.id,!0),e.params)for(t=e.params.length,r=0;t>r;r++)if(this.checkId(e.params[r],!0))return n.VisitorOption.Skip;break;case n.Syntax.AssignmentExpression:this.checkId(e.left),this.checkId(e.right);break;case n.Syntax.ExpressionStatement:this.checkId(e.expression);break;case n.Syntax.ArrayExpression:if(e.elements)for(t=e.elements.length,r=0;t>r;r++)this.checkId(e.elements[r]);break;case n.Syntax.MemberExpression:this.checkId(e.object),e.computed?this.checkId(e.property):this.checkId(e.property,!1,!0);break;case n.Syntax.BinaryExpression:this.checkId(e.left),this.checkId(e.right);break;case n.Syntax.UnaryExpression:this.checkId(e.argument);break;case n.Syntax.SwitchStatement:this.checkId(e.discriminant);break;case n.Syntax.UpdateExpression:this.checkId(e.argument);break;case n.Syntax.ConditionalExpression:this.checkId(e.test),this.checkId(e.consequent),this.checkId(e.alternate);break;case n.Syntax.CallExpression:if(this.checkId(e.callee,!1),e.arguments)for(t=e.arguments.length,r=0;t>r;r++)this.checkId(e.arguments[r]);break;case n.Syntax.ReturnStatement:this.checkId(e.argument);break;case n.Syntax.ObjectExpression:if(this._enterScope(e))return n.VisitorOption.Skip;if(e.properties)for(t=e.properties.length,r=0;t>r;r++){var i=e.properties[r];i.value&&i.value.type===n.Syntax.FunctionExpression&&(this.thisCheck?i.value.isprop=!0:this.checkId(i.value.id,!1,!0)),this.checkId(i.key,!0,!0),this.checkId(i.value)}break;case n.Syntax.VariableDeclarator:this.checkId(e.id,!0),this.checkId(e.init);break;case n.Syntax.NewExpression:if(this.checkId(e.callee,!1),e.arguments)for(t=e.arguments.length,r=0;t>r;r++)this.checkId(e.arguments[r]);break;case n.Syntax.LogicalExpression:this.checkId(e.left),this.checkId(e.right);break;case n.Syntax.ThisExpression:if(this.thisCheck){var o=this.scopes[this.scopes.length-1];o.occurrences.push({start:e.range[0],end:e.range[1]}),e.range[0]===this.context.token.range[0]&&(this.defscope=o)}break;case n.Syntax.IfStatement:case n.Syntax.DoWhileStatement:case n.Syntax.WhileStatement:this.checkId(e.test);break;case n.Syntax.ForStatement:this.checkId(e.init);break;case n.Syntax.ForInStatement:this.checkId(e.left),this.checkId(e.right);break;case n.Syntax.WithStatement:this.checkId(e.object);break;case n.Syntax.ThrowStatement:this.checkId(e.argument);break;case n.Syntax.LabeledStatement:this._enterScope(e),this.checkId(e.label,!0,!1,!0);break;case n.Syntax.ContinueStatement:this.checkId(e.label,!1,!1,!0);break;case n.Syntax.BreakStatement:this.checkId(e.label,!1,!1,!0)}},_enterScope:function(e){if(this.thisCheck)switch(e.type){case n.Syntax.ObjectExpression:if(this.scopes.push({range:e.range,occurrences:[],kind:"o"}),this.defscope)return!0;break;case n.Syntax.FunctionExpression:if(!e.isprop&&(this.scopes.push({range:e.body.range,occurrences:[],kind:"fe"}),this.defscope))return!0}else if(this.objectPropCheck)switch(e.type){case n.Syntax.ObjectExpression:this.scopes.push({range:e.range,occurrences:[],kind:"o"})}else if(this.labeledStatementCheck)switch(e.type){case n.Syntax.LabeledStatement:if(this.scopes.push({range:e.range,occurrences:[],kind:"ls"}),e.range[0]>this.context.start||e.range[1]<this.context.end)return!0}else{var t,r=e.range[0];switch(e.body&&(r=e.body.range[0]),e.type){case n.Syntax.FunctionDeclaration:t="fd",e.params&&e.params.length>0&&(r=e.params[0].range[0]);break;case n.Syntax.FunctionExpression:case n.Syntax.ArrowFunctionExpression:t="fe",e.id?r=e.id.range[0]:e.params&&e.params.length>0&&(r=e.params[0].range[0])}t&&this.scopes.push({range:[r,e.range[1]],occurrences:[],kind:t})}return!1},leave:function(e){if(this.thisCheck)switch(e.type){case n.Syntax.FunctionExpression:if(e.isprop){delete e.isprop;break}case n.Syntax.ObjectExpression:case n.Syntax.Program:if(this._popScope())return n.VisitorOption.Break}else if(this.objectPropCheck)switch(e.type){case n.Syntax.ObjectExpression:case n.Syntax.Program:if(this._popScope())return n.VisitorOption.Break}else if(this.labeledStatementCheck)switch(e.type){case n.Syntax.LabeledStatement:if(this._popScope())return n.VisitorOption.Break}else switch(e.type){case n.Syntax.FunctionExpression:case n.Syntax.FunctionDeclaration:case n.Syntax.ArrowFunctionExpression:if(this._popScope())return n.VisitorOption.Break;break;case n.Syntax.Program:this._popScope()}},_popScope:function(){var e=this.scopes.pop();if(this.skipScope)return this.skipScope===e&&(this.skipScope=null),!1;var t,n,r=e.occurrences.length;if(this.defscope&&this.defscope===e){for(t=0;r>t;t++)this.occurrences.push(e.occurrences[t]);if(this.defscope.range[0]===e.range[0]&&this.defscope.range[1]===e.range[1]&&this.defscope.kind===e.kind)return!0}else if(this.scopes.length>0)for(n=0;r>n;n++)this.scopes[this.scopes.length-1].occurrences.push(e.occurrences[n]);else for(this.occurrences=[],n=0;r>n;n++)this.occurrences.push(e.occurrences[n]);return!1},_markDefineStatementOccurrences:function(e,t){var r=e.parent?e.parent:e.parents&&e.parents.length>0?e.parents[e.parents.length-1]:null;if(r&&r.type===n.Syntax.FunctionExpression){var i=r.parent?r.parent:e.parents&&e.parents.length>1?e.parents[e.parents.length-2]:null;if(i&&i.type===n.Syntax.CallExpression&&i.callee&&"define"===i.callee.name)for(var o=r,a=0;a<o.params.length;a++)if(o.params[a]===e){if(2===i.arguments.length||3===i.arguments.length){var s=i.arguments[i.arguments.length-2];s.elements&&s.elements.length>a&&t.push({start:s.elements[a].range[0],end:s.elements[a].range[1]})}break}}},checkId:function(e,t,r,i){if(this.skipScope)return!0;if(this.thisCheck)return!1;if(r&&!this.objectPropCheck||!r&&this.objectPropCheck)return!1;if(i&&!this.labeledStatementCheck||!i&&this.labeledStatementCheck)return!1;if(e&&e.type===n.Syntax.Identifier&&e.name===this.context.word){var o=this.scopes[this.scopes.length-1];if(t){if(this.defscope)return o.range[0]<=this.context.start&&o.range[1]>=this.context.end?(this.occurrences=[],this.defscope=o,o.occurrences.push({start:e.range[0],end:e.range[1]}),!1):(o.occurrences=[],this.skipScope=o,!0);if(!(o.range[0]<=this.context.start&&o.range[1]>=this.context.end))return o.occurrences=[],this.skipScope=o,!0;this.defscope=o,this._markDefineStatementOccurrences(e,o.occurrences)}o.occurrences.push({start:e.range[0],end:e.range[1]})}return!1}}),r.prototype.constructor=r,e.mixin(c.prototype,{computeOccurrences:function(e,n){var r=this;return e.getFileMetadata().then(function(o){return"application/javascript"===o.contentType.id?r.astManager.getAST(e).then(function(e){return i(e,n)}):e.getText().then(function(e){var a=r.cuprovider.getCompilationUnit(function(){return t.findScriptBlocks(e)},o);return a.validOffset(n.selection.start)?r.astManager.getAST(a.getEditorContext()).then(function(e){return i(e,n)}):[]})})}}),c.prototype.contructor=c,{JavaScriptOccurrences:c}}),n("javascript/outliner",["orion/objects","javascript/signatures","estraverse/estraverse"],function(e,t,n){function r(){}function i(e){this.astManager=e}return e.mixin(r.prototype,{outline:[],scope:[],enter:function(e){var r,i=this;e.type===n.Syntax.FunctionDeclaration?(r=this.addElement(t.computeSignature(e)),r&&this.scope.push(r)):e.type===n.Syntax.FunctionExpression?(r=this.addElement(t.computeSignature(e)),r&&this.scope.push(r),delete e.sig):e.type===n.Syntax.ObjectExpression?(r=this.addElement(t.computeSignature(e)),r&&this.scope.push(r),delete e.sig,e.properties&&e.properties.forEach(function(e){e.value&&(e.value.type===n.Syntax.FunctionExpression||e.value.type===n.Syntax.ObjectExpression?e.value.sig=t.computeSignature(e):i.addElement(t.computeSignature(e)))})):e.type===n.Syntax.VariableDeclaration?e.declarations&&e.declarations.forEach(function(e){e.init&&e.init.type===n.Syntax.ObjectExpression&&(e.init.sig=t.computeSignature(e))}):e.type===n.Syntax.AssignmentExpression?e.left&&e.right&&(e.right.type===n.Syntax.ObjectExpression||e.right.type===n.Syntax.FunctionExpression)&&(e.right.sig=t.computeSignature(e)):e.type===n.Syntax.ReturnStatement&&e.argument&&(e.argument.type===n.Syntax.ObjectExpression||e.argument.type===n.Syntax.FunctionExpression)&&(e.argument.sig=t.computeSignature(e))},leave:function(e){(e.type===n.Syntax.ObjectExpression||e.type===n.Syntax.FunctionDeclaration||e.type===n.Syntax.FunctionExpression)&&this.scope.pop()},addElement:function(e){if(e){var t={label:e.sig,labelPost:e.details,start:e.range[0],end:e.range[1]};if(this.scope.length<1)this.outline.push(t);else{var n=this.scope[this.scope.length-1];n.children||(n.children=[]),n.children.push(t)}return t}}}),r.prototype.constructor=r,e.mixin(i.prototype,{visitor:null,getVisitor:function(){return this.visitor||(this.visitor=new r,this.visitor.enter=this.visitor.enter.bind(this.visitor),this.visitor.leave=this.visitor.leave.bind(this.visitor)),this.visitor.outline=[],this.visitor},computeOutline:function(e){var t=this;return this.astManager.getAST(e).then(function(e){if(e){var r=t.getVisitor();return n.traverse(e,r),r.outline}return[]})}}),i.prototype.contructor=i,{JSOutliner:i}}),n("javascript/cuProvider",["javascript/lru","javascript/compilationUnit"],function(e,t){function n(e,n,r){if(l){var i=s.get(n.location);if(i)return i}var o=e();return o||(o=[]),i=new t(o,n,r),l&&s.put(n.location,i),i}function r(e){c?c=null:s.remove(o(e.file))}function i(e){l=e}function o(e){return e&&e.location?e.location:"unknown"}function a(e){c=e}var s=new e(10),l=!0,c=null;return{getCompilationUnit:n,onModelChanging:r,onInputChanged:a,setUseCache:i}}),n("javascript/ternProjectManager",["orion/objects","orion/Deferred","i18n!javascript/nls/messages"],function(e){function t(e,t,n){this.ternworker=e,this.scriptResolver=t,this.fileClient=n,this.currentProjectLocation=null,this.timeout=null}return e.mixin(t.prototype,{_getProjectTernConfiguration:function(e,t){for(var n=0;n<t.length;n++)if(".tern-project"===t[n].Name)return e.read(t[n].Location).then(function(e){try{return e?JSON.parse(e):{}}catch(t){return console.log("Error in the parsed JSON"),{}}});return console.log("No .tern-project file found at project root"),{}},_loadTernConfig:function(e,t,n){if(n&&(console.log("Parsed from .tern-project:"),console.log(n),(n.plugins||Array.isArray(n.libs)||n.dependencyBudget||n.ecmaVersion)&&e.startServer(n),Array.isArray(n.loadEagerly)))for(var r=0;r<n.loadEagerly.length;r++){var i=n.loadEagerly[r],o="js";i.match(/\.html$/)?o="html":i.match(/\.htm$/)&&(o="htm"),t.getWorkspaceFile(i,{ext:o}).then(function(t){Array.isArray(t)&&t.length>0?(t.length>1&&console.log("Found multiple potential files for: "+i),e.postMessage({request:"addFile",args:{file:t[0].location}})):console.log("Could not find any matching files for: "+i)})}},onInputChanged:function(e){var t=this,n=e.file;if(n&&n.parents&&n.parents.length>0){var r=n.parents[n.parents.length-1];!r||t.currentProjectLocation&&r.Location===t.currentProjectLocation||(t.currentProjectLocation=r.Location,t.scriptResolver.setSearchLocation(r.Location),r.Children?t._getProjectTernConfiguration(t.fileClient,r.Children).then(function(e){e&&t._loadTernConfig(t.ternworker,t.scriptResolver,e)}):r.ChildrenLocation&&t.fileClient.fetchChildren(r.ChildrenLocation).then(function(e){t._getProjectTernConfiguration(t.fileClient,e).then(function(e){e&&t._loadTernConfig(t.ternworker,t.scriptResolver,e)})}))}".tern-project"===n.name&&(t.currentProjectLocation=null)}}),{TernProjectManager:t}}),n("javascript/commands/generateDocCommand",["orion/objects","javascript/finder","javascript/signatures","orion/Deferred"],function(e,t,n,r){function i(e,t){this.astManager=e,this.cuprovider=t}return e.mixin(i.prototype,{execute:function(e){var n=this;return e.getFileMetadata().then(function(i){return"application/javascript"===i.contentType.id?r.all([n.astManager.getAST(e),e.getCaretOffset()]).then(function(t){n._doCommand(e,t[0],t[1])}):r.all([e.getText(),e.getCaretOffset()]).then(function(r){var o=r[1],a=n.cuprovider.getCompilationUnit(function(){return t.findScriptBlocks(r[0])},i);return a.validOffset(o)?n.astManager.getAST(a.getEditorContext()).then(function(t){n._doCommand(e,t,o)}):void 0})})},_doCommand:function(e,i,o){var a=t.findNode(o,i,{parents:!0});if(a){var s=i.source,l=this._resolveParent(a);if(l){var c,u=l.range[0];if("FunctionDeclaration"===l.type)c=this._genTemplate(l.id.name,l.params,!1,l.range[0],s);else if("Property"===l.type)c=this._genTemplate(l.key.name?l.key.name:l.key.value,l.value.params,!0,l.range[0],s);else if("VariableDeclarator"===l.type){if(u=l.range[0],l.decl){if(l.decl.leadingComments)return;l.decl.declarations&&1===l.decl.declarations.length&&(u=l.decl.range[0])}c=this._genTemplate(l.id.name,l.init.params,!0,u,s)}else"AssignmentExpression"===l.type&&(c=this._genTemplate(n.expandMemberExpression(l.left,""),l.right.params,!0,l.range[0],s))}if(c)return r.all([e.setText(c,u,u),e.setCaretOffset(o+c.length)])}},_genTemplate:function(e,t,n,r,i){for(var o=i[--r],a="";" "===o||"	"===o;)a+=o,o=i[--r];var s=[];if(s.push("/**\n"+a+" * @name "+e+"\n"),s.push(a+" * @description description\n"),n&&s.push(a+" * @function\n"),"_"===e.charAt(0)&&s.push(a+" * @private\n"),t)for(var l=t.length,c=0;l>c;c++)s.push(a+" * @param "+t[c].name+"\n");return s.push(a+" * @returns returns\n"+a+" */\n"+a),s.join("")},_resolveParent:function(e){if(!e.parents||e.parents.length<1)return null;switch(e.type){case"FunctionDeclaration":return e;case"Property":return e.value&&"FunctionExpression"===e.value.type?e:null;case"VariableDeclarator":return e.init&&"FunctionExpression"===e.init.type?(e.decl=e.parents[e.parents.length-1],e):null;case"VariableDeclaration":if(e.declarations&&1===e.declarations.length){var t=e.declarations[0];if(t.init&&"FunctionExpression"===t.init.type)return e.parents.push(e),t.parents=e.parents,this._resolveParent(t)}case"AssignmentExpression":if(e.left&&"MemberExpression"===e.left.type&&e.right&&"FunctionExpression"===e.right.type)return e}var n=e.parents.length-1,r=e.parents[n];return r.parents=e.parents.slice(0,n),this._resolveParent(r)}}),{GenerateDocCommand:i}}),n("javascript/commands/openDeclaration",["orion/objects","javascript/finder","orion/Deferred","i18n!javascript/nls/messages"],function(e,t,n,r){function i(e,t,n,r){this.astManager=e,this.ternworker=t,this.cuprovider=n,this.openMode=r,this.timeout=null}var o,a;return e.mixin(i.prototype,{execute:function(e,t){var n=this;return e.getText().then(function(r){return n._findDecl(e,t,r)})},_findDecl:function(e,t,i){o=e,a=new n,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){o.setStatus({Severity:"Error",Message:r.noDeclTimedOut}),a&&a.resolve(r.noDeclFound),this.timeout=null},5e3);var s=[{type:"full",name:t.input,text:i}];return this.ternworker.postMessage({request:"definition",args:{params:{offset:t.offset},files:s,meta:{location:t.input}}},function(e){if("definition"===e.request)if(e.declaration&&"number"==typeof e.declaration.start&&"number"==typeof e.declaration.end){var t=Object.create(null);t.start=e.declaration.start,t.end=e.declaration.end,null!=this.openMode&&"undefined"!=typeof this.openMode&&(t.mode=this.openMode),a.resolve(o.openEditor(e.declaration.file,t))}else a.resolve(o.setStatus(r.noDeclFound))}.bind(this)),a}}),{OpenDeclarationCommand:i}}),n("javascript/commands/openImplementation",["orion/objects","orion/Deferred","i18n!javascript/nls/messages"],function(e,t){function n(e,t,n){this.astManager=e,this.ternworker=t,this.cuprovider=n,this.timeout=null}var r,i;return e.mixin(n.prototype,{execute:function(e,t){var n=this;return e.getText().then(function(r){return n._findImpl(e,t,r)})},_findImpl:function(e,n,o){r=e,i=new t,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){r.setStatus({Severity:"Error",Message:"Could not compute implementation, the operation timed out"}),i&&i.resolve("No implementation was found"),this.timeout=null},5e3);var a=[{type:"full",name:n.input,text:o}];return this.ternworker.postMessage({request:"implementation",args:{params:{offset:n.offset},files:a,meta:{location:n.input}}},function(e){if(e.implementation&&"number"==typeof e.implementation.start&&"number"==typeof e.implementation.end){var t=Object.create(null);t.start=e.implementation.start,t.end=e.implementation.end,i.resolve(r.openEditor(e.implementation.file,t))}else i.resolve(r.setStatus("No implementation was found"))}),i}}),{OpenImplementationCommand:n}}),n("javascript/commands/renameCommand",["orion/objects","javascript/finder","orion/Deferred","i18n!javascript/nls/messages"],function(e,t,n,r){function i(e,t,n,r){this.astManager=e,this.ternworker=t,this.scriptResolver=n,this.cuprovider=r,this.timeout=null}var o,a;return e.mixin(i.prototype,{execute:function(e,n){var r=this;return e.getFileMetadata().then(function(i){return r.scriptResolver.setSearchLocation(Array.isArray(i.parents)&&i.parents.length>1?i.parents[i.parents.length-1].Location:null),"application/javascript"===n.contentType.id?r._doRename(e,n):e.getText().then(function(i){var o=n.offset,a=r.cuprovider.getCompilationUnit(function(){return t.findScriptBlocks(i)},{location:n.input,contentType:n.contentType});return a.validOffset(o)?r._doRename(e,n):[]})})},_doRename:function(e,t){var i=this;return e.getText().then(function(s){a=e,o=new n,i.timeout&&clearTimeout(i.timeout),i.timeout=setTimeout(function(){a.setStatus({Severity:"Error",Message:r.renameFailedTimedOut}),o&&o.resolve(),i.timeout=null},5e3);var l=[{type:"full",name:t.input,text:s}];return i.ternworker.postMessage({request:"rename",args:{params:{offset:t.offset},files:l,meta:{location:t.input},newname:""}},function(e){var t=e.changes;if(t&&t.changes&&t.changes.length>0){for(var n=t.changes,r=[n.length],i=0;i<n.length;i++)r[i]={offset:n[i].start,length:n[i].end-n[i].start};
var s=[{data:{},positions:r}],l={groups:s};o.resolve(a.exitLinkedMode()),o.resolve(a.enterLinkedMode(l))}else"string"==typeof e.error&&a.setStatus({Severity:"Warning",Message:e.error});o.resolve(),o=null}),o})}}),{RenameCommand:i}}),n("javascript/commands/refsCommand",["orion/objects","javascript/finder","orion/Deferred","i18n!javascript/nls/messages","orion/i18nUtil"],function(e,t,n,r,i){function o(e,t,n,r,i){this.ternworker=e,this.scriptresolver=n,this.astmanager=t,this.cuprovider=r,this.searchclient=i}var a={functionDecls:{name:r.functionDecls,category:"funcdecls",sort:1},functionCalls:{name:r.functionCalls,category:"funccalls",sort:2},propAccess:{name:r.propAccess,category:"propaccess",sort:3},propWrite:{name:r.propWrite,category:"propwrite",sort:4},varDecls:{name:r.varDecls,category:"vardecls",sort:5},varAccess:{name:r.varAccess,category:"varaccess",sort:6},varWrite:{name:r.varWrite,category:"varwrite",sort:7},regex:{name:r.regex,category:"regex",sort:8},strings:{name:r.strings,category:"strings",sort:9},blockComments:{name:r.blockComments,category:"blockcomments",sort:10},lineComments:{name:r.lineComments,category:"linecomments",sort:11},partial:{name:r.partial,category:"partial",sort:12},uncategorized:{name:r.uncategorized,category:"uncategorized",sort:13},syntax:{name:r.parseErrors,category:"parseerrors",sort:14}};return e.mixin(o.prototype,{execute:function(e,i){var o=this,a=new n;return e.getFileMetadata().then(function(n){var s=null;return"project"===i.kind&&Array.isArray(n.parents)&&n.parents.length>0?(s=n.parents[n.parents.length-1].Location,a.progress({message:"Finding all project references.."})):a.progress({message:"Finding all workspace references.."}),o.scriptresolver.setSearchLocation(s),"application/javascript"!==i.contentType.id?e.getText().then(function(r){var s=i.offset,l=o.cuprovider.getCompilationUnit(function(){return t.findScriptBlocks(r)},{location:i.input,contentType:i.contentType});l.validOffset(s)?o._findRefs(e,i,n,a):a.resolve("Not a valid offset in HTML")},function(){a.resolve(r.noFileContents)}):void o._findRefs(e,i,n,a)},function(){a.resolve(r.noFileMeta)}),a},_findRefs:function(e,n,o,s){var l=this;return l.astmanager.getAST(e).then(function(c){var u=t.findNode(n.offset,c);u&&"Identifier"===u.type?l.ternworker.postMessage({request:"type",args:{meta:o,params:n}},function(n,o){if(o)e.setStatus({Severity:"Error",Message:o}),s.resolve([]);else{var c=Object.create(null);c.total=0,c.done=0,c.result=[];var p={keyword:u.name,resource:l.scriptresolver.getSearchLocation(),fileNamePatterns:["*.js","*.html","*.htm"],caseSensitive:!0,incremental:!1,shape:"group"};c.params=p,c.deferred=s,l.searchclient.search(p,!0,!0).then(function(e){c.result=e;for(var r=0,i=e.length;i>r;r++)for(var o=e[r],s=0,p=o.children.length;p>s;s++){var f=o.children[s];c.total+=f.matches.length;for(var d=0,h=f.matches.length;h>d;d++){var m=f.matches[d],g=t.findWord(f.name,m.startIndex);g===u.name?l._checkType(n,o.metadata,m,c):(m.category=a.partial.category,m.confidence=0,c.done++)}}l._checkDone(c)},function(t){e.setStatus({Severity:"Error",Message:i.formatMessage(r.cannotComputeRefs,t.message)}),s.resolve([])},function(){})}}):(e.setStatus({Severity:"Error",Message:r.notAnIdentifier}),s.resolve([]))})},_checkType:function(e,t,n,r){var i=this;i.ternworker.postMessage({request:"checkRef",args:{meta:{location:t.Location},params:{offset:n.end},origin:e}},function(o,s){if(o&&o.type){var l=o.type,c=e.type;n.confidence=l.name===c.name&&l.type===c.type&&i._sameOrigin(l.origin,c.origin)?100:l.staticCheck?l.staticCheck.confidence:"blockcomments"===l.category?5:0,n.category=l.category}else s&&(n.category=a.uncategorized.category,n.confidence=0);r.done++,r.deferred.progress({message:"References found in file: '"+t.Name+"'  ("+r.done+"/"+r.total+")"}),i._checkDone(r)})},_sameOrigin:function(e,t){if(e===t)return!0;var n=decodeURIComponent(e),r=decodeURIComponent(t);return n===r?!0:decodeURIComponent(n)===decodeURIComponent(r)},_checkDone:function(e){e.done>=e.total&&e.deferred.resolve({searchParams:e.params,refResult:e.result,categories:a})}}),o}),n("orion/crawler/nls/messages",{root:!0}),n("orion/crawler/nls/root/messages",{filesFound:"${0} files found out of ${1}",searchCancelled:"Search cancelled by user",Cancel:"Cancel"}),n("orion/nls/messages",{root:!0}),n("orion/nls/root/messages",{Navigator:"Navigator",Sites:"Sites",Shell:"Shell",ShellLinkWorkspace:"Shell","Get Plugins":"Get Plug-ins",Global:"Global",Editor:"Editor",EditorRelatedLink:"Show Current Folder",EditorRelatedLinkParent:"Show Enclosing Folder",EditorLinkWorkspace:"Edit",EditorRelatedLinkProj:"Show Project",navigationBar:"Navigation Bar","Filter bindings":"Filter bindings",BindingPrompt:"Enter the new binding",NoBinding:"---",orionClientLabel:"Orion client repository","Orion Editor":"Orion Editor","Orion Image Viewer":"Orion Image Viewer","Orion Markdown Editor":"Orion Markdown Editor","Orion Markdown Viewer":"Orion Markdown Viewer","Orion JSON Editor":"Orion JSON Editor","View on Site":"View on Site","View this file or folder on a web site hosted by Orion":"View this file or folder on a web site hosted by Orion.",ShowAllKeyBindings:"Show a list of all the keybindings on this page","Show Keys":"Show Keys",HideShowBannerFooter:"Hide or show the page banner","Toggle banner and footer":"Toggle banner",ChooseFileOpenEditor:"Choose a file by name and open an editor on it",FindFile:"Open File...","System Configuration Details":"System Configuration Details","System Config Tooltip":"Go to the System Configuration Details page","Background Operations":"Background Operations","Background Operations Tooltip":"Go to the Background Operations page","Operation status is unknown":"Operation status is unknown","Unknown item":"Unknown item",NoSearchAvailableErr:"Can't search: no search service is available",Related:"Related",Options:"Options","LOG: ":"LOG: ",View:"View",SplashTitle:"Setting up Workspace",SplashTitleSettings:"Loading Settings",SplashTitleGit:"Loading Git Repositories",LoadingPage:"Loading Page",LoadingPlugins:"Loading Plugins",LoadingResources:"Loading Resources",plugin_started:'"${0}" started',"plugin_lazy activation":'"${0}" lazily activated',plugin_starting:'"${0}" starting',"no parent":"no parent","no tree model":"no tree model","no renderer":"no renderer","could not find table row ":"could not find table row ",Operations:"Operations","Operations running":"Operations running",SomeOpWarning:"Some operations finished with warning",SomeOpErr:"Some operations finished with error","no service registry":"no service registry",Tasks:"Tasks",Close:"Close","Expand all":"Expand all","Collapse all":"Collapse all",Search:"Search","Advanced search":"Advanced search",Submit:"Submit",More:"More","Recent searches":"Recent searches","Regular expression":"Regular expression","Search options":"Search options","Global search":"Global search","Orion Home":"Orion Home","Close notification":"Close notification",OpPressSpaceMsg:"Operations - Press spacebar to show current operations","Toggle side panel":"Toggle side panel","Open or close the side panel":"Open or close the side panel",Projects:"Projects","Toggle Sidebar":"Toggle Sidebar","Sample HTML5 Site":"Sample HTML5 Site","Generate an HTML5 'Hello World' website, including JavaScript, HTML, and CSS files.":"Generate an HTML5 'Hello World' website, including JavaScript, HTML, and CSS files.","Sample Orion Plugin":"Sample Orion Plug-in","Generate a sample plugin for integrating with Orion.":"Generate a sample plug-in for integrating with Orion.",Browser:"Web Browser",OutlineProgress:"Getting outline for ${0} from ${1}",outlineTimeout:"Outline service timed out. Try reloading the page and opening the outline again.",UnknownError:"An unknown error occurred.",Filter:"Filter (* = any string, ? = any character)",TemplateExplorerLabel:"Templates",OpenTemplateExplorer:"Open Template Explorer",Edit:"Edit",CentralNavTooltip:"Toggle Navigation Menu","Wrote: ${0}":"Wrote: ${0}",GenerateHTML:"Generate HTML file",GenerateHTMLTooltip:"Write an HTML file generated from the current Markdown editor content","alt text":"alt text",blockquote:"blockquote",code:"code","code (block)":"code (block)","code (span)":"code (span)",emphasis:"emphasis","fenced code (${0})":"fenced code (${0})","header (${0})":"header (${0})","horizontal rule":"horizontal rule",label:"label","link (auto)":"link (auto)","link (image)":"link (image)","link (inline)":"link (inline)","link label":"link label","link label (optional)":"link label (optional)","link (ref)":"link (ref)","list item (bullet)":"list item (bullet)","list item (numbered)":"list item (numbered)","strikethrough (${0})":"strikethrough (${0})",strong:"strong","table (${0})":"table (${0})",text:"text","title (optional)":"title (optional)",url:"url",TogglePaneOrientationTooltip:"Toggle split pane orientation",WarningDuplicateLinkId:"Duplicate link ID: ${0} (link IDs are not case-sensitive)",WarningHeaderTooDeep:"Header level cannot exceed 6",WarningLinkHasNoText:"Link has no text",WarningLinkHasNoURL:"Link has no URL",WarningOrderedListItem:"Ordered list item within unordered list",WarningOrderedListShouldStartAt1:"The first item in an ordered list should have index 1",WarningUndefinedLinkId:"Undefined link ID: ${0}",WarningUnorderedListItem:"Unordered list item within ordered list",PageTitleFormat:"${0} - ${1}",KeyCTRL:"Ctrl",KeySHIFT:"Shift",KeyALT:"Alt",KeyBKSPC:"Backspace",KeyDEL:"Del",KeyEND:"End",KeyENTER:"Enter",KeyESCAPE:"Esc",KeyHOME:"Home",KeyINSERT:"Ins",KeyPAGEDOWN:"Page Down",KeyPAGEUP:"Page Up",KeySPACE:"Space",KeyTAB:"Tab","a year":"a year",years:"${0} years","a month":"a month",months:"${0} months","a day":"a day",days:"${0} days","an hour":"an hour",hours:"${0} hours","a minute":"a minute",minutes:"${0} minutes",timeAgo:"${0} ago",justNow:"just now"}),n("orion/searchUtils",["i18n!orion/nls/messages","orion/regex","orion/editor/textModel","orion/URITemplate"],function(e,t,n,r){function i(e,n,r){var i="";r&&(i="^");var o=t.parse("/"+i+e.searchStr+"/");if(o){var a=o.pattern,s=o.flags;-1!==s.indexOf("i")||n.caseSensitive||(s+="i"),e.regExp={pattern:a,flags:s},e.wildCard=!0}}var o={};return o.ALL_FILE_TYPE="*.*",o.getSearchParams=function(t,n,r){if(t){var i=n,a=!0;if("*"===i&&(i=""),""===i&&(a=r&&r.type!==o.ALL_FILE_TYPE),a){var s=t.createSearchParams(i,!1,!1,r);return s}}else window.alert(e.NoSearchAvailableErr);return null},o.generateSearchHelper=function(e,t){var n=e.keyword,r=n,a={};if(e.fileType&&e.fileType!==o.ALL_FILE_TYPE&&""===n&&(r="*."+e.fileType),e.regEx)a.searchStr=n,i(a,e,t);else{var s=n.indexOf("*")>-1,l=n.indexOf("?")>-1;s&&(n=n.split("*").join(".*")),l&&(n=n.split("?").join(".")),s||l||e.nameSearch?(a.searchStr=e.caseSensitive?n:n.toLowerCase(),i(a,e,t),a.wildCard=!0):(a.searchStr=e.caseSensitive?n.split("\\").join(""):n.split("\\").join("").toLowerCase(),a.wildCard=!1)}return a.searchStrLength=a.searchStr.length,{params:e,inFileQuery:a,displayedSearchTerm:r}},o.convertSearchParams=function(e){void 0!==e.rows&&(e.rows=parseInt(e.rows,10)),void 0!==e.start&&(e.start=parseInt(e.start,10)),"string"==typeof e.regEx&&(e.regEx="true"===e.regEx.toLowerCase()),"string"==typeof e.caseSensitive&&(e.caseSensitive="true"===e.caseSensitive.toLowerCase()),"string"==typeof e.nameSearch&&(e.nameSearch="true"===e.nameSearch.toLowerCase()),void 0!==e.fileNamePatterns&&(e.fileNamePatterns=o.getFileNamePatternsArray(e.fileNamePatterns))},o.getFileNamePatternsArray=function(e){var t=void 0;if(e){var n=e.trim();n=n.replace(/^(\s*,\s*)+/g,""),n=n.replace(/([^\\]),(\s*,\s*)*/g,"$1/"),n=n.replace(/(\s*\/\s*)/g,"/"),n=n.replace(/\/\/+/g,"/"),n=n.replace(/\/+$/g,""),t=n.split("/")}return t},o.copySearchParams=function(e,t){var n={};for(var r in e)if(void 0!==e[r]&&null!==e[r]){if(!t&&"replace"===r)continue;n[r]=e[r]}return n},o.generateFindURLBinding=function(e,t,n,i,o){var a={find:t.searchStr,regEx:t.wildCard?!0:void 0,caseSensitive:e.caseSensitive?!0:void 0,replaceWith:"string"==typeof i?i:void 0,atLine:"number"==typeof n?n:void 0};if(o)return a;var s=new r("{,params*}").expand({params:a});return","+s},o.convertFindURLBinding=function(e){"string"==typeof e.regEx&&(e.regEx="true"===e.regEx.toLowerCase()),"string"==typeof e.caseSensitive&&(e.caseSensitive="true"===e.caseSensitive.toLowerCase()),"string"==typeof e.atLine&&(e.atLine=parseInt(e.atLine,10))},o.replaceRegEx=function(e,t,n){var r=new RegExp(t.pattern,t.flags);return e.replace(r,n)},o.replaceStringLiteral=function(e,n,r){var i=t.parse("/"+n+"/gim");return o.replaceRegEx(e,i,r)},o.searchOnelineLiteral=function(e,t,n,r,i){for(var o,a=0,s=!1,l=[];;){if(o=t.indexOf(e.searchStr,a),0>o)break;if(r){var c=r.getLineStart(i)+o;l.push({startIndex:o,length:e.searchStrLength,start:c,end:c+e.searchStrLength})}else l.push({startIndex:o,length:e.searchStrLength});if(s=!0,n)break;a=o+e.searchStrLength}return s?l:null},o.findRegExp=function(e,t,n,r){if(!t)return null;n=n||"",n+=(-1===n.indexOf("g")?"g":"")+(-1===n.indexOf("m")?"m":"");var i=new RegExp(t,n),o=null;return o=i.exec(e.substring(r)),o&&{startIndex:o.index+r,length:o[0].length}},o.searchOnelineRegEx=function(e,t,n,r,i){for(var a=0,s=!1,l=[];;){var c=o.findRegExp(t,e.regExp.pattern,e.regExp.flags,a);if(!c)break;if(r){var u=r.getLineStart(i)+c.startIndex;c.start=u,c.end=u+c.length}if(l.push(c),s=!0,n)break;a=c.startIndex+c.length}return s?l:null},o.generateNewContents=function(e,t,n,r,i,a){if(r&&t){e||(n.contents=[]);for(var s=0;s<t.length;s++){for(var l,c,u=t[s],p=!1,f=!1,d=[],h=0,m=0;m<r.children.length;m++){var g=r.children[m].lineNumber-1;if(g===s){for(h=m,c=0;c<r.children[m].matches.length;c++)r.children[m+c].checked!==!1&&d.push(c);f=d.length>0,l=r.children[m].matches,p=!0;break}}if(p){var v;if(f){var y=o.replaceCheckedMatches(u,i,l,d,a);for(v=y.replacedStr,c=0;c<r.children[h].matches.length;c++)r.children[h+c].newMatches=y.newMatches}else for(v=u,c=0;c<r.children[h].matches.length;c++)r.children[h+c].newMatches=r.children[h+c].matches;e?n.contents[s]=v:n.contents.push(v)}else e||n.contents.push(u)}}},o.generateMatchContext=function(e,t,n){var r,i,o=[],a=2*e+1;t.length<=a?(r=0,i=t.length-1):(r=n-e,0>r?(r=0,i=r+a-1):(i=n+e,i>t.length-1&&(i=t.length-1,r=i-a+1)));for(var s=r;i>=s;s++)o.push({context:t[s],current:s===n});return o},o.splitFile=function(e){for(var t=0,n=0,r=0,i=0,o=[];;){if(-1!==t&&r>=t&&(t=e.indexOf("\r",r)),-1!==n&&r>=n&&(n=e.indexOf("\n",r)),-1===n&&-1===t){o.push(e.substring(i));break}var a=1;-1!==t&&-1!==n?t+1===n?(a=2,r=n+1):r=(n>t?t:n)+1:r=-1!==t?t+1:n+1,o.push(e.substring(i,r-a)),i=r}return o},o.searchWithinFile=function(e,t,r,i,a,s){var l;s&&(l=new n.TextModel(r));var c=o.splitFile(r);if((i||s)&&(t.contents=c),t){t.children=[];for(var u=0,p=0;p<c.length;p++){var f=c[p];if(f&&f.length>0){var d,h=a?f:f.toLowerCase();if(d=e.wildCard?o.searchOnelineRegEx(e,h,!1,l,p):o.searchOnelineLiteral(e,h,!1,l,p)){var m,g=p+1;if(i)for(var v=0;v<d.length;v++){var y=v+1;m={parent:t,checked:t.checked,type:"detail",matches:d,lineNumber:g,matchNumber:y,name:f,location:t.location},t.children.push(m)}else m=s?{lineNumber:g,matches:d,name:f}:{parent:t,context:o.generateMatchContext(2,c,p),checked:t.checked,type:"detail",matches:d,lineNumber:g,name:f,location:t.location},t.children.push(m);u+=d.length}}}t.totalMatches=u}},o.replaceCheckedMatches=function(e,t,n,r,i){for(var o=i,a=0,s="",l=[],c=0;c<n.length;c++){a!==n[c].startIndex&&(s+=e.substring(a,n[c].startIndex)),n[c].length&&(o=n[c].length);for(var u=!1,p=0;p<r.length;p++)if(r[p]===c){u=!0;break}u?(l.push({startIndex:s.length,length:t.length}),s+=t):(l.push({startIndex:s.length,length:o}),s+=e.substring(n[c].startIndex,n[c].startIndex+o)),a=n[c].startIndex+o}return a<e.length&&(s+=e.substring(a)),{replacedStr:s,newMatches:l}},o.fullPathNameByMeta=function(e){var t=e.length,n="";if(t>0)for(var r=t-1;r>-1;r--){var i=""===n?"":"/";n=n+i+e[r].Name}return n},o}),n("orion/serviceTracker",[],function(){function e(e,r){function i(e){var t=e.getProperty("service.id"),n=this.addingService(e);n&&(c[t]=e,u[t]=n)}function o(e){var t=e.getProperty("service.id"),n=u[t];delete c[t],delete u[t],this.removedService(e,n)}function a(e){return-1!==e.getProperty("objectClass").indexOf(r)}this.serviceRegistry=e;var s,l,c={},u={},p=t;this.close=function(){if(p!==n)throw new Error("Already closed");p=t,e.removeEventListener("registered",s),e.removeEventListener("unregistering",l),s=null,l=null;var r=this;this.getServiceReferences().forEach(function(e){o.call(r,e)}),"function"==typeof this.onClose&&this.onClose()},this.getServiceReferences=function(){var e=Object.keys(c);return e.length?e.map(function(e){return c[e]}):null},this.open=function(c){if("undefined"==typeof c&&(c=!0),p!==t)throw new Error("Already open");p=n;var u=this;s=function(e){return a(e.serviceReference)&&(i.call(u,e.serviceReference),"function"==typeof u.onServiceAdded)?u.onServiceAdded(e.serviceReference,u.serviceRegistry.getService(e.serviceReference)):void 0},l=function(e){a(e.serviceReference)&&o.call(u,e.serviceReference)},e.addEventListener("registered",s),e.addEventListener("unregistering",l),c&&e.getServiceReferences(r).forEach(function(t){return i.call(u,t),"function"==typeof u.onServiceAdded?u.onServiceAdded(t,e.getService(t)):void 0}),"function"==typeof this.onOpen&&this.onOpen()}}var t=0,n=1;return e.prototype={addingService:function(e){return this.serviceRegistry.getService(e)},onOpen:null,onClose:null,onServiceAdded:null,removedService:function(){}},e}),n("orion/contentTypes",["orion/serviceTracker"],function(e){function t(e,t){return-1!==e.indexOf(t)}function n(e){switch(e&&e.id){case"image/jpeg":case"image/png":case"image/gif":case"image/ico":case"image/tiff":case"image/svg":return!0}return!1}function r(e){return e?"application/octet-stream"===e.id||"application/octet-stream"===e["extends"]:!1}function i(e,n){if("string"!=typeof e)return null;var r,i=null,o=e.indexOf(".");o++;for(var a=e.substring(o).toLowerCase(),s=0;s<n.length;s++){if(r=n[s],r.filename.indexOf(e)>=0){i=r;break}t(r.extension,a)&&(i=r)}if(!i)for(o=a.indexOf(".");!i&&o>=0;){for(o++,a=a.substring(o),s=0;s<n.length;s++)if(r=n[s],t(r.extension,a)){i=r;break}o=a.indexOf(".")}return i}function o(e){return null===e||"undefined"==typeof e?[]:Array.isArray(e)?e:[e]}function a(e){return o(e).map(function(e){return String.prototype.toLowerCase.call(e)})}function s(e){return{id:e.id,name:e.name,image:e.image,imageClass:e.imageClass,"extends":e["extends"],extension:a(e.extension),filename:o(e.filename)}}function l(e,t){t.map(s).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t.id)||(e[t.id]=t)})}function c(e,t){t.map(s).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t.id)&&delete e[t.id]})}function u(e,t){for(var n=o(e.getProperty("contentTypes")),r=0;r<n.length;r++)t.push(n[r])}function p(e){var t=Object.create(null);return l(t,e),t}function f(e){for(var t=e.getServiceReferences(m).concat(e.getServiceReferences(g)),n=[],r=0;r<t.length;r++){var i=t[r];u(i,n)}return p(n)}function d(t){if(t&&t.registerService){this.serviceRegistry=t;var n=new e(this.serviceRegistry,"orion.core.contenttype"),r=this;n.onServiceAdded=function(e){var t=[];u(e,t),l(r.map,t)},n.removedService=function(e){var t=[];u(e,t),c(r.map,t)},n.open(!1),this.map=f(t),t.registerService(h,this)}else{if(!Array.isArray(t))throw new Error("Invalid parameter");this.serviceRegistry=null,this.map=p(t)}}var h="orion.core.contentTypeRegistry",m="orion.core.contenttype",g="orion.file.contenttype";return d.prototype={getContentTypes:function(){var e=this.getContentTypesMap(),t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(e[n]);return t},getContentTypesMap:function(){return this.map},getFileContentType:function(e){return i(e.Name,this.getContentTypes())},getFilenameContentType:function(e){return i(e,this.getContentTypes())},getContentType:function(e){return this.map[e]||null},isExtensionOf:function(e,t){if(e="string"==typeof e?this.getContentType(e):e,t="string"==typeof t?this.getContentType(t):t,!e||!t)return!1;if(e.id===t.id)return!0;for(var n=e,r={};n&&(n=this.getContentType(n["extends"]));){if(n.id===t.id)return!0;if(r[n.id])throw new Error("Cycle: "+n.id);r[n.id]=!0}return!1},isSomeExtensionOf:function(e,t){for(var n=0;n<t.length;n++)if(this.isExtensionOf(e,t[n]))return!0;return!1}},{ContentTypeRegistry:d,isImage:n,isBinary:r,getFilenameContentType:i}}),n("orion/webui/littlelib",["orion/util"],function(e){function t(e,t){return t||(t=document),t.querySelector(e)}function n(e,t){return t||(t=document),t.querySelectorAll(e)}function r(e,t){return Array.prototype.slice.call(n(e,t))}function i(e){var t=e;return"string"==typeof e&&(t=document.getElementById(e)),t}function o(e,t){if(!e||!t)return!1;if(e===t)return!0;var n=e.compareDocumentPosition(t);return Boolean(16&n)}function a(e){var t=e.getBoundingClientRect(),n=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),r=Math.max(document.documentElement.scrollTop,document.body.scrollTop);return{left:t.left+n,top:t.top+r,width:t.width,height:t.height}}function s(e){for(;e.hasChildNodes();){var t=e.firstChild;e.removeChild(t)}}function l(t){var n=t.tabIndex;if(0===n&&e.isIE){var r={a:!0,body:!0,button:!0,frame:!0,iframe:!0,img:!0,input:!0,isindex:!0,object:!0,select:!0,textarea:!0};r[t.nodeName.toLowerCase()]||t.attributes.tabIndex||(n=-1)}return n}function c(e){if(l(e)>=0)return e;if(e.hasChildNodes())for(var t=0;t<e.childNodes.length;t++){var n=c(e.childNodes[t]);if(n)return n}return null}function u(e){if(l(e)>=0)return e;if(e.hasChildNodes())for(var t=e.childNodes.length-1;t>=0;t--){var n=u(e.childNodes[t]);if(n)return n}return null}function p(e,t){if(3===e.nodeType){var n=E.exec(e.nodeValue);n&&n.length>1&&t(e,n)}if(e.hasChildNodes())for(var r=0;r<e.childNodes.length;r++)p(e.childNodes[r],t)}function f(e,t){if(!e||!t)return 0;var n=e.ownerDocument,r=n.defaultView||n.parentWindow;if(r.getComputedStyle){var i=r.getComputedStyle(e,null),o=i.getPropertyValue(t);if(o.length>2&&-1!==o.indexOf("px",o.length-2)){o=o.slice(0,-2);var a=parseInt(o,10);return a!==a?0:a}}return 0}function d(e,t){p(e,function(e,n){var r=t[n[1]]||n[1];e.parentNode.replaceChild(document.createTextNode(r),e)})}function h(e,t){p(e,function(e,n){var r=t[n[1]];if(r){var i=document.createRange(),o=n.index;i.setStart(e,o),i.setEnd(e,o+n[0].length),i.deleteContents(),i.insertNode(r)}})}function m(t,n){function r(e){w.forEach(function(t){var n=!1,r=t.excludeNodes.some(function(t){return document.body.contains(t)?(n=!0,t.contains(e.target)):!1});if(n&&!r)try{t.dismiss(e)}catch(i){"undefined"!=typeof console&&console&&console.error(i&&i.message)}}),w=w.filter(function(e){return e.excludeNodes.some(function(e){return document.body.contains(e)})})}null===w&&(w=[],document.addEventListener("click",r,!0),e.isIOS&&document.addEventListener("touchend",function(e){function t(){e.target.removeEventListener("click",t)}0===e.touches.length&&e.target.addEventListener("click",t)},!1)),w.push({excludeNodes:t,dismiss:n})}function g(e){w=w.filter(function(t){return e!==t.dismiss})}function v(e){for(var t=e.parentNode,n=document.documentElement;t&&t!==n;){var r=window.getComputedStyle(t,null);if(!r)break;var i=r.getPropertyValue("overflow-y");if("auto"===i||"scroll"===i)break;t=t.parentNode}return t}function y(e){window.document.all&&(e.keyCode=0),e.preventDefault&&(e.preventDefault(),e.stopPropagation())}function b(e){for(var t=document.getElementsByTagName("iframe"),n=0;n<t.length;n++)t[n].parentNode.style.pointerEvents=e?"":"none"}function x(e){return k[e]||null}function S(e,t){var n=t,r=null;return void 0===n&&(n=document.createElement("div")),n.innerHTML=e,r=n.children.length>1?n.children:n.firstChild}var E=/\$\{([^\}]+)\}/,w=null,_={BKSPC:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DEL:46,COMMAND:991},k=Object.create(null);return Object.keys(_).forEach(function(e){k[_[e]]=e}),{$:t,$$:n,$$array:r,node:i,contains:o,bounds:a,empty:s,firstTabbable:c,lastTabbable:u,pixelValueOf:f,stop:y,processTextNodes:d,processDOMNodes:h,addAutoDismiss:m,setFramesEnabled:b,getOffsetParent:v,removeAutoDismiss:g,keyName:x,KEY:_,createNodes:S}}),n("orion/uiUtils",["i18n!orion/nls/messages","orion/webui/littlelib","orion/i18nUtil"],function(e,t,n){function r(n){var r="";if(g)n.mod4&&(r+=""),n.mod3&&(r+=""),n.mod2&&(r+=""),n.mod1&&(r+="");else{var i="+";n.mod1&&(r+=e.KeyCTRL+i),n.mod2&&(r+=e.KeySHIFT+i),n.mod3&&(r+=e.KeyALT+i)}if(n.alphaKey)return r+n.alphaKey;if("keypress"===n.type)return r+n.keyCode;var o=n.keyCode,a=v[o];if(a)return r+a;var s=t.keyName(o);if(s)return s=e["Key"+s]||s,r+s;var l;switch(n.keyCode){case 59:l=n.mod2?":":";";break;case 61:l=n.mod2?"+":"=";break;case 188:l=n.mod2?"<":",";break;case 190:l=n.mod2?">":".";break;case 191:l=n.mod2?"?":"/";break;case 192:l=n.mod2?"~":"`";break;case 219:l=n.mod2?"{":"[";break;case 220:l=n.mod2?"|":"\\";break;case 221:l=n.mod2?"}":"]";break;case 222:l=n.mod2?'"':"'"}return l?r+l:n.keyCode>=112&&n.keyCode<=123?r+"F"+(n.keyCode-111):r+String.fromCharCode(n.keyCode)}function i(e){for(var t="",n=e.getKeys(),i=0;i<n.length;i++)0!==i&&(t+=" "),t+=r(n[i]);return t}function o(e){var n=e.id,r=e.refNode,i=e.hideRefNode,o=e.initialText,a=e.onComplete,s=e.onEditDestroy,l=e.selectTo,c=e.isInitialValid,u=e.insertAsChild,p=!1,f=function(e){return function(l){if(!p){var u=t.node(n),f=u.value;if(u)return e&&l.keyCode===t.KEY.ESCAPE?(i&&(r.style.display="inline"),p=!0,u.parentNode.removeChild(u),void(s&&s())):void(e&&l.keyCode!==t.KEY.ENTER||(0===f.length||!c&&f===o?(i&&(r.style.display="inline"),p=!0):(a(f),i&&r.parentNode&&(r.style.display="inline"),p=!0),u.parentNode&&u.parentNode.removeChild(u),s&&s()))}}},d=document.createElement("input");d.id=n,d.value=o||"",u?r.appendChild(d):r.parentNode.insertBefore(d,r.nextSibling),d.classList.add("userEditBoxPrompt"),i&&(r.style.display="none"),d.addEventListener("keydown",f(!0),!1),d.addEventListener("blur",f(!1),!1),window.setTimeout(function(){if(d.focus(),o){var e=t.node(n),r=l?o.indexOf(l):-1;if(r>0)if(e.createTextRange){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",0),i.moveEnd("character",r),i.select()}else e.setSelectionRange?e.setSelectionRange(0,r):void 0!==e.selectionStart&&(e.selectionStart=0,e.selectionEnd=r);else e.select()}},0)}function a(e){var t=-1!==window.navigator.platform.indexOf("Mac");return t&&e.metaKey||!t&&e.ctrlKey}function s(e,t){t&&a(t)?window.open(e):window.location=e}function l(e,n){var r=document.createElement("button");return r.className="orionButton commandButton commandMargins",r.addEventListener("click",function(e){n(),t.stop(e)},!1),e&&r.appendChild(document.createTextNode(e)),r}function c(){}function u(e,t){if(!e||!e.tagName)return!1;switch(e.tagName.toLowerCase()){case"button":case"fieldset":case"form":case"input":case"keygen":case"label":case"legend":case"meter":case"optgroup":case"output":case"progress":case"select":case"textarea":return!0}return e.parentNode===t?!1:e.parentNode&&u(e.parentNode,t)}function p(e,t,n){var r=n?0:1;return e.substring(0,e.length-encodeURIComponent(t).length-r)}function f(e){var t=new Date,n=new Date(e),r=t.getTime()-n.getTime(),i=Math.floor(r/1e3/60/60/24/365);r-=1e3*i*60*60*24*365;var o=Math.floor(r/1e3/60/60/24/30);r-=1e3*o*60*60*24*30;var a=Math.floor(r/1e3/60/60/24);r-=1e3*a*60*60*24;var s=Math.floor(r/1e3/60/60);r-=1e3*s*60*60;var l=Math.floor(r/1e3/60);r-=1e3*l*60;var c=Math.floor(r/1e3);return{year:i,month:o,day:a,hour:s,minute:l,second:c}}function d(t,r,i){return t>0?1===t?e[r]:n.formatMessage(e[i],t):""}function h(e){var t=f(e),n=d(t.year,"a year","years"),r=d(t.month,"a month","months"),i=d(t.day,"a day","days"),o=d(t.hour,"an hour","hours"),a=d(t.minute,"a minute","minutes"),s="";return n?s=t.year>0?n:n+r:r?s=t.month>0?r:r+i:i?s=t.day>0?i:i+o:o?s=t.hour>0?o:o+a:a&&(s=a),s}function m(t){var r=h(t);return r?n.formatMessage(e.timeAgo,r):e.justNow}var g=-1!==navigator.platform.indexOf("Mac"),v=Object.create(null);return v[t.KEY.DOWN]="",v[t.KEY.UP]="",v[t.KEY.RIGHT]="",v[t.KEY.LEFT]="",g&&(v[t.KEY.BKSPC]="",v[t.KEY.DEL]="",v[t.KEY.END]="",v[t.KEY.ENTER]="",v[t.KEY.ESCAPE]="",v[t.KEY.HOME]="",v[t.KEY.PAGEDOWN]="",v[t.KEY.PAGEUP]="",v[t.KEY.SPACE]="",v[t.KEY.TAB]=""),{getUserKeyString:i,getUserText:o,openInNewWindow:a,followLink:s,createButton:l,createDropdownButton:c,isFormElement:u,path2FolderName:p,timeElapsed:h,displayableTimeElapsed:m}}),n("orion/crawler/searchCrawler",["i18n!orion/crawler/nls/messages","orion/i18nUtil","orion/searchUtils","orion/contentTypes","orion/uiUtils","orion/Deferred"],function(e,t,n,r,i,o){function a(t,r,i,o){this.registry=t,this.fileClient=r,this.fileLocations=[],this.fileSkeleton=[],this._hitCounter=0,this._totalCounter=0,this._searchOnName=o&&o.searchOnName,this._buildSkeletonOnly=o&&o.buildSkeletonOnly,this._fetchChildrenCallBack=o&&o.fetchChildrenCallBack,this._searchParams=i,this.searchHelper=this._searchOnName||this._buildSkeletonOnly||!this._searchParams?null:n.generateSearchHelper(i),this._location=i?i.resource:o&&o.location,this._childrenLocation=o&&o.childrenLocation?o.childrenLocation:this._location,this._reportOnCancel=o&&o.reportOnCancel,this._visitSingleFile=o&&o.visitSingleFile,this._visitSingleFile||(this._visitSingleFile=this._searchSingleFile),this._cancelMessage=o&&o.cancelMessage,this._cancelMessage||(this._cancelMessage=e.searchCancelled),this._cancelled=!1,this._statusService=this.registry.getService("orion.page.message"),this._progressService=this.registry.getService("orion.page.progress"),this._statusService&&this._statusService.setCancelFunction(function(){this._cancelFileVisit()}.bind(this))}var s=!1,l=[".git"];return a.prototype.search=function(e){this.contentTypeService=this.registry.getService("orion.core.contentTypeRegistry"),this._onSearchComplete=e,this._cancelled=!1,this._deferredArray=[];var t;return this.contentTypeService.getContentTypes().then(function(e){this.contentTypesCache=e;var n=this;return this._visitRecursively(this._childrenLocation).then(function(){return(!n._cancelled||n._reportOnCancel)&&(t=n._reportResult()),n._cancelled&&n._HandleStatus({name:"Cancel"}),(new o).resolve(t)}.bind(n),function(e){return t=n._reportResult(),n._HandleStatus(e),(new o).resolve(t)}.bind(n))}.bind(this))},a.prototype.searchName=function(e){e&&(this._searchParams=e,this.searchHelper=n.generateSearchHelper(e,!0));var t=[];if(this._cancelled=!1,this._deferredArray=[],this._sort(this.fileSkeleton),this.fileSkeleton.length>0){for(var r=0;r<this.fileSkeleton.length;r++){var i,a=this.fileSkeleton[r].Name.toLowerCase();if(i=this.searchHelper.inFileQuery.wildCard?n.searchOnelineRegEx(this.searchHelper.inFileQuery,a,!0):n.searchOnelineLiteral(this.searchHelper.inFileQuery,a,!0),i&&(t.push(this.fileSkeleton[r]),t.length>=this.searchHelper.params.rows))break}var s={numFound:t.length,docs:t};return(new o).resolve({response:s})}return(new o).resolve({response:{numFound:0,docs:[]}})},a.prototype.buildSkeleton=function(e,t){this._buildingSkeleton=!0,this.contentTypeService=this.registry.getService("orion.core.contentTypeRegistry"),this._cancelled=!1,this._deferredArray=[];var n=this;e(),this.contentTypeService.getContentTypes().then(function(e){n.contentTypesCache=e,n._visitRecursively(n._childrenLocation).then(function(){n._buildingSkeleton=!1,t()})})},a.prototype.incrementalReport=function(n,r){if(!this._cancelled){n.LastModified=n.LocalTimeStamp,this.fileLocations.push(n),this._hitCounter++,r&&this._sort(this.fileLocations);var i={numFound:this.fileLocations.length,docs:this.fileLocations};this._onSearchComplete({response:i},!0),this._statusService&&this._statusService.setProgressResult({Message:t.formatMessage(e.filesFound,this._hitCounter,this._totalCounter)},e.Cancel)}},a.prototype.addTotalCounter=function(e){e||(e=1),this._totalCounter=this._totalCounter+e},a.prototype.isCancelled=function(){return this._cancelled
},a.prototype._contains=function(e,t){return-1!==(e||[]).indexOf(t)},a.prototype._sort=function(e){e.sort(function(e,t){var n,r;if(this._searchParams&&"Path asc"===this._searchParams.sort){var o=e.Location&&e.Location.toLowerCase();n=i.path2FolderName(o,e.Name&&e.Name.toLowerCase(),!0);var a=t.Location&&t.Location.toLowerCase();return r=i.path2FolderName(a,t.Name&&t.Name.toLowerCase(),!0),r>n?-1:n>r?1:this._sortOnNameSingle(e,t)}return this._sortOnNameSingle(e,t)}.bind(this))},a.prototype._HandleStatus=function(e){this._statusService&&"Cancel"===e.name&&(s&&console.log("Crawling search cancelled. Deferred array length : "+this._deferredArray.length),this._statusService.setProgressResult({Message:this._cancelMessage,Severity:"Warning"}))},a.prototype._reportResult=function(){this._sort(this.fileLocations);var e={numFound:this.fileLocations.length,docs:this.fileLocations},t={response:e};return this._onSearchComplete(t),t},a.prototype._sortOnNameSingle=function(e,t){var n=e.Name&&e.Name.toLowerCase(),r=t.Name&&t.Name.toLowerCase();return r>n?-1:n>r?1:0},a.prototype._fileNameMatches=function(e){var t=!0;return this.searchHelper&&this.searchHelper.params.fileNamePatterns&&(t=this.searchHelper.params.fileNamePatterns.some(function(t){var n="^"+t.replace(/([*?])/g,".$1")+"$";return e.match(n)})),t},a.prototype._visitRecursively=function(e){var t=[],n=this;return this._fetchChildrenCallBack&&this._fetchChildrenCallBack(e),(n._progressService?this._progressService.progress(n.fileClient.fetchChildren(e),"Crawling search for children of "+e):n.fileClient.fetchChildren(e)).then(function(e){for(var i=0;i<e.length;i++)if(void 0!==e[i].Directory&&e[i].Directory===!1){if(n._searchOnName)t.push(n._buildSingleSkeleton(e[i]));else if(n._buildSkeletonOnly)t.push(n._buildSingleSkeleton(e[i]));else if(!n._cancelled){var a=r.getFilenameContentType(e[i].Name,n.contentTypesCache),s=r.isImage(a)||r.isBinary(a);if(!s&&n._fileNameMatches(e[i].Name)){var c=n._visitSingleFile(n,e[i],a);t.push(c),n._deferredArray.push(c)}}}else if(e[i].Location){if(n._cancelled)break;if(n._contains(l,e[i].Name))continue;var u=n._visitRecursively(e[i].ChildrenLocation);t.push(u),n._deferredArray.push(u)}return o.all(t)})},a.prototype._hitOnceWithinFile=function(e){var t,r=this._searchParams.caseSensitive?e:e.toLowerCase();return t=this.searchHelper.inFileQuery.wildCard?n.searchOnelineRegEx(this.searchHelper.inFileQuery,r,!0):n.searchOnelineLiteral(this.searchHelper.inFileQuery,r,!0)},a.prototype._cancelFileVisit=function(){this._cancelled=!0,this._cancelled&&this._deferredArray.forEach(function(e){e.cancel()})},a.prototype._searchSingleFile=function(e,t){this.addTotalCounter();var n=this;if(!this._cancelled)return""!==this.searchHelper.params.keyword?(n._progressService?n._progressService.progress(n.fileClient.read(t.Location),"Reading file "+t.Location):n.fileClient.read(t.Location)).then(function(e){n._hitOnceWithinFile(e)&&n.incrementalReport(t,!0)},function(e){e&&e.message&&"cancel"!==e.message.toLowerCase()&&console.error("Error loading file content: "+e.message)}):void this.incrementalReport(t,!0)},a.prototype._buildSingleSkeleton=function(e){this.addTotalCounter(),this.fileSkeleton.push(e);var t=new o;return t.resolve(this._totalCounter),t},a.prototype.constructor=a,{SearchCrawler:a}}),n("orion/gSearchClient",["orion/fileClient","orion/Deferred","orion/crawler/searchCrawler","orion/searchUtils"],function(e,t,n,r){function i(e,t,n){var r=e.getService("orion.page.progress");return r?r.progress(t,n):t}function o(t){this._registry=t.serviceRegistry,this._fileClient=t.fileClient,this._fileClient||(this._fileClient=new e.FileClient(this._registry))}return o.prototype={search:function(e,n,r){var o=new t;try{this._searchDeferred=this._fileClient.search(e),i(this._registry,this._searchDeferred,"Searching "+e.keyword).then(function(t){this._searchDeferred=null;var i=this.convert(t,e);this._generateMatches(e,i,n).then(function(){this._generateMeta(i,r).then(function(){o.resolve(i)})}.bind(this))}.bind(this),function(e){this._searchDeferred=null,o.reject(e)}.bind(this))}catch(a){var s=a.message||a;if(!("string"==typeof s&&s.toLowerCase().indexOf("search")>-1))throw s;this._crawler||(this._crawler=this._createCrawler(e)),e.nameSearch?this._crawler.searchName(e).then(function(t){this._searchDeferred=null,o.resolve(this.convert(t,e))}.bind(this)):this._crawler.search(function(){o.progress(arguments[0],arguments[1])}).then(function(t){this._searchDeferred=null,o.resolve(this.convert(t,e))}.bind(this))}return o},_generateSingle:function(e,t){return this._fileClient.read(e.location).then(function(n){return r.searchWithinFile(t.inFileQuery,e,n,!1,t.params.caseSensitive,!0),e}.bind(this),function(e){var t=this._registry.getService("orion.page.message");t&&t.setProgressResult({Message:e.message,Severity:"Error"})}.bind(this))},_generateMatches:function(e,n,i){if(!i||0===n.length)return(new t).resolve(n);var o=r.generateSearchHelper(e),a=[];return n.forEach(function(e){a.push(this._generateSingle(e,o))}.bind(this)),t.all(a,function(e){return{_error:e}})},_generateSingleMeta:function(e){return this._fileClient.read(e.location,!0).then(function(t){return e.metadata=t,e}.bind(this),function(e){var t=this._registry.getService("orion.page.message");t&&t.setProgressResult({Message:e.message,Severity:"Error"})}.bind(this))},_generateMeta:function(e,n){if(!n||0===e.length)return(new t).resolve(e);var r=[];return e.forEach(function(e){r.push(this._generateSingleMeta(e))}.bind(this)),t.all(r,function(e){return{_error:e}})},convert:function(e,t){var n=[],r=this._fileClient.fileServiceRootURL(t.resource);if(e.response.numFound>0)for(var i=0;i<e.response.docs.length;i++){var o=e.response.docs[i];if(!o.Directory){var a=o.Location,s=o.Path;s||(s=a.substring(r?r.length:0)),n.push({location:a,path:s,name:o.Name})}}return n},cancel:function(){return this._searchDeferred?this._searchDeferred.cancel():(new t).resolve()},_createCrawler:function(e,t){return this._crawler=new n.SearchCrawler(this._registry,this._fileClient,e,t),this._crawler}},o.prototype.constructor=o,{GSearchClient:o}}),n("orion/editor/stylers/application_json/syntax",["orion/editor/stylers/lib/syntax"],function(e){var t=["false","true"],n=[];return n.push.apply(n,e.grammars),n.push({id:"orion.json",contentTypes:["application/json"],patterns:[{include:"orion.lib#string_doubleQuote"},{include:"orion.lib#string_singleQuote"},{include:"orion.lib#brace_open"},{include:"orion.lib#brace_close"},{include:"orion.lib#bracket_open"},{include:"orion.lib#bracket_close"},{include:"orion.lib#parenthesis_open"},{include:"orion.lib#parenthesis_close"},{include:"orion.lib#number_decimal"},{include:"orion.lib#number_hex"},{match:"\\b(?:"+t.join("|")+")\\b",name:"keyword.operator.json"}]}),{id:n[n.length-1].id,grammars:n,keywords:t}}),n("orion/editor/stylers/application_schema_json/syntax",["orion/editor/stylers/application_json/syntax"],function(e){var t=["additionalItems","additionalProperties","allOf","anyOf","default","definitions","dependencies","description","enum","exclusiveMaximum","exclusiveMinimum","format","id","maximum","maxItems","maxLength","maxProperties","minimum","minItems","minLength","minProperties","multipleOf","not","oneOf","patternProperties","pattern","properties","required","title","type","uniqueItems"],n=[];return n.push.apply(n,e.grammars),n.push({id:"orion.json.schema",contentTypes:["application/schema+json"],patterns:[{include:"orion.json"},{match:"(?:\\$schema|(?:\\b(?:"+t.join("|")+")))\\b",name:"keyword.operator.schema.json"}]}),{id:n[n.length-1].id,grammars:n,keywords:t}}),n("orion/editor/stylers/application_xml/syntax",["orion/editor/stylers/lib/syntax"],function(e){var t=[];return t.push.apply(t,e.grammars),t.push({id:"orion.xml",contentTypes:["application/xml","application/xhtml+xml"],patterns:[{include:"#comment"},{include:"#doctype"},{include:"#xmlDeclaration"},{include:"#tag"},{include:"#ampersandEscape"}],repository:{ampersandEscape:{match:"&lt;|&gt;|&amp;",name:"constant.character"},comment:{begin:{match:"<!--",literal:"<!--"},end:{match:"-->",literal:"-->"},name:"comment.block.xml",patterns:[{match:"(\\b)(TODO)(\\b)(((?!-->).)*)",name:"meta.annotation.task.todo",captures:{2:{name:"keyword.other.documentation.task"},4:{name:"comment.line"}}}]},doctype:{begin:"<!(?:doctype|DOCTYPE)",end:">",name:"meta.tag.doctype.xml",captures:{0:{name:"meta.tag.doctype.xml"}},patterns:[{include:"#comment"},{include:"orion.lib#string_doubleQuote"},{include:"orion.lib#string_singleQuote"}]},tag:{begin:"</?[A-Za-z0-9]+",end:"/?>",captures:{0:{name:"meta.tag.xml"}},patterns:[{include:"#comment"},{include:"orion.lib#string_doubleQuote"},{include:"orion.lib#string_singleQuote"}]},xmlDeclaration:{begin:"<\\?xml",end:"\\?>",captures:{0:{name:"meta.tag.declaration.xml"}},patterns:[{include:"#comment"},{include:"orion.lib#string_doubleQuote"},{include:"orion.lib#string_singleQuote"}],name:"meta.tag.declaration.xml"}}}),{id:t[t.length-1].id,grammars:t,keywords:[]}}),n("orion/editor/stylers/application_x-ejs/syntax",["orion/editor/stylers/application_javascript/syntax","orion/editor/stylers/application_xml/syntax"],function(e,t){var n=[];return n.push.apply(n,e.grammars),n.push.apply(n,t.grammars),n.push({id:"orion.ejs",contentTypes:["application/x-ejs"],patterns:[{include:"orion.xml#comment"},{include:"orion.xml#doctype"},{begin:"<%=?(?:\\s|$)",end:"%>",captures:{0:{name:"entity.name.declaration.js"}},contentName:"source.js.embedded.ejs",patterns:[{include:"orion.js"}]},{include:"orion.xml#tag"},{include:"orion.xml#ampersandEscape"}]}),{id:n[n.length-1].id,grammars:n,keywords:[]}}),function(){function e(e){if("string"!=typeof e)throw new TypeError}function t(e){return e?e.split("&"):[]}function n(e){return 0===e.length?"":e.join("&")}function r(e){var t=/([^=]*)(?:=?)(.*)/.exec(e),n=t[1]?decodeURIComponent(t[1]):"",r=t[2]?decodeURIComponent(t[2]):"";return[n,r]}function i(e){var t=encodeURIComponent(e[0]);return e[1]&&(t+="="+encodeURIComponent(e[1])),t}function o(e,n){var i="",o=[],a=0;return{next:function(){if(i!==e.query&&(i=e.query,o=t(i)),a<o.length){var s=r(o[a++]);switch(n){case"keys":return s[0];case"values":return s[1];case"keys+values":return[s[0],s[1]];default:throw new TypeError}}throw A}}}function a(e){Object.defineProperty(this,"_url",{get:function(){return e._url}})}function s(e,t){if(!e.scheme&&t&&(e.scheme=t.scheme,!e.host&&t.host&&(e.userinfo=t.userinfo,e.host=t.host,e.port=t.port,e.pathRelative=!0)),e.pathRelative)if(e.path){if("/"!==e.path[0]){var n=/^(.*\/)[^\/]*$/.exec(t.path)[1]||"/";e.path=n+e.path}}else e.path=t.path}function l(e){return e.toLowerCase()}function c(e){return e?/[1-9]\d*$/.exec(e)[0]:""}function u(e){var t=[];return e.split("/").forEach(function(e){".."===e?t.length>1&&t.pop():"."!==e&&t.push(e)}),t.join("/")}function p(e){e.scheme&&(e.scheme=l(e.scheme)),e.port&&(e.port=c(e.port)),e.host&&e.path&&(e.path=u(e.path))}function f(e){return e.replace(/\s/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}function d(e,t){if("string"!=typeof e)throw new TypeError;e=f(e);var n=y.exec(e);if(!n)return null;var r={};if(r.scheme=n[1]||"",r.scheme&&!S.test(r.scheme))return null;var i=n[2];if(i){var o=b.exec(i);if(r.userinfo=o[1],r.host=o[2],r.port=o[3],r.port&&!E.test(r.port))return null}return r.path=n[3],r.query=n[4],r.fragment=n[5],s(r,t),p(r),r}function h(e){var t=e.scheme?e.scheme+":":"";return e.host&&(t+="//",e.userinfo&&(t+=e.userinfo+"@"),t+=e.host,e.port&&(t+=":"+e.port)),t+=e.path,e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t}function m(e,t){var n;if(t){if(t=t.href||t,n=d(t),!n||!n.scheme)throw new SyntaxError;Object.defineProperty(this,"_baseURL",{value:n})}var r=d(e,n);if(!r)throw new SyntaxError;Object.defineProperty(this,"_input",{value:e,writable:!0}),Object.defineProperty(this,"_url",{value:r,writable:!0});var i=new a(this);Object.defineProperty(this,"query",{get:function(){return this._url?i:null},enumerable:!0})}try{var g;if("function"==typeof self.URL&&0!==self.URL.length&&"http:"===(g=new self.URL("http://www.w3.org?q")).protocol&&g.query)return}catch(v){}var y=/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?$/,b=/^(?:(.*)@)?(\[[^\]]*\]|[^:]*)(?::(.*))?$/,x=/^\S*$/,S=/^([a-zA-Z](?:[a-zA-Z0-9+-.])*)$/,E=/^\d*$/,w=/^(\[[^\]\/?#\s]*\]|[^:\/?#\s]*)$/,_=/^(\[[^\]\/?#\s]*\]|[^:\/?#\s]*)(?::(\d*))?$/,k=/^([^?#\s]*)$/,C=/^([^\s]*)$/,T=x,L=/([^:]*):?(.*)/,A="undefined"!=typeof StopIteration?StopIteration:new Error("Stop Iteration"),P={"ftp:":"21","gopher:":"70","http:":"80","https:":"443","ws:":"80","wss:":"443"};Object.defineProperties(a.prototype,{get:{value:function(n){e(n);var i,o=t(this._url.query);return o.some(function(e){var t=r(e);return t[0]===n?(i=t[1],!0):void 0}),i},enumerable:!0},set:{value:function(o,a){e(o),e(a);var s=t(this._url.query),l=s.some(function(e,t){var n=r(e);return n[0]===o?(n[1]=a,s[t]=i(n),!0):void 0});l||s.push(i([o,a])),this._url.query=n(s)},enumerable:!0},has:{value:function(n){e(n);var i=t(this._url.query);return i.some(function(e){var t=r(e);return t[0]===n?!0:void 0})},enumerable:!0},"delete":{value:function(i){e(i);var o=t(this._url.query),a=o.filter(function(e){var t=r(e);return t[0]!==i});return a.length!==o.length?(this._url.query=n(a),!0):!1},enumerable:!0},clear:{value:function(){this._url.query=""},enumerable:!0},forEach:{value:function(e,t){if("function"!=typeof e)throw new TypeError;var n=o(this._url,"keys+values");try{for(;;){var r=n.next();e.call(t,r[1],r[0],this)}}catch(i){if(i!==A)throw i}},enumerable:!0},keys:{value:function(){return o(this._url,"keys")},enumerable:!0},values:{value:function(){return o(this._url,"values")},enumerable:!0},items:{value:function(){return o(this._url,"keys+values")}},size:{get:function(){return t(this._url.query).length},enumerable:!0},getAll:{value:function(n){e(n);var i=[],o=t(this._url.query);return o.forEach(function(e){var t=r(e);t[0]===n&&i.push(t[1])}),i},enumerable:!0},append:{value:function(r,o){e(r),e(o);var a=t(this._url.query);a.push(i([r,o])),this._url.query=n(a)},enumerable:!0}}),Object.defineProperties(m.prototype,{toString:{value:function(){return this.href}},href:{get:function(){return this._url?h(this._url):this._input},set:function(t){e(t),this._input=t,this._url=d(this._input,this._baseURL)},enumerable:!0},origin:{get:function(){return this._url&&this._url.host?this.protocol+"//"+this.host:""},enumerable:!0},protocol:{get:function(){return this._url?this._url.scheme+":":":"},set:function(t){if(e(t),this._url){var n=":"===t.slice(-1)?t.substring(0,t.length-1):t;(""===n||S.test(n))&&(this._url.scheme=l(n))}},enumerable:!0},_userinfo:{get:function(){return this._url?this._url.userinfo:""},set:function(t){e(t),this._url&&(this._url.userinfo=t)}},username:{get:function(){if(!this._url)return"";var e=L.exec(this._userinfo),t=decodeURIComponent(e[1]||"");return t},set:function(t){if(e(t),this._url){var n=L.exec(this._userinfo),r=[encodeURIComponent(t||"")];n[2]&&r.push(n[2]),this._userinfo=r.join(":")}},enumerable:!0},password:{get:function(){if(!this._url)return"";var e=L.exec(this._userinfo),t=decodeURIComponent(e[2]||"");return t},set:function(t){if(e(t),this._url){var n=L.exec(this._userinfo),r=[n[1]||""];t&&r.push(encodeURIComponent(t)),this._userinfo=r.join(":")}},enumerable:!0},host:{get:function(){var e="";return this._url&&this._url.host&&(e+=this._url.host,this._url.port&&(e+=":"+this._url.port)),e},set:function(t){if(e(t),this._url){var n=_.exec(t);n&&(this._url.host=n[1],this._url.port=c(n[2]))}},enumerable:!0},hostname:{get:function(){return this._url?this._url.host:""},set:function(t){if(e(t),this._url){var n=w.exec(t);n&&(this._url.host=t)}},enumerable:!0},port:{get:function(){var e=this._url?this._url.port||"":"";return e&&e===P[this.protocol]&&(e=""),e},set:function(t){if(e(t),this._url){var n=E.exec(t);n&&(this._url.port=c(t))}},enumerable:!0},pathname:{get:function(){return this._url?this._url.path:""},set:function(t){if(e(t),this._url){var n=k.exec(t);n&&(this._url.host&&t&&"/"!==t[0]&&(t="/"+t),this._url.path=t?u(t):"")}},enumerable:!0},search:{get:function(){return this._url&&this._url.query?"?"+this._url.query:""},set:function(t){if(e(t),this._url){t&&"?"===t[0]&&(t=t.substring(1));var n=C.exec(t);n&&(this._url.query=t)}},enumerable:!0},hash:{get:function(){return this._url&&this._url.fragment?"#"+this._url.fragment:""},set:function(t){if(e(t),this._url){t&&"#"===t[0]&&(t=t.substring(1));var n=T.exec(t);n&&(this._url.fragment=t)}},enumerable:!0}});var j=self.URL||self.webkitURL;j&&j.createObjectURL&&(Object.defineProperty(m,"createObjectURL",{value:j.createObjectURL.bind(j),enumerable:!1}),Object.defineProperty(m,"revokeObjectURL",{value:j.revokeObjectURL.bind(j),enumerable:!1})),self.URL=m}(),n("orion/URL-shim",function(){}),n("javascript/plugins/javascriptPlugin",["orion/plugin","orion/bootstrap","orion/Deferred","orion/fileClient","orion/metrics","esprima/esprima","estraverse/estraverse","javascript/scriptResolver","javascript/astManager","javascript/quickFixes","javascript/contentAssist/ternAssist","javascript/validator","javascript/occurrences","javascript/hover","javascript/outliner","javascript/cuProvider","javascript/ternProjectManager","orion/util","javascript/logger","javascript/commands/generateDocCommand","javascript/commands/openDeclaration","javascript/commands/openImplementation","javascript/commands/renameCommand","javascript/commands/refsCommand","orion/gSearchClient","orion/editor/stylers/application_javascript/syntax","orion/editor/stylers/application_json/syntax","orion/editor/stylers/application_schema_json/syntax","orion/editor/stylers/application_x-ejs/syntax","i18n!javascript/nls/messages","orion/URL-shim"],function(e,t,n,r,i,o,a,s,l,c,u,p,f,d,h,m,g,v,y,b,x,S,E,w,_,k,C,T,L,A){var P=new e({name:A.pluginName,version:"1.0",description:A.pluginDescription});t.startup().then(function(e){function t(e,t,n){var r=new URL(e,window.location.href);r.query.set("worker-language",navigator.language),this.worker=new Worker(r.href),this.worker.onmessage=t.bind(this),this.worker.onerror=n.bind(this),this.worker.postMessage("start_worker"),this.messageId=0,this.callbacks=Object.create(null)}function j(e){var t={request:"read",ternID:e.ternID,args:{}};if("object"==typeof e.args.file){var n=e.args.file.logical;t.args.logical=n,R.getWorkspaceFile(n).then(function(r){if(r&&r.length>0){var i=R.resolveRelativeFiles(n,r,{location:e.args.file.file,contentType:{name:"JavaScript"}});if(i&&i.length>0)return N.read(i[0].location).then(function(e){t.args.contents=e,t.args.file=i[0].location,t.args.path=i[0].path,G.postMessage(t)});t.args.error="Failed to read file "+n,G.postMessage(t)}else t.args.error="Failed to read file "+n,G.postMessage(t)},function(e){t.args.error="Failed to read file "+n,t.args.message=e.toString(),G.postMessage(t)})}else{var r=e.args.file;t.args.file=r;try{return N.read(r).then(function(e){t.args.contents=e,G.postMessage(t)},function(e){t.args.message=e.toString(),t.args.error="Failed to read file "+r,G.postMessage(t)})}catch(i){t.args.message=i.toString(),t.args.error="Failed to read file "+r,G.postMessage(t)}}}function F(){G.startServer()}function O(){function e(e){var n=e.keys();for(t=0,r=n.length;r>t;t++){var i=n[t];/^tern.$/.test(i)&&e.remove(n[t])}e.sync(!0)}M=!0;for(var t=0,r=V.length;r>t;t++){var i=V[t];G.postMessage(i.msg,i.f)}V=[],G.postMessage({request:"installed_plugins"},function(r){var i=r.plugins;return U?U.getPreferences("/cm/configurations").then(function(n){var r=n.get("tern");e(n),r?"string"==typeof r&&(r=JSON.parse(r)):r=Object.create(null);var o=Object.keys(i),a=r.plugins?r.plugins:Object.create(null);for(t=0;t<o.length;t++){var s=o[t];/^orion/.test(s)&&delete a[s],a[s]=i[s]}r.plugins=a,n.put("tern",JSON.stringify(r)),n.sync(!0)}):(new n).resolve()})}function I(){var e=new n;return $?e.resolve($):(G.postMessage({request:"environments"},function(t){$=t.envs,e.resolve(t.envs)}),e)}P.registerService("orion.core.contenttype",{},{contentTypes:[{id:"application/javascript","extends":"text/plain",name:"JavaScript",extension:["js"],imageClass:"file-sprite-javascript modelDecorationSprite"},{id:"application/json","extends":"text/plain",name:"JSON",extension:["json","pref","tern-project"],imageClass:"file-sprite-javascript modelDecorationSprite"},{id:"application/x-ejs","extends":"text/plain",name:"Embedded Javascript",extension:["ejs"],imageClass:"file-sprite-javascript modelDecorationSprite"}]}),i.initFromRegistry(e.serviceRegistry),a.VisitorKeys.RecoveredNode=[];var N=new r.FileClient(e.serviceRegistry),R=new s.ScriptResolver(N),D=new l.ASTManager(o),M=!1,V=[];t.prototype.startServer=function(e){M=!1,this.shared?this.worker.port.postMessage({request:"start_server",args:{options:e}}):this.worker.postMessage({request:"start_server",args:{options:e}})},t.prototype.postMessage=function(e,t){M?(null!=e&&"object"==typeof e&&"number"!=typeof e.messageID&&"number"!=typeof e.ternID&&(e.messageID=this.messageId++,this.callbacks[e.messageID]=t),this.shared?this.worker.port.postMessage(e):this.worker.postMessage(e)):V.push({msg:e,f:t})};var $,U=e.serviceRegistry.getService("orion.core.preference"),B={read:j,worker_ready:F,server_ready:O},G=new t("ternWorker.js",function(e){var t=e.data;if("object"==typeof t){var n=t.messageID,r=this.callbacks[n];"function"==typeof r&&(r(t,t.error),delete this.callbacks[n]);var i=B[t.request];"function"==typeof i&&i(t)}else"string"==typeof e.data&&(i=B[e.data],"function"==typeof i&&i(t))},function(e){y.log(e)});P.registerService("orion.edit.contentassist",new u.TernContentAssist(D,G,I,m),{contentType:["application/javascript","text/html"],nls:"javascript/nls/messages",name:"ternContentAssist",id:"orion.edit.contentassist.javascript.tern",charTriggers:"[.]",excludedStyles:"(string.*)"}),P.registerService("orion.edit.outliner",new h.JSOutliner(D),{contentType:["application/javascript"],name:A.sourceOutline,title:A.sourceOutlineTitle,id:"orion.javascript.outliner.source"}),P.registerService("orion.edit.occurrences",new f.JavaScriptOccurrences(D,m),{contentType:["application/javascript","text/html"]}),P.registerService("orion.edit.hover",new d.JavaScriptHover(D,R,G,m),{name:A.jsHover,contentType:["application/javascript","text/html"]});var W=new p(D,m);if(P.registerService("orion.edit.validator",W,{contentType:["application/javascript","text/html"],pid:"eslint.config"}),P.registerService("orion.edit.model",{onModelChanging:D.onModelChanging.bind(D),onInputChanged:D.onInputChanged.bind(D)},{contentType:["application/javascript","text/html"],types:["ModelChanging","onInputChanged"]}),"true"===localStorage.getItem("ternProject")){var q=new g.TernProjectManager(G,R,N);P.registerService("orion.edit.model",{onInputChanged:q.onInputChanged.bind(q)},{contentType:["application/javascript","application/json","text/html"],types:["onInputChanged"]})}if(P.registerService("orion.edit.model",{onModelChanging:m.onModelChanging.bind(m),onInputChanged:m.onInputChanged.bind(m)},{contentType:["text/html"],types:["ModelChanging","onInputChanged"]}),P.registerServiceProvider("orion.edit.command",new b.GenerateDocCommand(D,m),{name:A.generateDocName,tooltip:A.generateDocTooltip,id:"generate.js.doc.comment",key:["j",!1,!0,!v.isMac,v.isMac],contentType:["application/javascript","text/html"]}),P.registerServiceProvider("orion.edit.command",new x.OpenDeclarationCommand(D,G,m,"replace"),{name:A.openDeclName,tooltip:A.openDeclTooltip,id:"open.js.decl",key:[114,!1,!1,!1,!1],contentType:["application/javascript","text/html"]}),P.registerServiceProvider("orion.edit.command.category",{},{id:"js.references",name:A.referencesMenuName,tooltip:A.referencesMenuTooltip}),"true"===localStorage.getItem("darklaunch")){var H=new w(G,D,R,m,new _.GSearchClient({serviceRegistry:e.serviceRegistry,fileClient:N}));P.registerServiceProvider("orion.edit.command",{execute:function(e,t){return t.kind="project",H.execute(e,t)}},{name:A.projectRefsName,tooltip:A.projectRefsTooltip,parentPath:"js.references",id:"project.js.refs",key:["y",!0,!0,!1,!1],contentType:["application/javascript","text/html"]}),P.registerServiceProvider("orion.edit.command",{execute:function(e,t){return t.kind="workspace",H.execute(e,t)}},{name:A.workspaceRefsName,tooltip:A.workspaceRefsTooltip,parentPath:"js.references",id:"workspace.js.refs",contentType:["application/javascript","text/html"]})}P.registerServiceProvider("orion.edit.command",new S.OpenImplementationCommand(D,G,m),{name:A.openImplName,tooltip:A.openImplTooltip,id:"open.js.impl",contentType:["application/javascript","text/html"],key:[114,!0,!1,!1,!1]}),P.registerServiceProvider("orion.edit.command",new E.RenameCommand(D,G,R,m),{name:A.renameElement,tooltip:A.renameElementTooltip,id:"rename.js.element",key:["R",!1,!0,!v.isMac,v.isMac],contentType:["application/javascript","text/html"]});var K=new c.JavaScriptQuickfixes(D);P.registerServiceProvider("orion.edit.command",K,{name:A.removeExtraSemiFixName,scopeId:"orion.edit.quickfix",id:"rm.extra.semi.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:no-extra-semi)$"}]}),P.registerServiceProvider("orion.edit.command",K,{name:A.addFallthroughCommentFixName,scopeId:"orion.edit.quickfix",id:"add.fallthrough.comment.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:no-fallthrough)$"}]}),P.registerServiceProvider("orion.edit.command",{execute:function(e,t){return"no-fallthrough"===t.annotation.id&&(t.annotation.fixid="no-fallthrough-break"),K.execute(e,t)}},{name:A.addBBreakFixName,scopeId:"orion.edit.quickfix",id:"add.fallthrough.break.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:no-fallthrough)$"}]}),P.registerServiceProvider("orion.edit.command",K,{name:A.addEmptyCommentFixName,scopeId:"orion.edit.quickfix",id:"add.empty.comment.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:no-empty-block)$"}]}),P.registerServiceProvider("orion.edit.command",K,{name:A.addESLintEnvFixName,scopeId:"orion.edit.quickfix",id:"add.eslint-env.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:no-undef-defined-inenv)$"}]}),P.registerServiceProvider("orion.edit.command",K,{name:A.noReservedKeysFixName,scopeId:"orion.edit.quickfix",id:"update.reserved.property.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:no-reserved-keys)$"}]}),P.registerServiceProvider("orion.edit.command",K,{name:A.useIsNanFixName,scopeId:"orion.edit.quickfix",id:"use.isnan.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:use-isnan)$"}]}),P.registerServiceProvider("orion.edit.command",K,{name:A.addESLintGlobalFixName,scopeId:"orion.edit.quickfix",id:"add.eslint-global.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:no-undef-defined)$"}]}),P.registerServiceProvider("orion.edit.command",{execute:function(e,t){return"no-unused-params-expr"===t.annotation.id&&(t.annotation.fixid="no-unused-params"),K.execute(e,t)}},{name:A.removeUnusedParamsFixName,scopeId:"orion.edit.quickfix",id:"remove.unused.param.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:no-unused-params|no-unused-params-expr)$"}]}),P.registerServiceProvider("orion.edit.command",K,{name:A.commentCallbackFixName,scopeId:"orion.edit.quickfix",id:"comment.callback.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:no-unused-params-expr)$"}]}),P.registerServiceProvider("orion.edit.command",K,{name:A.eqeqeqFixName,scopeId:"orion.edit.quickfix",id:"eqeqeq.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:eqeqeq)$"}]}),P.registerServiceProvider("orion.edit.command",K,{name:A.unreachableFixName,scopeId:"orion.edit.quickfix",id:"remove.unreachable.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:no-unreachable)$"}]}),P.registerServiceProvider("orion.edit.command",K,{name:A.sparseArrayFixName,scopeId:"orion.edit.quickfix",id:"sparse.array.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:no-sparse-arrays)$"}]}),P.registerServiceProvider("orion.edit.command",K,{name:A.semiFixName,scopeId:"orion.edit.quickfix",id:"semi.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:semi)$"}]}),P.registerServiceProvider("orion.edit.command",K,{name:A.unusedVarsUnusedFixName,scopeId:"orion.edit.quickfix",id:"unused.var.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:no-unused-vars-unused)$"}]}),P.registerServiceProvider("orion.edit.command",K,{name:A.unusedFuncDeclFixName,scopeId:"orion.edit.quickfix",id:"unused.func.decl.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:no-unused-vars-unused-funcdecl)$"}]}),P.registerServiceProvider("orion.edit.command",K,{name:A.noCommaDangleFixName,scopeId:"orion.edit.quickfix",id:"no.comma.dangle.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:no-comma-dangle)$"}]}),P.registerServiceProvider("orion.edit.command",K,{name:A.noThrowLiteralFixName,scopeId:"orion.edit.quickfix",id:"no.throw.literal.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:no-throw-literal)$"}]}),P.registerServiceProvider("orion.edit.command",K,{name:A.missingNlsFixName,scopeId:"orion.edit.quickfix",id:"missing.nls.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:missing-nls)$"}]}),P.registerServiceProvider("orion.edit.command",K,{name:A.noNewArrayFixName,scopeId:"orion.edit.quickfix",id:"no.new.array.literal.fix",contentType:["application/javascript","text/html"],validationProperties:[{source:"annotation:id",match:"^(?:no-new-array)$"}]}),P.registerService("orion.cm.managedservice",W,{pid:"eslint.config"}),P.registerService("orion.cm.managedservice",W,{pid:"eslint.config.potential"}),P.registerService("orion.cm.managedservice",W,{pid:"eslint.config.practices"}),P.registerService("orion.cm.managedservice",W,{pid:"eslint.config.codestyle"});var z=0,J=1,Q=2,Y=[{label:A.ignore,value:z},{label:A.warning,value:J},{label:A.error,value:Q}];P.registerService("orion.core.setting",{},{settings:[{pid:"eslint.config.potential",order:1,name:A.prefPotentialProblems,tags:"validation javascript js eslint".split(" "),category:"javascript",categoryLabel:A.javascriptValidation,properties:[{id:"no-cond-assign",name:A.noCondAssign,type:"number",defaultValue:Q,options:Y},{id:"no-constant-condition",name:A.noConstantCondition,type:"number",defaultValue:Q,options:Y},{id:"no-console",name:A.noConsole,type:"number",defaultValue:Q,options:Y},{id:"no-debugger",name:A.noDebugger,type:"number",defaultValue:J,options:Y},{id:"no-dupe-keys",name:A.noDupeKeys,type:"number",defaultValue:Q,options:Y},{id:"valid-typeof",name:A.validTypeof,type:"number",defaultValue:Q,options:Y},{id:"no-regex-spaces",name:A.noRegexSpaces,type:"number",defaultValue:Q,options:Y},{id:"use-isnan",name:A.useIsNaN,type:"number",defaultValue:Q,options:Y},{id:"no-reserved-keys",name:A.noReservedKeys,type:"number",defaultValue:Q,options:Y},{id:"no-sparse-arrays",name:A.noSparseArrays,type:"number",defaultValue:J,options:Y},{id:"no-fallthrough",name:A.noFallthrough,type:"number",defaultValue:Q,options:Y},{id:"no-comma-dangle",name:A.noCommaDangle,type:"number",defaultValue:z,options:Y},{id:"no-empty-block",name:A.noEmptyBlock,type:"number",defaultValue:z,options:Y},{id:"no-extra-semi",name:A.unnecessarySemis,type:"number",defaultValue:J,options:Y},{id:"no-unreachable",name:A.noUnreachable,type:"number",defaultValue:Q,options:Y}]},{pid:"eslint.config.practices",order:2,name:A.prefBestPractices,tags:"validation javascript js eslint".split(" "),category:"javascript",categoryLabel:A.javascriptValidation,properties:[{id:"no-caller",name:A.noCaller,type:"number",defaultValue:J,options:Y},{id:"eqeqeq",name:A.noEqeqeq,type:"number",defaultValue:J,options:Y},{id:"no-eval",name:A.noEval,type:"number",defaultValue:z,options:Y},{id:"no-implied-eval",name:A.noImpliedEval,type:"number",defaultValue:z,options:Y},{id:"no-iterator",name:A.noIterator,type:"number",defaultValue:Q,options:Y},{id:"no-new-array",name:A.noNewArray,type:"number",defaultValue:J,options:Y},{id:"no-new-func",name:A.noNewFunc,type:"number",defaultValue:J,options:Y},{id:"no-new-object",name:A.noNewObject,type:"number",defaultValue:J,options:Y},{id:"no-proto",name:A.noProto,type:"number",defaultValue:Q,options:Y},{id:"no-with",name:A.noWith,type:"number",defaultValue:J,options:Y},{id:"no-new-wrappers",name:A.noNewWrappers,type:"number",defaultValue:J,options:Y},{id:"no-undef-init",name:A.noUndefInit,type:"number",defaultValue:J,options:Y},{id:"no-shadow-global",name:A.noShadowGlobals,defaultValue:J,type:"number",options:Y},{id:"no-use-before-define",name:A.useBeforeDefine,type:"number",defaultValue:J,options:Y},{id:"radix",name:A.radix,type:"number",defaultValue:J,options:Y},{id:"no-throw-literal",name:A.noThrowLiteral,type:"number",defaultValue:J,options:Y},{id:"curly",name:A.missingCurly,type:"number",defaultValue:z,options:Y},{id:"no-undef",name:A.undefMember,type:"number",defaultValue:Q,options:Y},{id:"no-unused-params",name:A.unusedParams,type:"number",defaultValue:J,options:Y},{id:"no-unused-vars",name:A.unusedVars,type:"number",defaultValue:J,options:Y},{id:"no-redeclare",name:A.varRedecl,type:"number",defaultValue:J,options:Y},{id:"no-shadow",name:A.varShadow,type:"number",defaultValue:J,options:Y}]},{pid:"eslint.config.codestyle",order:3,name:A.prefCodeStyle,tags:"validation javascript js eslint".split(" "),category:"javascript",categoryLabel:A.javascriptValidation,properties:[{id:"missing-doc",name:A.missingDoc,type:"number",defaultValue:z,options:Y},{id:"new-parens",name:A.newParens,type:"number",defaultValue:Q,options:Y},{id:"semi",name:A.missingSemi,type:"number",defaultValue:J,options:Y},{id:"missing-nls",name:A.missingNls,type:"number",defaultValue:z,options:Y},{id:"no-jslint",name:A.unsupportedJSLint,type:"number",defaultValue:J,options:Y}]}]});
var Z={};k.grammars.forEach(function(e){Z[e.id]=e}),C.grammars.forEach(function(e){Z[e.id]=e}),T.grammars.forEach(function(e){Z[e.id]=e}),L.grammars.forEach(function(e){Z[e.id]=e});for(var X in Z)Z.hasOwnProperty(X)&&P.registerService("orion.edit.highlighter",{},Z[X]);P.connect()})}),t("javascript/plugins/javascriptPlugin")});